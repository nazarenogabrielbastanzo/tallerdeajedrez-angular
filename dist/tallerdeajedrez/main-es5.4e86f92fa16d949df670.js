function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _construct(t,e,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("os0x"),a=n("q/0M"),u=n("zVF4"),l=n("S+S0"),c=n("x7I3"),h=o.SDK_VERSION,f=new a.Logger("@firebase/firestore");function d(){return f.logLevel===a.LogLevel.DEBUG?i.DEBUG:f.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function p(t){switch(t){case i.DEBUG:f.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:f.logLevel=a.LogLevel.ERROR;break;case i.SILENT:f.logLevel=a.LogLevel.SILENT;break;default:f.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function v(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(f.logLevel<=a.LogLevel.DEBUG){var i=n.map(m);f.debug.apply(f,s.__spreadArrays(["Firestore ("+h+") ["+t+"]: "+e],i))}}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=a.LogLevel.ERROR){var r=e.map(m);f.error.apply(f,s.__spreadArrays(["Firestore ("+h+"): "+t],r))}}function m(t){if("string"==typeof t)return t;var e=xn.t();try{return e.i(t)}catch(e){return t}}function g(t){var e="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+t;throw y(e),new Error(e)}function _(t,e){t||g(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return _(20===e.length,"Invalid auto ID: "+e),e},t}();function w(t,e){return t<e?-1:t>e?1:0}function k(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function C(t){return t+"\0"}var E=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},S="(default)",T=function(){function t(t,e){this.projectId=t,this.database=e||S}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database===S},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}(),I=function(){function t(t){this.uid=t}return t.prototype.l=function(){return null!=this.uid},t.prototype.v=function(){return this.l()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.m=new t("google-credentials-uid"),t.p=new t("first-party-uid"),t}(),A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error),N=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},D=function(){function t(){this._=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.I=function(){},t.prototype.T=function(t){_(!this._,"Can only call setChangeListener() once."),this._=t,t(I.UNAUTHENTICATED)},t.prototype.R=function(){_(null!==this._,"removeChangeListener() when no listener registered"),this._=null},t}(),O=function(){function t(t){var e=this;this.A=null,this.currentUser=I.UNAUTHENTICATED,this.D=!1,this.P=0,this._=null,this.forceRefresh=!1,this.A=function(){e.P++,e.currentUser=e.S(),e.D=!0,e._&&e._(e.currentUser)},this.P=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.A):(this.A(null),t.get().then((function(t){e.auth=t,e.A&&e.auth.addAuthTokenListener(e.A)}),(function(){})))}return t.prototype.getToken=function(){var t=this;_(null!=this.A,"getToken cannot be called after listener removed.");var e=this.P,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.P!==e)throw new x(A.ABORTED,"getToken aborted due to token change.");return n?(_("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new N(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.I=function(){this.forceRefresh=!0},t.prototype.T=function(t){_(!this._,"Can only call setChangeListener() once."),this._=t,this.D&&t(this.currentUser)},t.prototype.R=function(){_(null!=this.A,"removeChangeListener() called twice"),_(null!==this._,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.A),this.A=null,this._=null},t.prototype.S=function(){var t=this.auth&&this.auth.getUid();return _(null===t||"string"==typeof t,"Received invalid UID: "+t),new I(t)},t}(),P=function(){function t(t,e){this.C=t,this.k=e,this.type="FirstParty",this.user=I.p}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.C.auth.V([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),R=function(){function t(t,e){this.C=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new P(this.C,this.k))},t.prototype.T=function(t){t(I.p)},t.prototype.R=function(){},t.prototype.I=function(){},t}();function M(t){if(!t)return new D;switch(t.type){case"gapi":var e=t.N;return _(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new R(e,t.k||"0");case"provider":return t.N;default:throw new x(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F(t,e){return void 0!==t?t:e}function V(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function j(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U(t){for(var e in _(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e){if(0!==e.length)throw new x(A.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+ot(e.length,"argument")+".")}function z(t,e,n){if(e.length!==n)throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires "+ot(n,"argument")+", but was called with "+ot(e.length,"argument")+".")}function B(t,e,n){if(e.length<n)throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires at least "+ot(n,"argument")+", but was called with "+ot(e.length,"argument")+".")}function H(t,e,n,r){if(e.length<n||e.length>r)throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+ot(e.length,"argument")+".")}function G(t,e,n,r){$(t,e,it(n)+" argument",r)}function W(t,e,n,r){void 0!==r&&G(t,e,n,r)}function K(t,e,n,r){$(t,e,n+" option",r)}function Q(t,e,n,r){void 0!==r&&K(t,e,n,r)}function Y(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Z(u))}var l=Z(r);throw new x(A.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function J(t,e,n,r){if(!e.some((function(t){return t===r})))throw new x(A.INVALID_ARGUMENT,"Invalid value "+Z(r)+" provided to function "+t+"() for its "+it(n)+" argument. Acceptable values: "+e.join(", "))}function $(t,e,n,r){if(!("object"===e?X(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Z(r);throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function X(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Z(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g("Unknown wrong type: "+typeof t)}function tt(t,e,n){if(void 0===n)throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+it(e)+" argument, but it was undefined.")}function et(t,e,n){j(e,(function(e,r){if(n.indexOf(e)<0)throw new x(A.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function nt(t,e,n,r){var i=Z(r);return new x(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+it(n)+" argument to be a "+e+", but it was: "+i)}function rt(t,e,n){if(n<=0)throw new x(A.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+it(e)+" argument to be a positive number, but it was: "+n+".")}function it(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function ot(t,e){return t+" "+e+(1===t?"":"s")}var st=function(){function t(t,e){if(z("GeoPoint",arguments,2),G("GeoPoint","number",1,t),G("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new x(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new x(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.O=t,this.F=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.O},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.O===t.O&&this.F===t.F},t.prototype.U=function(t){return w(this.O,t.O)||w(this.F,t.F)},t}(),at=-62135596800,ut=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new x(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new x(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<at)throw new x(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new x(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds-at).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),lt=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new ut(n,e%1e6*1e3))},t.L=function(e){return new t(e)},t.B=function(){return t.MIN},t.prototype.h=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.M=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.q=function(){return this.timestamp},t.MIN=new t(new ut(0,0)),t}(),ct=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&g("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.G(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.W(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.K=function(t){return _(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.W(this.segments,this.offset+t,this.length-t)},t.prototype.H=function(){return _(!this.J(),"Can't call popLast() on empty path"),this.W(this.segments,this.offset,this.length-1)},t.prototype.Y=function(){return _(!this.J(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.X=function(){return this.get(this.length-1)},t.prototype.get=function(t){return _(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.J=function(){return 0===this.length},t.prototype.$=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.Z=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.tt=function(){return this.segments.slice(this.offset,this.limit())},t.G=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.prototype.nt=function(){return this.tt().join("/")},e.prototype.toString=function(){return this.nt()},e.it=function(t){if(t.indexOf("//")>=0)throw new x(A.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.et=new e([]),e}(ct),ft=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.W=function(t,n,r){return new e(t,n,r)},e.rt=function(t){return ft.test(t)},e.prototype.nt=function(){return this.tt().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.rt(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.nt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.st=function(){return new e(["__name__"])},e.ot=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new x(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new x(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new x(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.et=new e([]),e}(ct),pt=function(){function t(e){this.path=e,_(t.ht(e),"Invalid DocumentKey with an odd number of segments: "+e.tt().join("/"))}return t.prototype.ct=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ht.G(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.G=function(t,e){return ht.G(t.path,e.path)},t.ht=function(t){return t.length%2==0},t.at=function(e){return new t(new ht(e.slice()))},t.ft=function(e){return new t(ht.it(e))},t.EMPTY=new t(new ht([])),t}(),vt=function(){function t(t,e){this.G=t,this.root=e||mt.EMPTY}return t.prototype.lt=function(e,n){return new t(this.G,this.root.lt(e,n,this.G).copy(null,null,mt.dt,null,null))},t.prototype.remove=function(e){return new t(this.G,this.root.remove(e,this.G).copy(null,null,mt.dt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.J();){var n=this.G(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.J();){var r=this.G(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.J=function(){return this.root.J()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.vt=function(){return this.root.vt()},t.prototype.wt=function(){return this.root.wt()},t.prototype.pt=function(t){return this.root.pt(t)},t.prototype.forEach=function(t){this.pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.bt=function(){return new yt(this.root,null,this.G,!1)},t.prototype.yt=function(t){return new yt(this.root,t,this.G,!1)},t.prototype._t=function(){return new yt(this.root,null,this.G,!0)},t.prototype.It=function(t){return new yt(this.root,t,this.G,!0)},t}(),yt=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.J();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.Rt=function(){_(this.Et.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.J();)this.Et.push(t),t=t.right;else for(t=t.right;!t.J();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Dt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),mt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.J=function(){return!1},t.prototype.pt=function(t){return this.left.pt(t)||t(this.key,this.value)||this.right.pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.J()?this:this.left.min()},t.prototype.vt=function(){return this.min().key},t.prototype.wt=function(){return this.right.J()?this.key:this.right.wt()},t.prototype.lt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.lt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.lt(t,e,n))).Pt()},t.prototype.St=function(){if(this.left.J())return t.EMPTY;var e=this;return e.left.Ct()||e.left.left.Ct()||(e=e.kt()),(e=e.copy(null,null,null,e.left.St(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.J()||i.left.Ct()||i.left.left.Ct()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Ct()&&(i=i.Vt()),i.right.J()||i.right.Ct()||i.right.left.Ct()||(i=i.Nt()),0===n(e,i.key)){if(i.right.J())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.St())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.Ct=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.Ct()&&!t.left.Ct()&&(t=t.Ot()),t.left.Ct()&&t.left.left.Ct()&&(t=t.Vt()),t.left.Ct()&&t.right.Ct()&&(t=t.Ft()),t},t.prototype.kt=function(){var t=this.Ft();return t.right.left.Ct()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).Ot()).Ft()),t},t.prototype.Nt=function(){var t=this.Ft();return t.left.left.Ct()&&(t=(t=t.Vt()).Ft()),t},t.prototype.Ot=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ft=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.xt();return Math.pow(2,t)<=this.size+1},t.prototype.xt=function(){if(this.Ct()&&this.left.Ct())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.Ct())throw g("Right child of ("+this.key+","+this.value+") is red");var t=this.left.xt();if(t!==this.right.xt())throw g("Black depths differ");return t+(this.Ct()?0:1)},t.EMPTY=null,t.RED=!0,t.dt=!1,t}(),gt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.lt=function(t,e,n){return new mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.J=function(){return!0},t.prototype.pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.vt=function(){return null},t.prototype.wt=function(){return null},t.prototype.Ct=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.xt=function(){return 0},t}();mt.EMPTY=new gt;var _t=function(){function t(t){this.G=t,this.data=new vt(this.G)}return t.jt=function(e){var n=new t(e.G);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.vt()},t.prototype.last=function(){return this.data.wt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pt((function(e,n){return t(e),!1}))},t.prototype.Lt=function(t,e){for(var n=this.data.yt(t[0]);n.At();){var r=n.Rt();if(this.G(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Bt=function(t,e){var n;for(n=void 0!==e?this.data.yt(e):this.data.bt();n.At();)if(!t(n.Rt().key))return},t.prototype.Mt=function(t){var e=this.data.yt(t);return e.At()?e.Rt().key:null},t.prototype.bt=function(){return new bt(this.data.bt())},t.prototype.yt=function(t){return new bt(this.data.yt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).lt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.J=function(){return this.data.J()},t.prototype.qt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.bt(),r=e.data.bt();n.At();){var i=n.Rt().key,o=r.Rt().key;if(0!==this.G(i,o))return!1}return!0},t.prototype.tt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.G);return n.data=e,n},t}(),bt=function(){function t(t){this.Qt=t}return t.prototype.Rt=function(){return this.Qt.Rt().key},t.prototype.At=function(){return this.Qt.At()},t}(),wt=function(){function t(){}return t.prototype.Gt=function(t,e){return new Xt(e,t)},t.prototype.Wt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),kt=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=St(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new ie(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&k(e.elements,this.elements)},t}(),Ct=function(){function t(t){this.elements=t}return t.prototype.Gt=function(t,e){return this.apply(t)},t.prototype.Wt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=St(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new ie(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&k(e.elements,this.elements)},t}(),Et=function(){function t(t){this.Kt=t}return t.prototype.Gt=function(t,e){var n=this.zt(t);if(n instanceof Qt&&this.Kt instanceof Qt){var r=n.Ht+this.Kt.Ht;return new Qt(r)}return new Yt(r=n.Ht+this.Kt.Ht)},t.prototype.Wt=function(t,e){return _(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.zt=function(t){return t instanceof Wt?t:new Qt(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Kt.isEqual(e.Kt)},t}();function St(t){return t instanceof ie?t.Ht.slice():[]}var Tt,It,At=function(){function t(t){this.fields=t}return t.Jt=function(e){return new t(e)},t.Yt=function(e){var n=new _t(dt.G);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Xt=function(t){var e=!1;return this.fields.forEach((function(n){n.$(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),xt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Nt=function(t,e){this.version=t,this.transformResults=e};(It=Tt||(Tt={}))[It.Set=0]="Set",It[It.$t=1]="__PRIVATE_Patch",It[It.Transform=2]="Transform",It[It.Zt=3]="__PRIVATE_Delete",It[It.Verify=4]="Verify";var Dt,Ot,Pt,Rt,Mt=function(){function t(t,e){this.updateTime=t,this.exists=e,_(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"tn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.nn=function(t){return void 0!==this.updateTime?t instanceof se&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof se:(_(this.tn,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Lt=function(){function t(){}return t.prototype.in=function(t){null!=t&&_(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.en=function(t){return t instanceof se?t.version:lt.MIN},t}(),Ft=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.rn=r,i.type=Tt.Set,i}return s.__extends(e,t),e.prototype.Wt=function(t,e){return this.in(t),_(null==e.transformResults,"Transform results received by SetMutation."),new se(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=Lt.en(t);return new se(this.key,r,{un:!0},this.value)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.rn.isEqual(t.rn)},e}(Lt),Vt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.on=r,o.rn=i,o.type=Tt.$t,o}return s.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),_(null==e.transformResults,"Transform results received by PatchMutation."),!this.rn.nn(t))return new ue(this.key,e.version);var n=this.hn(t);return new se(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=Lt.en(t),i=this.hn(t);return new se(this.key,r,{un:!0},i)},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.on.isEqual(t.on)&&this.rn.isEqual(t.rn)},e.prototype.hn=function(t){var e;return e=t instanceof se?t.data():ne.EMPTY,this.cn(e)},e.prototype.cn=function(t){var e=this,n=t.an();return this.on.fields.forEach((function(t){if(!t.J()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.fn()},e}(Lt),jt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Tt.Transform,r.rn=Mt.exists(!0),r}return s.__extends(e,t),e.prototype.Wt=function(t,e){if(this.in(t),_(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.rn.nn(t))return new ue(this.key,e.version);var n=this.ln(t),r=this.dn(t,e.transformResults),i=e.version,o=this.vn(n.data(),r);return new se(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.Gt=function(t,e,n){if(this.in(t),!this.rn.nn(t))return t;var r=this.ln(t),i=this.wn(n,t,e),o=this.vn(r.data(),i);return new se(this.key,r.version,{un:!0},o)},e.prototype.sn=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof se?t.field(i.field):void 0,s=i.transform.zt(o||null);null!=s&&(e=null==e?ne.mn().set(i.field,s):e.set(i.field,s))}return e?e.fn():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&k(this.fieldTransforms,t.fieldTransforms)&&this.rn.isEqual(t.rn)},e.prototype.ln=function(t){return _(t instanceof se,"Unknown MaybeDocument type "+t),_(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.dn=function(t,e){var n=[];_(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof se&&(s=t.field(i.field)),n.push(o.Wt(s,e[r]))}return n},e.prototype.wn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof se&&(u=e.field(s.field)),null===u&&n instanceof se&&(u=n.field(s.field)),r.push(a.Gt(u,t))}return r},e.prototype.vn=function(t,e){_(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.an(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.fn()},e}(Lt),Ut=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.rn=n,r.type=Tt.Zt,r}return s.__extends(e,t),e.prototype.Wt=function(t,e){return this.in(t),_(null==e.transformResults,"Transform results received by DeleteMutation."),new ae(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Gt=function(t,e,n){return this.in(t),this.rn.nn(t)?(t&&_(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ae(this.key,lt.B())):t},e.prototype.sn=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Lt),qt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.rn=n,r.type=Tt.Verify,r}return s.__extends(e,t),e.prototype.Wt=function(t,e){g("VerifyMutation should only be used in Transactions.")},e.prototype.Gt=function(t,e,n){g("VerifyMutation should only be used in Transactions.")},e.prototype.sn=function(t){g("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.rn.isEqual(t.rn)},e}(Lt);(Ot=Dt||(Dt={}))[Ot.pn=0]="__PRIVATE_NullValue",Ot[Ot.gn=1]="__PRIVATE_BooleanValue",Ot[Ot.bn=2]="__PRIVATE_NumberValue",Ot[Ot.yn=3]="__PRIVATE_TimestampValue",Ot[Ot._n=4]="__PRIVATE_StringValue",Ot[Ot.In=5]="__PRIVATE_BlobValue",Ot[Ot.Tn=6]="__PRIVATE_RefValue",Ot[Ot.En=7]="__PRIVATE_GeoPointValue",Ot[Ot.ArrayValue=8]="ArrayValue",Ot[Ot.Rn=9]="__PRIVATE_ObjectValue",(Rt=Pt||(Pt={}))[Rt.An=0]="__PRIVATE_Default",Rt[Rt.Dn=1]="__PRIVATE_Estimate",Rt[Rt.Pn=2]="__PRIVATE_Previous";var zt=function(){function t(t,e){this.Sn=t,this.timestampsInSnapshots=e}return t.Cn=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Pt.Dn,n);case"previous":return new t(Pt.Pn,n);case"none":case void 0:return new t(Pt.An,n);default:return g("fromSnapshotOptions() called with invalid options.")}},t}(),Bt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.kn=function(t){return _(this.Vn!==t.Vn,"Default compareTo should not be used for values of same type."),w(this.Vn,t.Vn)},t}(),Ht=function(t){function e(){var e=t.call(this)||this;return e.Vn=Dt.pn,e.Ht=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.h=function(t){return t instanceof e?0:this.kn(t)},e.prototype.Nn=function(){return 4},e.On=new e,e}(Bt),Gt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.gn,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 4},e.of=function(t){return t?e.Fn:e.Un},e.Fn=new e(!0),e.Un=new e(!1),e}(Bt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.bn,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.h=function(t){return t instanceof e?(n=this.Ht)<(r=t.Ht)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.kn(t);var n,r},e.prototype.Nn=function(){return 8},e}(Bt);function Kt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Kt(this.Ht,t.Ht)},e}(Wt),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Kt(this.Ht,t.Ht)},e.xn=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Wt),Jt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt._n,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht===t.Ht},e.prototype.h=function(t){return t instanceof e?w(this.Ht,t.Ht):this.kn(t)},e.prototype.Nn=function(){return 2*this.Ht.length},e}(Bt),$t=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.yn,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Ht:this.Ht.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):t instanceof Xt?-1:this.kn(t)},e.prototype.Nn=function(){return 16},e}(Bt),Xt=function(t){function e(e,n){var r=t.call(this)||this;return r.jn=e,r.previousValue=n,r.Vn=Dt.yn,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.Sn===Pt.Dn?new $t(this.jn).value(t):t&&t.Sn===Pt.Pn&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.jn.isEqual(t.jn)},e.prototype.h=function(t){return t instanceof e?this.jn.U(t.jn):t instanceof $t?1:this.kn(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.jn.toString()+">"},e.prototype.Nn=function(){return 16+(this.previousValue?this.previousValue.Nn():0)},e}(Bt),Zt=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.In,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return this.Ht.Ln()},e}(Bt),te=function(t){function e(e,n){var r=t.call(this)||this;return r.s=e,r.key=n,r.Vn=Dt.Tn,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.s.isEqual(t.s)},e.prototype.h=function(t){if(t instanceof e){var n=this.s.h(t.s);return 0!==n?n:pt.G(this.key,t.key)}return this.kn(t)},e.prototype.Nn=function(){return this.s.projectId.length+this.s.database.length+this.key.toString().length},e}(Bt),ee=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.En,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Ht},e.prototype.isEqual=function(t){return t instanceof e&&this.Ht.isEqual(t.Ht)},e.prototype.h=function(t){return t instanceof e?this.Ht.U(t.Ht):this.kn(t)},e.prototype.Nn=function(){return 16},e}(Bt),ne=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.Rn,n}return s.__extends(e,t),e.mn=function(){return new re(e.EMPTY.Ht)},e.prototype.value=function(t){var e={};return this.Ht.pt((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.Ht.pt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.At()&&r.At();){var i=n.Rt(),o=r.Rt();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.At()&&!r.At()}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=this.Ht.bt(),r=t.Ht.bt();n.At()&&r.At();){var i=n.Rt(),o=r.Rt(),s=w(i.key,o.key)||i.value.h(o.value);if(s)return s}return w(n.At(),r.At())}return this.kn(t)},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){_(!t.J(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.Ht.get(t):null})),n},e.prototype.on=function(){var t=new _t(dt.G);return this.Ht.forEach((function(n,r){var i=new dt([n]);if(r instanceof e){var o=r.on().fields;o.J()?t=t.add(i):o.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),At.Jt(t)},e.prototype.Nn=function(){var t=0;return this.Ht.pt((function(e,n){t+=e.length+n.Nn()})),t},e.prototype.toString=function(){return this.Ht.toString()},e.prototype.an=function(){return new re(this.Ht)},e.EMPTY=new e(new vt(w)),e}(Bt),re=function(){function t(t){this.Ht=t}return t.prototype.set=function(t,e){_(!t.J(),"Cannot set field for empty path on ObjectValue");var n=t.Y();if(1===t.length)this.Ht=this.Ht.lt(n,e);else{var r=this.Ht.get(n),i=(r instanceof ne?r:ne.EMPTY).an().set(t.K(),e).fn();this.Ht=this.Ht.lt(n,i)}return this},t.prototype.delete=function(t){_(!t.J(),"Cannot delete field for empty path on ObjectValue");var e=t.Y();if(1===t.length)this.Ht=this.Ht.remove(e);else{var n=this.Ht.get(e);if(n instanceof ne){var r=n.an().delete(t.K()).fn();this.Ht=this.Ht.lt(t.Y(),r)}}return this},t.prototype.fn=function(){return new ne(this.Ht)},t}(),ie=function(t){function e(e){var n=t.call(this)||this;return n.Ht=e,n.Vn=Dt.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.Ht.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Ht;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.Ht.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Ht.length!==t.Ht.length)return!1;for(var n=0;n<this.Ht.length;n++)if(!this.Ht[n].isEqual(t.Ht[n]))return!1;return!0}return!1},e.prototype.h=function(t){if(t instanceof e){for(var n=Math.min(this.Ht.length,t.Ht.length),r=0;r<n;r++){var i=this.Ht[r].h(t.Ht[r]);if(i)return i}return w(this.Ht.length,t.Ht.length)}return this.kn(t)},e.prototype.Nn=function(){return this.Ht.reduce((function(t,e){return t+e.Nn()}),0)},e.prototype.toString=function(){return"["+this.Ht.map((function(t){return t.toString()})).join(",")+"]"},e}(Bt),oe=function(){function t(t,e){this.key=t,this.version=e}return t.Bn=function(t,e){return pt.G(t.key,e.key)},t}(),se=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n)||this;return a.Mn=i,a.proto=o,a.converter=s,_(void 0!==a.Mn||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.un=!!r.un,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return s.__extends(e,t),e.prototype.field=function(t){if(this.Mn)return this.Mn.field(t);this.qn||(this.qn=new Map);var e=t.nt(),n=this.qn.get(e);if(void 0===n){var r=this.Qn(t);n=void 0===r?null:this.converter(r),this.qn.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.Mn){var e=ne.mn();j(this.proto.fields||{},(function(n,r){e.set(new dt([n]),t.converter(r))})),this.Mn=e.fn(),this.qn=void 0}return this.Mn},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.un===t.un&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.un+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.un||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.Qn=function(t){_(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.Y()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.Gn=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.h(i):g("Trying to compare documents on fields that don't exist")},e}(oe),ae=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(oe),ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(oe),le=Number,ce=le.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),he=le.MAX_SAFE_INTEGER||Math.pow(2,53)-1,fe=le.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function de(t){return null==t}function pe(t){return fe(t)&&t<=he&&t>=ce}var ve,ye,me=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Wn=null}return t.prototype.canonicalId=function(){if(null===this.Wn){var t=this.path.nt();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";de(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Wn=t}return this.Wn},t.prototype.toString=function(){var t=this.path.nt();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),de(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.zn=function(){return pt.ht(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();(ye=ve||(ve={})).Kn="F",ye.Hn="L";var ge,_e,be=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=ve.Kn),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Jn=n,this.filters=r,this.limit=i,this.Yn=o,this.startAt=s,this.endAt=a,this.Xn=null,this.$n=null,this.startAt&&this.Zn(this.startAt),this.endAt&&this.Zn(this.endAt)}return t.ti=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Xn){var t=this.ni(),e=this.ii();if(null!==t&&null===e)this.Xn=t.ut()?[De]:[new Ne(t),De];else{_(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Xn=[];for(var n=!1,r=0,i=this.Jn;r<i.length;r++){var o=i[r];this.Xn.push(o),o.field.ut()&&(n=!0)}n||this.Xn.push((this.Jn.length>0?this.Jn[this.Jn.length-1].dir:Ae.ASCENDING)===Ae.ASCENDING?De:Oe)}}return this.Xn},enumerable:!0,configurable:!0}),t.prototype.ei=function(e){_(null==this.ni()||!(e instanceof ke)||!e.ri()||e.field.isEqual(this.ni()),"Query must only have one inequality field."),_(!this.zn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Jn.slice(),n,this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.ui=function(e){_(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.Jn.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.si=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,ve.Kn,this.startAt,this.endAt)},t.prototype.oi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),e,ve.Hn,this.startAt,this.endAt)},t.prototype.hi=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,e,this.endAt)},t.prototype.ci=function(e){return new t(this.path,this.collectionGroup,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,e)},t.prototype.ai=function(e){return new t(e,null,this.Jn.slice(),this.filters.slice(),this.limit,this.Yn,this.startAt,this.endAt)},t.prototype.fi=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Jn.length||1===this.Jn.length&&this.Jn[0].field.ut())},t.prototype.canonicalId=function(){return this.li().canonicalId()+"|lt:"+this.Yn},t.prototype.toString=function(){return"Query(target="+this.li().toString()+"; limitType="+this.Yn+")"},t.prototype.isEqual=function(t){return this.li().isEqual(t.li())&&this.Yn===t.Yn},t.prototype.di=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.ut()}return _(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.vi(t)&&this.wi(t)&&this.mi(t)&&this.pi(t)},t.prototype.gi=function(){return!de(this.limit)&&this.Yn===ve.Kn},t.prototype.bi=function(){return!de(this.limit)&&this.Yn===ve.Hn},t.prototype.ii=function(){return this.Jn.length>0?this.Jn[0].field:null},t.prototype.ni=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof ke&&n.ri())return n.field}return null},t.prototype.yi=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof ke&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.zn=function(){return this.li().zn()},t.prototype._i=function(){return null!==this.collectionGroup},t.prototype.li=function(){if(!this.$n)if(this.Yn===ve.Kn)this.$n=new me(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Ne(r.field,r.dir===Ae.DESCENDING?Ae.ASCENDING:Ae.DESCENDING))}var i=this.endAt?new xe(this.endAt.position,!this.endAt.before):null,o=this.startAt?new xe(this.startAt.position,!this.startAt.before):null;this.$n=new me(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.$n},t.prototype.vi=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.ct(this.collectionGroup)&&this.path.$(e):pt.ht(this.path)?this.path.isEqual(e):this.path.Z(e)},t.prototype.wi=function(t){for(var e=0,n=this.Jn;e<n.length;e++){var r=n[e];if(!r.field.ut()&&null===t.field(r.field))return!1}return!0},t.prototype.mi=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.pi=function(t){return!(this.startAt&&!this.startAt.Ii(this.orderBy,t)||this.endAt&&this.endAt.Ii(this.orderBy,t))},t.prototype.Zn=function(t){_(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),we=function(){function t(t){this.name=t}return t.it=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return g("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),ke=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.create=function(t,n,r){if(t.ut())return n===we.IN?(_(r instanceof ie,"Comparing on key with IN, but filter value not an ArrayValue"),_(r.Ht.every((function(t){return t instanceof te})),"Comparing on key with IN, but an array value was not a RefValue"),new Ee(t,r)):(_(r instanceof te,"Comparing on key, but filter value not a RefValue"),_(n!==we.ARRAY_CONTAINS&&n!==we.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Ce(t,n,r));if(r.isEqual(Ht.On)){if(n!==we.EQUAL)throw new x(A.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Yt.xn)){if(n!==we.EQUAL)throw new x(A.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===we.ARRAY_CONTAINS?new Se(t,r):n===we.IN?(_(r instanceof ie,"IN filter has invalid value: "+r.toString()),new Te(t,r)):n===we.ARRAY_CONTAINS_ANY?(_(r instanceof ie,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Ie(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.Vn===e.Vn&&this.Ti(e.h(this.value))},e.prototype.Ti=function(t){switch(this.op){case we.LESS_THAN:return t<0;case we.LESS_THAN_OR_EQUAL:return t<=0;case we.EQUAL:return 0===t;case we.GREATER_THAN:return t>0;case we.GREATER_THAN_OR_EQUAL:return t>=0;default:return g("Unknown FieldFilter operator: "+this.op)}},e.prototype.ri=function(){return[we.LESS_THAN,we.LESS_THAN_OR_EQUAL,we.GREATER_THAN,we.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.nt()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.nt()+" "+this.op+" "+this.value.value()},e}((function(){})),Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=pt.G(t.key,this.value.key);return this.Ti(e)},e}(ke),Ee=function(t){function e(e,n){var r=t.call(this,e,we.IN,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){return this.value.Ht.some((function(e){return t.key.isEqual(e.key)}))},e}(ke),Se=function(t){function e(e,n){return t.call(this,e,we.ARRAY_CONTAINS,n)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof ie&&e.contains(this.value)},e}(ke),Te=function(t){function e(e,n){var r=t.call(this,e,we.IN,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(ke),Ie=function(t){function e(e,n){var r=t.call(this,e,we.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof ie&&n.Ht.some((function(t){return e.value.contains(t)}))},e}(ke),Ae=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),xe=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.Ii=function(t,e){_(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.ut())_(o instanceof te,"Bound has a non-key value where the key path is being used."),n=pt.G(o.key,e.key);else{var s=e.field(i.field);_(null!==s,"Field should exist since document matched the orderBy already."),n=o.h(s)}if(i.dir===Ae.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),Ne=function(){function t(t,e){this.field=t,void 0===e&&(e=Ae.ASCENDING),this.dir=e,this.Ei=t.ut()}return t.prototype.compare=function(t,e){var n=this.Ei?se.Bn(t,e):se.Gn(this.field,t,e);switch(this.dir){case Ae.ASCENDING:return n;case Ae.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.nt()+this.dir.toString()},t.prototype.toString=function(){return this.field.nt()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),De=new Ne(dt.st(),Ae.ASCENDING),Oe=new Ne(dt.st(),Ae.DESCENDING);(_e=ge||(ge={}))[_e.Ri=0]="__PRIVATE_RemoteStore",_e[_e.Ai=1]="__PRIVATE_SharedClientState";var Pe,Re,Me=function(){function t(t){this.Di=t}return t.fromBase64String=function(e){return new t(xn.t().atob(e))},t.fromUint8Array=function(e){return new t(Le(e))},t.prototype.toBase64=function(){return xn.t().btoa(this.Di)},t.prototype.toUint8Array=function(){return Fe(this.Di)},t.prototype.Nn=function(){return 2*this.Di.length},t.prototype.isEqual=function(t){return this.Di===t.Di},t.Pi=new t(""),t}();function Le(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}function Fe(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(Re=Pe||(Pe={}))[Re.Si=0]="__PRIVATE_Listen",Re[Re.Ci=1]="__PRIVATE_ExistenceFilterMismatch",Re[Re.ki=2]="__PRIVATE_LimboResolution";var Ve,je,Ue=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=lt.MIN),void 0===o&&(o=lt.MIN),void 0===s&&(s=Me.Pi),this.target=t,this.targetId=e,this.Vi=n,this.sequenceNumber=r,this.Ni=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Oi=function(e){return new t(this.target,this.targetId,this.Vi,e,this.Ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Fi=function(e,n){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Ui=function(e){return new t(this.target,this.targetId,this.Vi,this.sequenceNumber,this.Ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.Vi===t.Vi&&this.sequenceNumber===t.sequenceNumber&&this.Ni.isEqual(t.Ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),qe=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function ze(t){switch(t){case A.OK:return g("Treated status OK as error");case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return g("Unknown status code: "+t)}}function Be(t){if(void 0===t)return y("GRPC error has no .code"),A.UNKNOWN;switch(t){case Ve.OK:return A.OK;case Ve.CANCELLED:return A.CANCELLED;case Ve.UNKNOWN:return A.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return A.INTERNAL;case Ve.UNAVAILABLE:return A.UNAVAILABLE;case Ve.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Ve.NOT_FOUND:return A.NOT_FOUND;case Ve.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Ve.ABORTED:return A.ABORTED;case Ve.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Ve.DATA_LOSS:return A.DATA_LOSS;default:return g("Unknown status code: "+t)}}function He(t){if(void 0===t)return Ve.OK;switch(t){case A.OK:return Ve.OK;case A.CANCELLED:return Ve.CANCELLED;case A.UNKNOWN:return Ve.UNKNOWN;case A.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case A.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case A.INTERNAL:return Ve.INTERNAL;case A.UNAVAILABLE:return Ve.UNAVAILABLE;case A.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case A.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case A.NOT_FOUND:return Ve.NOT_FOUND;case A.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case A.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case A.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case A.ABORTED:return Ve.ABORTED;case A.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case A.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case A.DATA_LOSS:return Ve.DATA_LOSS;default:return g("Unknown status code: "+t)}}(je=Ve||(Ve={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var Ge=new vt(pt.G);function We(){return Ge}function Ke(){return We()}var Qe=new vt(pt.G);function Ye(){return Qe}var Je=new vt(pt.G);function $e(){return Je}var Xe=new _t(pt.G);function Ze(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xe,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var tn=new _t(w);function en(){return tn}var nn,rn,on,sn,an=function(){function t(t){this.G=t?function(e,n){return t(e,n)||pt.G(e.key,n.key)}:function(t,e){return pt.G(t.key,e.key)},this.xi=Ye(),this.ji=new vt(this.G)}return t.Li=function(e){return new t(e.G)},t.prototype.has=function(t){return null!=this.xi.get(t)},t.prototype.get=function(t){return this.xi.get(t)},t.prototype.first=function(){return this.ji.vt()},t.prototype.last=function(){return this.ji.wt()},t.prototype.J=function(){return this.ji.J()},t.prototype.indexOf=function(t){var e=this.xi.get(t);return e?this.ji.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.ji.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.ji.pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.xi.lt(t.key,t),e.ji.lt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.xi.remove(t),this.ji.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.ji.bt(),r=e.ji.bt();n.At();){var i=n.Rt().key,o=r.Rt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.G=this.G,r.xi=e,r.ji=n,r},t}();(rn=nn||(nn={}))[rn.Bi=0]="__PRIVATE_Added",rn[rn.Mi=1]="__PRIVATE_Removed",rn[rn.qi=2]="__PRIVATE_Modified",rn[rn.Qi=3]="__PRIVATE_Metadata",(sn=on||(on={}))[sn.Gi=0]="__PRIVATE_Local",sn[sn.Wi=1]="__PRIVATE_Synced";var un,ln,cn=function(){function t(){this.zi=new vt(pt.G)}return t.prototype.track=function(t){var e=t.doc.key,n=this.zi.get(e);n?t.type!==nn.Bi&&n.type===nn.Qi?this.zi=this.zi.lt(e,t):t.type===nn.Qi&&n.type!==nn.Mi?this.zi=this.zi.lt(e,{type:n.type,doc:t.doc}):t.type===nn.qi&&n.type===nn.qi?this.zi=this.zi.lt(e,{type:nn.qi,doc:t.doc}):t.type===nn.qi&&n.type===nn.Bi?this.zi=this.zi.lt(e,{type:nn.Bi,doc:t.doc}):t.type===nn.Mi&&n.type===nn.Bi?this.zi=this.zi.remove(e):t.type===nn.Mi&&n.type===nn.qi?this.zi=this.zi.lt(e,{type:nn.Mi,doc:n.doc}):t.type===nn.Bi&&n.type===nn.Mi?this.zi=this.zi.lt(e,{type:nn.qi,doc:t.doc}):g("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.zi=this.zi.lt(e,t)},t.prototype.Ki=function(){var t=[];return this.zi.pt((function(e,n){t.push(n)})),t},t}(),hn=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Hi=n,this.docChanges=r,this.Ji=i,this.fromCache=o,this.Yi=s,this.Xi=a}return t.$i=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:nn.Bi,doc:t})})),new t(e,n,an.Li(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ji.J()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Yi===t.Yi&&this.Ji.isEqual(t.Ji)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.Hi.isEqual(t.Hi)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),fn=function(){function t(t,e,n,r,i){this.Ni=t,this.Zi=e,this.te=n,this.ne=r,this.ie=i}return t.ee=function(e,n){var r,i=((r={})[e]=dn.re(e,n),r);return new t(lt.MIN,i,en(),We(),Ze())},t}(),dn=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ue=e,this.se=n,this.oe=r,this.he=i}return t.re=function(e,n){return new t(Me.Pi,n,Ze(),Ze(),Ze())},t}(),pn=function(t,e,n,r){this.ce=t,this.removedTargetIds=e,this.key=n,this.ae=r},vn=function(t,e){this.targetId=t,this.fe=e};(ln=un||(un={}))[ln.le=0]="__PRIVATE_NoChange",ln[ln.Bi=1]="__PRIVATE_Added",ln[ln.Mi=2]="__PRIVATE_Removed",ln[ln.de=3]="__PRIVATE_Current",ln[ln.ve=4]="__PRIVATE_Reset";var yn=function(t,e,n,r){void 0===n&&(n=Me.Pi),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},mn=function(){function t(){this.we=0,this.me=bn(),this.pe=Me.Pi,this.ge=!1,this.be=!0}return Object.defineProperty(t.prototype,"ue",{get:function(){return this.ge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.pe},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return 0!==this.we},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.be},enumerable:!0,configurable:!0}),t.prototype.Ie=function(t){t.Nn()>0&&(this.be=!0,this.pe=t)},t.prototype.Te=function(){var t=Ze(),e=Ze(),n=Ze();return this.me.forEach((function(r,i){switch(i){case nn.Bi:t=t.add(r);break;case nn.qi:e=e.add(r);break;case nn.Mi:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}})),new dn(this.pe,this.ge,t,e,n)},t.prototype.Ee=function(){this.be=!1,this.me=bn()},t.prototype.Re=function(t,e){this.be=!0,this.me=this.me.lt(t,e)},t.prototype.Ae=function(t){this.be=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.we+=1},t.prototype.Pe=function(){this.we-=1},t.prototype.Se=function(){this.be=!0,this.ge=!0},t}(),gn=function(){function t(t){this.Ce=t,this.ke={},this.Ve=We(),this.Ne=_n(),this.Oe=new _t(w)}return t.prototype.Fe=function(t){for(var e=0,n=t.ce;e<n.length;e++){var r=n[e];t.ae instanceof se?this.Ue(r,t.ae):t.ae instanceof ae&&this.xe(r,t.key,t.ae)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.xe(r=o[i],t.key,t.ae)},t.prototype.je=function(t){var e=this;this.Le(t,(function(n){var r=e.Be(n);switch(t.state){case un.le:e.Me(n)&&r.Ie(t.resumeToken);break;case un.Bi:r.Pe(),r.ye||r.Ee(),r.Ie(t.resumeToken);break;case un.Mi:r.Pe(),r.ye||e.removeTarget(n),_(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case un.de:e.Me(n)&&(r.Se(),r.Ie(t.resumeToken));break;case un.ve:e.Me(n)&&(e.qe(n),r.Ie(t.resumeToken));break;default:g("Unknown target watch change state: "+t.state)}}))},t.prototype.Le=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):V(this.ke,e)},t.prototype.Qe=function(t){var e=t.targetId,n=t.fe.count,r=this.Ge(e);if(r){var i=r.target;if(i.zn())if(0===n){var o=new pt(i.path);this.xe(e,o,new ae(o,lt.B()))}else _(1===n,"Single document existence filter with count: "+n);else this.We(e)!==n&&(this.qe(e),this.Oe=this.Oe.add(e))}},t.prototype.ze=function(t){var e=this,n={};V(this.ke,(function(r,i){var o=e.Ge(r);if(o){if(i.ue&&o.target.zn()){var s=new pt(o.target.path);null!==e.Ve.get(s)||e.Ke(r,s)||e.xe(r,s,new ae(s,t))}i._e&&(n[r]=i.Te(),i.Ee())}}));var r=Ze();this.Ne.forEach((function(t,n){var i=!0;n.Bt((function(t){var n=e.Ge(t);return!n||n.Vi===Pe.ki||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new fn(t,n,this.Oe,this.Ve,r);return this.Ve=We(),this.Ne=_n(),this.Oe=new _t(w),i},t.prototype.Ue=function(t,e){if(this.Me(t)){var n=this.Ke(t,e.key)?nn.qi:nn.Bi;this.Be(t).Re(e.key,n),this.Ve=this.Ve.lt(e.key,e),this.Ne=this.Ne.lt(e.key,this.He(e.key).add(t))}},t.prototype.xe=function(t,e,n){if(this.Me(t)){var r=this.Be(t);this.Ke(t,e)?r.Re(e,nn.Mi):r.Ae(e),this.Ne=this.Ne.lt(e,this.He(e).delete(t)),n&&(this.Ve=this.Ve.lt(e,n))}},t.prototype.removeTarget=function(t){delete this.ke[t]},t.prototype.We=function(t){var e=this.Be(t).Te();return this.Ce.Je(t).size+e.se.size-e.he.size},t.prototype.De=function(t){this.Be(t).De()},t.prototype.Be=function(t){return this.ke[t]||(this.ke[t]=new mn),this.ke[t]},t.prototype.He=function(t){var e=this.Ne.get(t);return e||(e=new _t(w),this.Ne=this.Ne.lt(t,e)),e},t.prototype.Me=function(t){var e=null!==this.Ge(t);return e||v("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.ke[t];return e&&e.ye?null:this.Ce.Ye(t)},t.prototype.qe=function(t){var e=this;_(!this.ke[t].ye,"Should only reset active targets"),this.ke[t]=new mn,this.Ce.Je(t).forEach((function(n){e.xe(t,n,null)}))},t.prototype.Ke=function(t,e){return this.Ce.Je(t).has(e)},t}();function _n(){return new vt(pt.G)}function bn(){return new vt(pt.G)}var wn,kn,Cn=((wn={})[Ae.ASCENDING.name]="ASCENDING",wn[Ae.DESCENDING.name]="DESCENDING",wn),En=((kn={})[we.LESS_THAN.name]="LESS_THAN",kn[we.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",kn[we.GREATER_THAN.name]="GREATER_THAN",kn[we.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",kn[we.EQUAL.name]="EQUAL",kn[we.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",kn[we.IN.name]="IN",kn[we.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",kn),Sn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tn(t,e){_(!de(t),e+" is missing")}function In(t){return"number"==typeof t?t:"string"==typeof t?Number(t):g("can't parse "+t)}var An=function(){function t(t,e){this.s=t,this.options=e}return t.prototype.Xe=function(t){var e=void 0===t.code?A.UNKNOWN:Be(t.code);return new x(e,t.message||"")},t.prototype.$e=function(t){return this.options.Ze||de(t)?t:{value:t}},t.prototype.tr=function(t){var e;return de(e="object"==typeof t?t.value:t)?null:e},t.prototype.q=function(t){return this.options.Ze?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.L=function(t){if("string"==typeof t)return this.nr(t);_(!!t,"Cannot deserialize null or undefined timestamp.");var e=In(t.seconds||"0");return new ut(e,t.nanos||0)},t.prototype.nr=function(t){var e=0,n=Sn.exec(t);if(_(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new ut(o,e)},t.prototype.ir=function(t){return this.options.Ze?t.toBase64():t.toUint8Array()},t.prototype.er=function(t){return this.options.Ze?(_(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),Me.fromBase64String(t||"")):(_(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),Me.fromUint8Array(t||new Uint8Array))},t.prototype.rr=function(t){return"string"==typeof t?(_(this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Mn.fromBase64String(t)):(_(!this.options.Ze,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Mn.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.q(t.q())},t.prototype.fromVersion=function(t){return _(!!t,"Trying to deserialize version that isn't set"),lt.L(this.L(t))},t.prototype.ur=function(t,e){return this.sr(t).child("documents").child(e).nt()},t.prototype.or=function(t){var e=ht.it(t);return _(this.hr(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.cr=function(t){return this.ur(this.s,t.path)},t.prototype.ar=function(t){var e=this.or(t);return _(e.get(1)===this.s.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.s.projectId),_(!e.get(3)&&!this.s.database||e.get(3)===this.s.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.s.database),new pt(this.lr(e))},t.prototype.dr=function(t){return this.ur(this.s,t)},t.prototype.vr=function(t){var e=this.or(t);return 4===e.length?ht.et:this.lr(e)},Object.defineProperty(t.prototype,"wr",{get:function(){return new ht(["projects",this.s.projectId,"databases",this.s.database]).nt()},enumerable:!0,configurable:!0}),t.prototype.sr=function(t){return new ht(["projects",t.projectId,"databases",t.database])},t.prototype.lr=function(t){return _(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.K(5)},t.prototype.hr=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.mr=function(t){if(t instanceof Ht)return{nullValue:"NULL_VALUE"};if(t instanceof Gt)return{booleanValue:t.value()};if(t instanceof Qt)return{integerValue:""+t.value()};if(t instanceof Yt){var e=t.value();if(this.options.Ze){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Jt?{stringValue:t.value()}:t instanceof ne?{mapValue:this.pr(t)}:t instanceof ie?{arrayValue:this.gr(t)}:t instanceof $t?{timestampValue:this.q(t.Ht)}:t instanceof ee?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Zt?{bytesValue:this.ir(t.value())}:t instanceof te?{referenceValue:this.ur(t.s,t.key.path)}:g("Unknown FieldValue "+JSON.stringify(t))},t.prototype.br=function(t){var e=this;if("nullValue"in t)return Ht.On;if("booleanValue"in t)return Gt.of(t.booleanValue);if("integerValue"in t)return new Qt(In(t.integerValue));if("doubleValue"in t){if(this.options.Ze){if("NaN"===t.doubleValue)return Yt.xn;if("Infinity"===t.doubleValue)return Yt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Yt.NEGATIVE_INFINITY}return new Yt(t.doubleValue)}if("stringValue"in t)return new Jt(t.stringValue);if("mapValue"in t)return this.yr(t.mapValue.fields||{});if("arrayValue"in t)return Tn(t.arrayValue,"arrayValue"),new ie((t.arrayValue.values||[]).map((function(t){return e.br(t)})));if("timestampValue"in t)return Tn(t.timestampValue,"timestampValue"),new $t(this.L(t.timestampValue));if("geoPointValue"in t)return Tn(t.geoPointValue,"geoPointValue"),new ee(new st(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){Tn(t.bytesValue,"bytesValue");var n=this.rr(t.bytesValue);return new Zt(n)}if("referenceValue"in t){Tn(t.referenceValue,"referenceValue");var r=this.or(t.referenceValue),i=new T(r.get(1),r.get(3)),o=new pt(this.lr(r));return new te(i,o)}return g("Unknown Value proto "+JSON.stringify(t))},t.prototype._r=function(t,e){return{name:this.cr(t),fields:this.Ir(e)}},t.prototype.Tr=function(t){return _(!t.un,"Can't serialize documents with mutations."),{name:this.cr(t.key),fields:this.Ir(t.data()),updateTime:this.q(t.version.q())}},t.prototype.Er=function(t,e){var n=this,r=this.ar(t.name),i=this.fromVersion(t.updateTime);return new se(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.br(t)}))},t.prototype.Ir=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.mr(r)})),n},t.prototype.yr=function(t){var e=this,n=t,r=ne.mn();return j(n,(function(t,n){r.set(new dt([t]),e.br(n))})),r.fn()},t.prototype.pr=function(t){return{fields:this.Ir(t)}},t.prototype.gr=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.mr(t))})),{values:n}},t.prototype.Rr=function(t){var e=this;_(!!t.found,"Tried to deserialize a found document from a missing document."),Tn(t.found.name,"doc.found.name"),Tn(t.found.updateTime,"doc.found.updateTime");var n=this.ar(t.found.name),r=this.fromVersion(t.found.updateTime);return new se(n,r,{},void 0,t.found,(function(t){return e.br(t)}))},t.prototype.Ar=function(t){_(!!t.missing,"Tried to deserialize a missing document from a found document."),_(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.ar(t.missing),n=this.fromVersion(t.readTime);return new ae(e,n)},t.prototype.Dr=function(t){return"found"in t?this.Rr(t):"missing"in t?this.Ar(t):g("invalid batch get response: "+JSON.stringify(t))},t.prototype.Pr=function(t){switch(t){case un.Bi:return"ADD";case un.de:return"CURRENT";case un.le:return"NO_CHANGE";case un.Mi:return"REMOVE";case un.ve:return"RESET";default:return g("Unknown WatchTargetChangeState: "+t)}},t.prototype.Sr=function(t){if(t instanceof vn)return{filter:{count:t.fe.count,targetId:t.targetId}};if(t instanceof pn){if(t.ae instanceof se){var e=t.ae;return{documentChange:{document:{name:this.cr(e.key),fields:this.Ir(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.ce,removedTargetIds:t.removedTargetIds}}}if(t.ae instanceof ae)return{documentDelete:{document:this.cr((e=t.ae).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.ae)return{documentRemove:{document:this.cr(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof yn){var n=void 0;return t.cause&&(n={code:He(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.Pr(t.state),targetIds:t.targetIds,resumeToken:this.ir(t.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.Cr=function(t){var e,n=this;if("targetChange"in t){Tn(t.targetChange,"targetChange");var r=this.kr(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=this.er(t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&this.Xe(s);e=new yn(r,i,o,a||null)}else if("documentChange"in t){Tn(t.documentChange,"documentChange");var u=t.documentChange;Tn(u.document,"documentChange.name"),Tn(u.document.name,"documentChange.document.name"),Tn(u.document.updateTime,"documentChange.document.updateTime");var l=this.ar(u.document.name),c=this.fromVersion(u.document.updateTime),h=new se(l,c,{},void 0,u.document,(function(t){return n.br(t)})),f=u.removedTargetIds||[];e=new pn(u.targetIds||[],f,h.key,h)}else if("documentDelete"in t){Tn(t.documentDelete,"documentDelete");var d=t.documentDelete;Tn(d.document,"documentDelete.document"),l=this.ar(d.document),c=d.readTime?this.fromVersion(d.readTime):lt.B(),h=new ae(l,c),e=new pn([],f=d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){Tn(t.documentRemove,"documentRemove");var p=t.documentRemove;Tn(p.document,"documentRemove"),l=this.ar(p.document),e=new pn([],f=p.removedTargetIds||[],l,null)}else{if(!("filter"in t))return g("Unknown change type "+JSON.stringify(t));Tn(t.filter,"filter");var v=t.filter;Tn(v.targetId,"filter.targetId");var y=new qe(v.count||0);e=new vn(v.targetId,y)}return e},t.prototype.kr=function(t){return"NO_CHANGE"===t?un.le:"ADD"===t?un.Bi:"REMOVE"===t?un.Mi:"CURRENT"===t?un.de:"RESET"===t?un.ve:g("Got unexpected TargetChange.state: "+t)},t.prototype.Vr=function(t){if(!("targetChange"in t))return lt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?lt.MIN:e.readTime?this.fromVersion(e.readTime):lt.MIN},t.prototype.Nr=function(t){var e,n=this;if(t instanceof Ft)e={update:this._r(t.key,t.value)};else if(t instanceof Ut)e={delete:this.cr(t.key)};else if(t instanceof Vt)e={update:this._r(t.key,t.data),updateMask:this.Or(t.on)};else if(t instanceof jt)e={transform:{document:this.cr(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Fr(t)}))}};else{if(!(t instanceof qt))return g("Unknown mutation type "+t.type);e={verify:this.cr(t.key)}}return t.rn.tn||(e.currentDocument=this.Ur(t.rn)),e},t.prototype.xr=function(t){var e=this,n=t.currentDocument?this.jr(t.currentDocument):Mt.NONE;if(t.update){Tn(t.update.name,"name");var r=this.ar(t.update.name),i=this.yr(t.update.fields||{});if(t.updateMask){var o=this.Lr(t.updateMask);return new Vt(r,i,o,n)}return new Ft(r,i,n)}if(t.delete)return r=this.ar(t.delete),new Ut(r,n);if(t.transform){r=this.ar(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.Br(t)}));return _(!0===n.exists,'Transforms only support precondition "exists == true"'),new jt(r,s)}return t.verify?(r=this.ar(t.verify),new qt(r,n)):g("unknown mutation proto: "+JSON.stringify(t))},t.prototype.Ur=function(t){return _(!t.tn,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g("Unknown precondition")},t.prototype.jr=function(t){return void 0!==t.updateTime?Mt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Mt.exists(t.exists):Mt.NONE},t.prototype.Mr=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(lt.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.br(t)}))),new Nt(r,i)},t.prototype.qr=function(t,e){var n=this;return t&&t.length>0?(_(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Mr(t,e)}))):[]},t.prototype.Fr=function(t){var e=this,n=t.transform;if(n instanceof wt)return{fieldPath:t.field.nt(),setToServerValue:"REQUEST_TIME"};if(n instanceof kt)return{fieldPath:t.field.nt(),appendMissingElements:{values:n.elements.map((function(t){return e.mr(t)}))}};if(n instanceof Ct)return{fieldPath:t.field.nt(),removeAllFromArray:{values:n.elements.map((function(t){return e.mr(t)}))}};if(n instanceof Et)return{fieldPath:t.field.nt(),increment:this.mr(n.Kt)};throw g("Unknown transform: "+t.transform)},t.prototype.Br=function(t){var e=this,n=null;if("setToServerValue"in t)_("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=wt.instance;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kt(r.map((function(t){return e.br(t)})))}else if("removeAllFromArray"in t)n=new Ct((r=t.removeAllFromArray.values||[]).map((function(t){return e.br(t)})));else if("increment"in t){var i=this.br(t.increment);_(i instanceof Wt,"NUMERIC_ADD transform requires a NumberValue"),n=new Et(i)}else g("Unknown transform proto: "+JSON.stringify(t));var o=dt.ot(t.fieldPath);return new xt(o,n)},t.prototype.Qr=function(t){return{documents:[this.dr(t.path)]}},t.prototype.Gr=function(t){var e=t.documents.length;return _(1===e,"DocumentsTarget contained other than 1 document: "+e),be.ti(this.vr(t.documents[0])).li()},t.prototype.Wr=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(_(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.dr(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(_(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.dr(n.H()),e.structuredQuery.from=[{collectionId:n.X()}]);var r=this.zr(t.filters);r&&(e.structuredQuery.where=r);var i=this.Kr(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.$e(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Hr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Hr(t.endAt)),e},t.prototype.Jr=function(t){var e=this.vr(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.Yr(n.where));var a=[];n.orderBy&&(a=this.Xr(n.orderBy));var u=null;n.limit&&(u=this.tr(n.limit));var l=null;n.startAt&&(l=this.$r(n.startAt));var c=null;return n.endAt&&(c=this.$r(n.endAt)),new be(e,i,a,s,u,ve.Kn,l,c).li()},t.prototype.Zr=function(t){var e=this.tu(t.Vi);return null==e?null:{"goog-listen-tags":e}},t.prototype.tu=function(t){switch(t){case Pe.Si:return null;case Pe.Ci:return"existence-filter-mismatch";case Pe.ki:return"limbo-document";default:return g("Unrecognized query purpose: "+t)}},t.prototype.li=function(t){var e,n=t.target;return(e=n.zn()?{documents:this.Qr(n)}:{query:this.Wr(n)}).targetId=t.targetId,t.resumeToken.Nn()>0&&(e.resumeToken=this.ir(t.resumeToken)),e},t.prototype.zr=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof ke?e.nu(t):g("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Yr=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.iu(t)]:void 0!==t.fieldFilter?[this.eu(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Yr(t)})).reduce((function(t,e){return t.concat(e)})):g("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.Kr=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.ru(t)}))},t.prototype.Xr=function(t){var e=this;return t.map((function(t){return e.uu(t)}))},t.prototype.Hr=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.mr(t)}))}},t.prototype.$r=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.br(t)}));return new xe(r,n)},t.prototype.su=function(t){return Cn[t.name]},t.prototype.ou=function(t){switch(t){case"ASCENDING":return Ae.ASCENDING;case"DESCENDING":return Ae.DESCENDING;default:return}},t.prototype.hu=function(t){return En[t.name]},t.prototype.cu=function(t){switch(t){case"EQUAL":return we.EQUAL;case"GREATER_THAN":return we.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return we.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return we.LESS_THAN;case"LESS_THAN_OR_EQUAL":return we.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return we.ARRAY_CONTAINS;case"IN":return we.IN;case"ARRAY_CONTAINS_ANY":return we.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return g("Unspecified operator");default:return g("Unknown operator")}},t.prototype.au=function(t){return{fieldPath:t.nt()}},t.prototype.fu=function(t){return dt.ot(t.fieldPath)},t.prototype.ru=function(t){return{field:this.au(t.field),direction:this.su(t.dir)}},t.prototype.uu=function(t){return new Ne(this.fu(t.field),this.ou(t.direction))},t.prototype.eu=function(t){return ke.create(this.fu(t.fieldFilter.field),this.cu(t.fieldFilter.op),this.br(t.fieldFilter.value))},t.prototype.nu=function(t){if(t.op===we.EQUAL){if(t.value.isEqual(Yt.xn))return{unaryFilter:{field:this.au(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ht.On))return{unaryFilter:{field:this.au(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.au(t.field),op:this.hu(t.op),value:this.mr(t.value)}}},t.prototype.iu=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fu(t.unaryFilter.field);return ke.create(e,we.EQUAL,Yt.xn);case"IS_NULL":var n=this.fu(t.unaryFilter.field);return ke.create(n,we.EQUAL,Ht.On);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},t.prototype.Or=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.nt())})),{fieldPaths:e}},t.prototype.Lr=function(t){var e=(t.fieldPaths||[]).map((function(t){return dt.ot(t)}));return At.Yt(e)},t}(),xn=function(){function t(){}return t.lu=function(e){t.platform&&g("Platform already defined"),t.platform=e},t.t=function(){return t.platform||g("Platform not set"),t.platform},t}();function Nn(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new x(A.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function Dn(){if("undefined"==typeof Uint8Array)throw new x(A.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function On(){if(!xn.t().du)throw new x(A.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Pn,Rn,Mn=function(){function t(t){On(),this.Di=t}return t.fromBase64String=function(e){z("Blob.fromBase64String",arguments,1),G("Blob.fromBase64String","string",1,e),On();try{var n=xn.t().atob(e);return new t(n)}catch(t){throw new x(A.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(z("Blob.fromUint8Array",arguments,1),Dn(),!(e instanceof Uint8Array))throw nt("Blob.fromUint8Array","Uint8Array",1,e);var n=Le(e);return new t(n)},t.prototype.toBase64=function(){return z("Blob.toBase64",arguments,0),On(),xn.t().btoa(this.Di)},t.prototype.toUint8Array=function(){z("Blob.toUint8Array",arguments,0),Dn();var t=Fe(this.Di);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Di===t.Di},t.prototype.Ln=function(){return 2*this.Di.length},t.prototype.U=function(t){return w(this.Di,t.Di)},t}(),Ln=Nn(Mn,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Fn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vu=function(t){return n.wu(t)},this.mu=function(t){return e.pu(t)})}return t.prototype.wu=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.mu&&this.mu(t),t},t.gu=-1,t}(),Vn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};(Rn=Pn||(Pn={})).bu="all",Rn.yu="listen_stream_idle",Rn._u="listen_stream_connection_backoff",Rn.Iu="write_stream_idle",Rn.Tu="write_stream_connection_backoff",Rn.Eu="online_state_timeout",Rn.Ru="client_metadata_refresh",Rn.Au="lru_garbage_collection",Rn.Du="retry_transaction";var jn=function(){function t(t,e,n,r,i){this.Pu=t,this.Su=e,this.Cu=n,this.op=r,this.ku=i,this.Vu=new Vn,this.then=this.Vu.promise.then.bind(this.Vu.promise),this.catch=this.Vu.promise.catch.bind(this.Vu.promise),this.Vu.promise.catch((function(t){}))}return t.Nu=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Ou=setTimeout((function(){return e.Fu()}),t)},t.prototype.Uu=function(){return this.Fu()},t.prototype.cancel=function(t){null!==this.Ou&&(this.clearTimeout(),this.Vu.reject(new x(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Fu=function(){var t=this;this.Pu.xu((function(){return null!==t.Ou?(t.clearTimeout(),t.op().then((function(e){return t.Vu.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Ou&&(this.ku(this),clearTimeout(this.Ou),this.Ou=null)},t}(),Un=function(){function t(){this.ju=Promise.resolve(),this.Lu=!1,this.Bu=[],this.Mu=null,this.qu=!1,this.Qu=[]}return Object.defineProperty(t.prototype,"Gu",{get:function(){return this.Lu},enumerable:!0,configurable:!0}),t.prototype.xu=function(t){this.enqueue(t)},t.prototype.Wu=function(t){this.zu(),this.Ku(t)},t.prototype.Hu=function(t){return this.zu(),this.Ku(t)},t.prototype.Ju=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.zu(),this.Lu?[3,2]:(this.Lu=!0,[4,this.Hu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.zu(),this.Lu?new Promise((function(t){})):this.Ku(t)},t.prototype.Ku=function(t){var e=this,n=this.ju.then((function(){return e.qu=!0,t().catch((function(t){e.Mu=t,e.qu=!1;var n=t.stack||t.message||"";throw y("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.qu=!1,t}))}));return this.ju=n,n},t.prototype.Yu=function(t,e,n){var r=this;this.zu(),_(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Qu.indexOf(t)>-1&&(e=0);var i=jn.Nu(this,t,e,n,(function(t){return r.Xu(t)}));return this.Bu.push(i),i},t.prototype.zu=function(){this.Mu&&g("AsyncQueue is already failed: "+(this.Mu.stack||this.Mu.message))},t.prototype.$u=function(){_(this.qu,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.Zu=function(){return this.Hu((function(){return Promise.resolve()}))},t.prototype.ts=function(t){for(var e=0,n=this.Bu;e<n.length;e++)if(n[e].Su===t)return!0;return!1},t.prototype.ns=function(t){var e=this;return this.Zu().then((function(){_(t===Pn.bu||e.ts(t),"Attempted to drain to missing operation "+t),e.Bu.sort((function(t,e){return t.Cu-e.Cu}));for(var n=0,r=e.Bu;n<r.length;n++){var i=r[n];if(i.Uu(),t!==Pn.bu&&i.Su===t)break}return e.Zu()}))},t.prototype.es=function(t){this.Qu.push(t)},t.prototype.Xu=function(t){var e=this.Bu.indexOf(t);_(e>=0,"Delayed operation not found."),this.Bu.splice(e,1)},t}();function qn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Bn(e)),e=zn(t.get(n),e);return Bn(e)}function zn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Bn(t){return t+"\x01\x01"}function Hn(t){var e=t.length;if(_(e>=2,"Invalid path "+t),2===e)return _("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),ht.et;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&g('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:g('Invalid encoded resource path: "'+t+'"')}o=s+2}return new ht(r)}var Gn=function(){function t(t,e,n,r){this.batchId=t,this.jn=e,this.baseMutations=n,this.mutations=r,_(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Wt=function(t,e,n){e&&_(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.rs;_(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Wt(e,r[i]))}return e},t.prototype.Gt=function(t,e){e&&_(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.Gt(e,e,this.jn));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.Gt(e,i,this.jn))}return e},t.prototype.us=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Gt(r.key,t.get(r.key));i&&(n=n.lt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ze())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&k(this.mutations,t.mutations)&&k(this.baseMutations,t.baseMutations)},t}(),Wn=function(){function t(t,e,n,r,i){this.batch=t,this.ss=e,this.rs=n,this.streamToken=r,this.os=i}return t.from=function(e,n,r,i){_(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=$e(),s=e.mutations,a=0;a<s.length;a++)o=o.lt(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Kn=function(){function t(){this.hs=new _t(Qn.Bn),this.cs=new _t(Qn.as)}return t.prototype.J=function(){return this.hs.J()},t.prototype.fs=function(t,e){var n=new Qn(t,e);this.hs=this.hs.add(n),this.cs=this.cs.add(n)},t.prototype.ls=function(t,e){var n=this;t.forEach((function(t){return n.fs(t,e)}))},t.prototype.ds=function(t,e){this.vs(new Qn(t,e))},t.prototype.ws=function(t,e){var n=this;t.forEach((function(t){return n.ds(t,e)}))},t.prototype.ms=function(t){var e=this,n=pt.EMPTY,r=new Qn(n,t),i=new Qn(n,t+1),o=[];return this.cs.Lt([r,i],(function(t){e.vs(t),o.push(t.key)})),o},t.prototype.ps=function(){var t=this;this.hs.forEach((function(e){return t.vs(e)}))},t.prototype.vs=function(t){this.hs=this.hs.delete(t),this.cs=this.cs.delete(t)},t.prototype.gs=function(t){var e=pt.EMPTY,n=new Qn(e,t),r=new Qn(e,t+1),i=Ze();return this.cs.Lt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.bs=function(t){var e=new Qn(t,0),n=this.hs.Mt(e);return null!==n&&t.isEqual(n.key)},t}(),Qn=function(){function t(t,e){this.key=t,this.ys=e}return t.Bn=function(t,e){return pt.G(t.key,e.key)||w(t.ys,e.ys)},t.as=function(t,e){return w(t.ys,e.ys)||pt.G(t.key,e.key)},t}(),Yn=function(){function t(t){this._s=t,this.Is={}}return t.prototype.get=function(t){var e=this._s(t),n=this.Is[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this._s(t),r=this.Is[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Is[n]=[[t,e]]},t.prototype.delete=function(t){var e=this._s(t),n=this.Is[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Is[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){j(this.Is,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.J=function(){return U(this.Is)},t}(),Jn=function(){function t(t){var e=this;this.Ts=null,this.Es=null,this.result=void 0,this.error=void 0,this.Rs=!1,this.As=!1,t((function(t){e.Rs=!0,e.result=t,e.Ts&&e.Ts(t)}),(function(t){e.Rs=!0,e.error=t,e.Es&&e.Es(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.As&&g("Called next() or catch() twice for PersistencePromise"),this.As=!0,this.Rs?this.error?this.Ds(n,this.error):this.Ps(e,this.result):new t((function(t,i){r.Ts=function(n){r.Ps(e,n).next(t,i)},r.Es=function(e){r.Ds(n,e).next(t,i)}}))},t.prototype.Ss=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Cs=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Ps=function(e,n){return e?this.Cs((function(){return e(n)})):t.resolve(n)},t.prototype.Ds=function(e,n){return e?this.Cs((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.ks=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Vs=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.ks(r)},t}(),$n=function(){function t(){this.Ns=new Yn((function(t){return t.toString()})),this.Os=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return _(void 0!==this.Fs,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.Fs},set:function(t){_(void 0===this.Fs||this.Fs.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.Fs=t},enumerable:!0,configurable:!0}),t.prototype.Us=function(t,e){this.xs(),this.readTime=e,this.Ns.set(t.key,t)},t.prototype.js=function(t,e){this.xs(),e&&(this.readTime=e),this.Ns.set(t,null)},t.prototype.Ls=function(t,e){this.xs();var n=this.Ns.get(e);return void 0!==n?Jn.resolve(n):this.Bs(t,e)},t.prototype.getEntries=function(t,e){return this.Ms(t,e)},t.prototype.apply=function(t){return this.xs(),this.Os=!0,this.qs(t)},t.prototype.xs=function(){_(!this.Os,"Changes have already been applied.")},t}(),Xn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zn=function(){function t(){this.Qs=[]}return t.prototype.Gs=function(t){this.Qs.push(t)},t.prototype.Ws=function(){this.Qs.forEach((function(t){return t()}))},t}(),tr=function(){function t(e){this.db=e,12.2===t.zs(u.getUA())&&y("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Ks=function(e,n,r){return _(t.Hs(),"IndexedDB not supported in current environment."),v("SimpleDb","Opening database:",e),new Jn((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new x(A.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new x(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){v("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,jr).next((function(){v("SimpleDb","Database upgrade to version "+jr+" complete")}))}})).Ss()},t.delete=function(t){return v("SimpleDb","Removing database:",t),ir(window.indexedDB.deleteDatabase(t)).Ss()},t.Hs=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.Js())return!0;if(void 0===window.navigator)return!1;var e=u.getUA(),n=t.zs(e),r=0<n&&n<10,i=t.Ys(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Js=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Xs)},t.$s=function(t,e){return t.store(e)},t.zs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Ys=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Zs=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,u,l;return s.__generator(this,(function(c){switch(c.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),o=0,a=function(){var t,a,l,c;return s.__generator(this,(function(s){switch(s.label){case 0:++o,t=nr.open(u.db,r?"readonly":"readwrite",e),s.label=1;case 1:return s.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),Jn.reject(e)})).Ss()).catch((function(){})),[4,t.to];case 2:return s.sent(),[2,{value:a}];case 3:return v("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(l=s.sent()).message,c=i&&"FirebaseError"!==l.name&&o<3),c?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:return"object"==typeof(l=c.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),er=function(){function t(t){this.no=t,this.io=!1,this.eo=null}return Object.defineProperty(t.prototype,"Rs",{get:function(){return this.io},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ro",{get:function(){return this.eo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.no=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.io=!0},t.prototype.uo=function(t){this.eo=t},t.prototype.delete=function(){return ir(this.no.delete())},t}(),nr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.so=new Vn,this.transaction.oncomplete=function(){e.so.resolve()},this.transaction.onabort=function(){t.error?e.so.reject(t.error):e.so.resolve()},this.transaction.onerror=function(t){var n=sr(t.target.error);e.so.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"to",{get:function(){return this.so.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.so.reject(t),this.aborted||(v("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return _(!!e,"Object store not part of transaction: "+t),new rr(e)},t}(),rr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(v("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ir(n)},t.prototype.add=function(t){return v("SimpleDb","ADD",this.store.name,t,t),ir(this.store.add(t))},t.prototype.get=function(t){var e=this;return ir(this.store.get(t)).next((function(n){return void 0===n&&(n=null),v("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return v("SimpleDb","DELETE",this.store.name,t),ir(this.store.delete(t))},t.prototype.count=function(){return v("SimpleDb","COUNT",this.store.name),ir(this.store.count())},t.prototype.oo=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ho(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.co=function(t,e){v("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ao=!1;var r=this.cursor(n);return this.ho(r,(function(t,e,n){return n.delete()}))},t.prototype.fo=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ho(r,e)},t.prototype.lo=function(t){var e=this.cursor({});return new Jn((function(n,r){e.onerror=function(t){var e=sr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ho=function(t,e){var n=[];return new Jn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new er(i),s=e(i.primaryKey,i.value,o);if(s instanceof Jn){var a=s.catch((function(t){return o.done(),Jn.reject(t)}));n.push(a)}o.Rs?r():null===o.ro?i.continue():i.continue(o.ro)}else r()}})).next((function(){return Jn.ks(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(_(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ao?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ir(t){return new Jn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=sr(t.target.error);n(e)}}))}var or=!1;function sr(t){var e=tr.zs(u.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new x("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return or||(or=!0,setTimeout((function(){throw r}),0)),r}}return t}var ar,ur,lr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.do=n,this.vo=r,this.wo={}}return t.mo=function(e,n,r,i){return _(""!==e.uid,"UserID must not be an empty string."),new t(e.l()?e.uid:"",n,r,i)},t.prototype.po=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fr(t).fo({index:Hr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.bo=function(t,e,n){return this.yo(t).next((function(e){return e.lastStreamToken=n.toBase64(),pr(t).put(e)}))},t.prototype._o=function(t){return this.yo(t).next((function(t){return Me.fromBase64String(t.lastStreamToken)}))},t.prototype.Io=function(t,e){return this.yo(t).next((function(n){return n.lastStreamToken=e.toBase64(),pr(t).put(n)}))},t.prototype.To=function(t,e,n,r){var i=this,o=dr(t),s=fr(t);return s.add({}).next((function(a){_("number"==typeof a,"Auto-generated key is not a number");for(var u=new Gn(a,e,n,r),l=i.serializer.Eo(i.userId,u),c=[],h=new _t((function(t,e){return w(t.nt(),e.nt())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Gr.key(i.userId,p.key.path,a);h=h.add(p.key.path.H()),c.push(s.put(l)),c.push(o.put(v,Gr.PLACEHOLDER))}return h.forEach((function(e){c.push(i.do.Ro(t,e))})),t.Gs((function(){i.wo[a]=u.keys()})),Jn.ks(c).next((function(){return u}))}))},t.prototype.Ao=function(t,e){var n=this;return fr(t).get(e).next((function(t){return t?(_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.Do(t)):null}))},t.prototype.Po=function(t,e){var n=this;return this.wo[e]?Jn.resolve(this.wo[e]):this.Ao(t,e).next((function(t){if(t){var r=t.keys();return n.wo[e]=r,r}return null}))},t.prototype.So=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fr(t).fo({index:Hr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(_(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.Do(e)),i.done()})).next((function(){return o}))},t.prototype.Co=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fr(t).fo({index:Hr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.ko=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fr(t).oo(Hr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Do(t)}))}))},t.prototype.Vo=function(t,e){var n=this,r=Gr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dr(t).fo({range:i},(function(r,i,s){var a=r[0],u=r[2],l=Hn(r[1]);if(a===n.userId&&e.path.isEqual(l))return fr(t).get(u).next((function(t){if(!t)throw g("Dangling document-mutation reference found: "+r+" which points to "+u);_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.Do(t))}));s.done()})).next((function(){return o}))},t.prototype.No=function(t,e){var n=this,r=new _t(w),i=[];return e.forEach((function(e){var o=Gr.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=dr(t).fo({range:s},(function(t,i,o){var s=t[0],a=t[2],u=Hn(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Jn.ks(i).next((function(){return n.Oo(t,r)}))},t.prototype.Fo=function(t,e){var n=this;_(!e.zn(),"Document queries shouldn't go down this path"),_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=Gr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new _t(w);return dr(t).fo({range:s},(function(t,e,o){var s=t[0],u=t[2],l=Hn(t[1]);s===n.userId&&r.$(l)?l.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Oo(t,a)}))},t.prototype.Oo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fr(t).get(e).next((function(t){if(null===t)throw g("Dangling document-mutation reference found, which points to "+e);_(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.Do(t))})))})),Jn.ks(i).next((function(){return r}))},t.prototype.Uo=function(t,e){var n=this;return hr(t.xo,this.userId,e).next((function(r){return t.Gs((function(){n.jo(e.batchId)})),Jn.forEach(r,(function(e){return n.vo.Lo(t,e)}))}))},t.prototype.jo=function(t){delete this.wo[t]},t.prototype.Bo=function(t){var e=this;return this.po(t).next((function(n){if(!n)return Jn.resolve();var r=IDBKeyRange.lowerBound(Gr.prefixForUser(e.userId)),i=[];return dr(t).fo({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Hn(t[1]);i.push(o)}else r.done()})).next((function(){_(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.nt()})))}))}))},t.prototype.bs=function(t,e){return cr(t,this.userId,e)},t.prototype.yo=function(t){var e=this;return pr(t).get(this.userId).next((function(t){return t||new Br(e.userId,-1,"")}))},t}();function cr(t,e,n){var r=Gr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return dr(t).fo({range:o,ao:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function hr(t,e,n){var r=t.store(Hr.store),i=t.store(Gr.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.fo({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){_(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=Gr.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return Jn.ks(o).next((function(){return l}))}function fr(t){return ci.$s(t,Hr.store)}function dr(t){return ci.$s(t,Gr.store)}function pr(t){return ci.$s(t,Br.store)}(ur=ar||(ar={}))[ur.Mo=0]="__PRIVATE_QueryCache",ur[ur.qo=1]="__PRIVATE_SyncEngine";var vr=function(){function t(t,e){this.Qo=t,_((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.Go(void 0!==e?e:this.Qo)}return t.prototype.next=function(){var t=this.Wo;return this.Wo+=2,t},t.prototype.after=function(t){return this.Go(t+2),this.next()},t.prototype.Go=function(t){_((1&t)===this.Qo,"Cannot supply target ID from different generator ID"),this.Wo=t},t.zo=function(){return new t(ar.Mo,2)},t.Ko=function(){return new t(ar.qo)},t}(),yr=function(){function t(t,e,n){this.Ho=t,this.Jo=e,this.do=n}return t.prototype.Yo=function(t,e){var n=this;return this.Jo.Vo(t,e).next((function(r){return n.Xo(t,e,r)}))},t.prototype.Xo=function(t,e,n){return this.Ho.Ls(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Gt(e,t);return t}))},t.prototype.$o=function(t,e,n){var r=Ke();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Gt(t,e);r=r.lt(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.Ho.getEntries(t,e).next((function(e){return n.th(t,e)}))},t.prototype.th=function(t,e){var n=this;return this.Jo.No(t,e).next((function(r){var i=n.$o(t,e,r),o=We();return i.forEach((function(t,e){e||(e=new ae(t,lt.B())),o=o.lt(t,e)})),o}))},t.prototype.nh=function(t,e,n){return e.zn()?this.ih(t,e.path):e._i()?this.eh(t,e,n):this.rh(t,e,n)},t.prototype.ih=function(t,e){return this.Yo(t,new pt(e)).next((function(t){var e=Ye();return t instanceof se&&(e=e.lt(t.key,t)),e}))},t.prototype.eh=function(t,e,n){var r=this;_(e.path.J(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Ye();return this.do.uh(t,i).next((function(s){return Jn.forEach(s,(function(s){var a=e.ai(s.child(i));return r.rh(t,a,n).next((function(t){t.forEach((function(t,e){o=o.lt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.rh=function(t,e,n){var r,i,o=this;return this.Ho.nh(t,e,n).next((function(n){return r=n,o.Jo.Fo(t,e)})).next((function(e){return o.sh(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=r.get(l),h=u.Gt(c,c,o.jn);r=h instanceof se?r.lt(l,h):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.sh=function(t,e,n){for(var r=Ze(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Vt&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Ho.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof se&&(l=l.lt(t,e))})),l}))},t}(),mr=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.oh=n,this.hh=r}return t.ah=function(e,n){for(var r=Ze(),i=Ze(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case nn.Bi:r=r.add(a.doc.key);break;case nn.Mi:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gr="LocalStore",_r=function(){function t(t,e,n){this.persistence=t,this.fh=e,this.lh=new Kn,this.dh=new vt(w),this.vh=new Yn((function(t){return t.canonicalId()})),this.wh=lt.MIN,_(t.mh,"LocalStore was passed an unstarted persistence implementation"),this.persistence.vo.ph(this.lh),this.Jo=t.gh(n),this.bh=t.yh(),this._h=t.Ih(),this.Th=new yr(this.bh,this.Jo,this.persistence.Eh()),this.fh.Rh(this.Th)}return t.prototype.start=function(){return this.Ah()},t.prototype.Dh=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return s.__generator(this,(function(o){switch(o.label){case 0:return e=this.Jo,n=this.Th,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.Jo.ko(r).next((function(s){return o=s,e=i.persistence.gh(t),n=new yr(i.bh,e,i.persistence.Eh()),e.ko(r)})).next((function(t){for(var e=[],i=[],s=Ze(),a=0,u=o;a<u.length;a++){var l=u[a];e.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];s=s.add(f.key)}}for(var d=0,p=t;d<p.length;d++){i.push((l=p[d]).batchId);for(var v=0,y=l.mutations;v<y.length;v++)s=s.add((f=y[v]).key)}return n.Zo(r,s).next((function(t){return{Ph:t,Sh:e,Ch:i}}))}))}))];case 1:return r=o.sent(),this.Jo=e,this.Th=n,this.fh.Rh(this.Th),[2,r]}}))}))},t.prototype.kh=function(t){var e,n=this,r=ut.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Ze());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.Th.Zo(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var l=u[a],c=l.sn(e.get(l.key));null!=c&&s.push(new Vt(l.key,c,c.on(),Mt.exists(!0)))}return n.Jo.To(o,r,s,t)}))})).then((function(t){var n=t.us(e);return{batchId:t.batchId,Ns:n}}))},t.prototype.Vh=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.Jo.Po(n,t).next((function(t){return t?e.Th.Zo(n,t):Jn.resolve(null)}))}))},t.prototype.bo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.bh.Nh({Oh:!0});return e.Jo.bo(n,t.batch,t.streamToken).next((function(){return e.Fh(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Jo.Bo(n)})).next((function(){return e.Th.Zo(n,r)}))}))},t.prototype.Uh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.Jo.Ao(n,t).next((function(t){return _(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.Jo.Uo(n,t)})).next((function(){return e.Jo.Bo(n)})).next((function(){return e.Th.Zo(n,r)}))}))},t.prototype.Co=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.Jo.Co(e)}))},t.prototype._o=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.Jo._o(e)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.Jo.Io(n,t)}))},t.prototype.xh=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t._h.xh(e)}))},t.prototype.jh=function(e){var n=this,r=e.Ni,i=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var s=n.bh.Nh({Oh:!0});i=n.dh;var a=[];V(e.Zi,(function(e,s){var u=i.get(e);if(u){a.push(n._h.Lh(o,s.he,e).next((function(){return n._h.Bh(o,s.se,e)})));var l=s.resumeToken;if(l.Nn()>0){var c=u.Fi(l,r).Oi(o.Mh);i=i.lt(e,c),t.qh(u,c,s)&&a.push(n._h.Qh(o,c))}}}));var u=We(),l=Ze();if(e.ne.forEach((function(t,e){l=l.add(t)})),a.push(s.getEntries(o,l).next((function(t){e.ne.forEach((function(i,l){var c=t.get(i);l instanceof ae&&l.version.isEqual(lt.MIN)?(s.js(i,r),u=u.lt(i,l)):null==c||l.version.h(c.version)>0||0===l.version.h(c.version)&&c.hasPendingWrites?(_(!lt.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.Us(l,r),u=u.lt(i,l)):v(gr,"Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",l.version),e.ie.has(i)&&a.push(n.persistence.vo.Gh(o,i))}))}))),!r.isEqual(lt.MIN)){var c=n._h.xh(o).next((function(t){return _(r.h(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n._h.Wh(o,o.Mh,r)}));a.push(c)}return Jn.ks(a).next((function(){return s.apply(o)})).next((function(){return n.Th.th(o,u)}))})).then((function(t){return n.dh=i,t}))},t.qh=function(t,e,n){return _(e.resumeToken.Nn()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Nn()||e.Ni.M()-t.Ni.M()>=this.zh||n.se.size+n.oe.size+n.he.size>0},t.prototype.Kh=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.lh.ls(i.oh,o),this.lh.ws(i.hh,o),!i.fromCache){var s=this.dh.get(o);_(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var a=s.Ui(s.Ni);this.dh=this.dh.lt(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return Jn.forEach(t,(function(t){return Jn.forEach(t.hh,(function(t){return e.persistence.vo.ds(n,t)}))}))}))},t.prototype.Hh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.Jo.So(n,t)}))},t.prototype.Jh=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.Th.Yo(n,t)}))},t.prototype.Yh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return e._h.Xh(n,t).next((function(i){return i?Jn.resolve(r=i):e._h.$h(n).next((function(i){return r=new Ue(t,i,Pe.Si,n.Mh),e._h.Zh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.dh.get(n.targetId)&&(e.dh=e.dh.lt(n.targetId,n),e.vh.set(t,n.targetId)),n}))},t.prototype.Xh=function(t,e){var n=this.vh.get(e);return void 0!==n?Jn.resolve(this.dh.get(n)):this._h.Xh(t,e)},t.prototype.tc=function(t,e){var n=this,r=this.dh.get(t);return _(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(i){var o=n.lh.ms(t);return e?Jn.resolve():Jn.forEach(o,(function(t){return n.persistence.vo.ds(i,t)})).next((function(){n.persistence.vo.removeTarget(i,r)}))})).then((function(){n.dh=n.dh.remove(t),n.vh.delete(r.target)}))},t.prototype.nc=function(t,e){var n=this,r=lt.MIN,i=Ze();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.Xh(o,t.li()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n._h.ic(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.fh.nh(o,t,e?r:lt.MIN,e?i:Ze())})).next((function(t){return{documents:t,ec:i}}))}))},t.prototype.rc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e._h.ic(n,t)}))},t.prototype.uc=function(){return this.persistence.uc()},t.prototype.sc=function(t){this.Jo.jo(t)},t.prototype.oc=function(t){this.persistence.oc(t)},t.prototype.Fh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Jn.resolve();return o.forEach((function(r){s=s.next((function(){return n.Ls(t,r)})).next((function(t){var o=t,s=e.os.get(r);_(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.h(s)<0)&&((o=i.Wt(r,o,e))?n.Us(o,e.ss):_(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.Jo.Uo(t,i)}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.cc(n,e.dh)}))},t.prototype.ac=function(t){var e=this,n=this.dh.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e._h.Ye(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.fc=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.bh.fc(e,t.wh)})).then((function(e){var n=e.lc;return t.wh=e.readTime,n}))},t.prototype.Ah=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e=this;return s.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(t){return e.bh.dc(t)}))];case 1:return t.wh=n.sent(),[2]}}))}))},t.zh=3e8,t}();function br(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){if(t.code!==A.FAILED_PRECONDITION||t.message!==Xn)throw t;return v(gr,"Unexpectedly lost primary lease"),[2]}))}))}function wr(t,e){var n=t[1],r=e[1],i=w(t[0],e[0]);return 0===i?w(n,r):i}var kr=function(){function t(t){this.vc=t,this.buffer=new _t(wr),this.wc=0}return t.prototype.mc=function(){return++this.wc},t.prototype.pc=function(t){var e=[t,this.mc()];if(this.buffer.size<this.vc)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Cr={gc:!1,bc:0,yc:0,_c:0},Er=function(){function t(t,e,n){this.Ic=t,this.Tc=e,this.Ec=n}return t.Rc=function(e){return new t(e,t.Ac,t.Dc)},t.Pc=-1,t.Sc=1048576,t.kc=new t(t.Cc=41943040,t.Ac=10,t.Dc=1e3),t.DISABLED=new t(t.Pc,0,0),t}(),Sr=function(){function t(t,e,n){this.Vc=t,this.Pu=e,this.Nc=n,this.Oc=!1,this.Fc=null}return t.prototype.start=function(){_(null===this.Fc,"Cannot start an already started LruScheduler"),this.Vc.params.Ic!==Er.Pc&&this.Uc()},t.prototype.stop=function(){this.Fc&&(this.Fc.cancel(),this.Fc=null)},Object.defineProperty(t.prototype,"mh",{get:function(){return null!==this.Fc},enumerable:!0,configurable:!0}),t.prototype.Uc=function(){var t=this;_(null===this.Fc,"Cannot schedule GC while a task is pending");var e=this.Oc?3e5:6e4;v("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.Fc=this.Pu.Yu(Pn.Au,e,(function(){return t.Fc=null,t.Oc=!0,t.Nc.hc(t.Vc).then((function(){return t.Uc()})).catch(br)}))},t}(),Tr=function(){function t(t,e){this.xc=t,this.params=e}return t.prototype.jc=function(t,e){return this.xc.Lc(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Bc=function(t,e){var n=this;if(0===e)return Jn.resolve(Fn.gu);var r=new kr(e);return this.xc.Le(t,(function(t){return r.pc(t.sequenceNumber)})).next((function(){return n.xc.Mc(t,(function(t){return r.pc(t)}))})).next((function(){return r.maxValue}))},t.prototype.qc=function(t,e,n){return this.xc.qc(t,e,n)},t.prototype.Qc=function(t,e){return this.xc.Qc(t,e)},t.prototype.cc=function(t,e){var n=this;return this.params.Ic===Er.Pc?(v("LruGarbageCollector","Garbage collection skipped; disabled"),Jn.resolve(Cr)):this.Gc(t).next((function(r){return r<n.params.Ic?(v("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Ic),Cr):n.Wc(t,e)}))},t.prototype.Gc=function(t){return this.xc.Gc(t)},t.prototype.Wc=function(t,e){var n,r,o,s,a,u,l,c=this,h=Date.now();return this.jc(t,this.params.Tc).next((function(e){return e>c.params.Ec?(v("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ec+" from "+e),r=c.params.Ec):r=e,s=Date.now(),c.Bc(t,r)})).next((function(r){return n=r,a=Date.now(),c.qc(t,n,e)})).next((function(e){return o=e,u=Date.now(),c.Qc(t,n)})).next((function(t){return l=Date.now(),d()<=i.DEBUG&&v("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms"),Jn.resolve({gc:!0,bc:r,yc:o,_c:t})}))},t}(),Ir=function(){function t(t,e){this.vo=t,this.serializer=e,this.zc=vr.zo()}return t.prototype.$h=function(t){var e=this;return this.Kc(t).next((function(n){return n.highestTargetId=e.zc.after(n.highestTargetId),e.Hc(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.xh=function(t){return this.Kc(t).next((function(t){return lt.L(new ut(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Jc=function(t){return Nr(t.xo)},t.prototype.Wh=function(t,e,n){var r=this;return this.Kc(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.q()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Hc(t,i)}))},t.prototype.Zh=function(t,e){var n=this;return this.Yc(t,e).next((function(){return n.Kc(t).next((function(r){return r.targetCount+=1,n.Xc(e,r),n.Hc(t,r)}))}))},t.prototype.Qh=function(t,e){return this.Yc(t,e)},t.prototype.$c=function(t,e){var n=this;return this.Zc(t,e.targetId).next((function(){return Ar(t).delete(e.targetId)})).next((function(){return n.Kc(t)})).next((function(e){return _(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Hc(t,e)}))},t.prototype.qc=function(t,e,n){var r=this,i=0,o=[];return Ar(t).fo((function(s,a){var u=r.serializer.ta(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.$c(t,u)))})).next((function(){return Jn.ks(o)})).next((function(){return i}))},t.prototype.Le=function(t,e){var n=this;return Ar(t).fo((function(t,r){var i=n.serializer.ta(r);e(i)}))},t.prototype.Kc=function(t){return xr(t.xo)},t.prototype.Hc=function(t,e){return(n=t,ci.$s(n,Xr.store)).put(Xr.key,e);var n},t.prototype.Yc=function(t,e){return Ar(t).put(this.serializer.na(e))},t.prototype.Xc=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ia=function(t){return this.Kc(t).next((function(t){return t.targetCount}))},t.prototype.Xh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Ar(t).fo({range:i,index:Jr.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.ta(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.Bh=function(t,e,n){var r=this,i=[],o=Dr(t);return e.forEach((function(e){var s=qn(e.path);i.push(o.put(new $r(n,s))),i.push(r.vo.fs(t,e))})),Jn.ks(i)},t.prototype.Lh=function(t,e,n){var r=this,i=Dr(t);return Jn.forEach(e,(function(e){var o=qn(e.path);return Jn.ks([i.delete([n,o]),r.vo.ds(t,e)])}))},t.prototype.Zc=function(t,e){var n=Dr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ic=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Dr(t),i=Ze();return r.fo({range:n,ao:!0},(function(t,e,n){var r=Hn(t[1]),o=new pt(r);i=i.add(o)})).next((function(){return i}))},t.prototype.bs=function(t,e){var n=qn(e.path),r=IDBKeyRange.bound([n],[C(n)],!1,!0),i=0;return Dr(t).fo({index:$r.documentTargetsIndex,ao:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ye=function(t,e){var n=this;return Ar(t).get(e).next((function(t){return t?n.serializer.ta(t):null}))},t}();function Ar(t){return ci.$s(t,Jr.store)}function xr(t){return tr.$s(t,Xr.store).get(Xr.key).next((function(t){return _(null!==t,"Missing metadata row."),t}))}function Nr(t){return xr(t).next((function(t){return t.highestListenSequenceNumber}))}function Dr(t){return ci.$s(t,$r.store)}var Or=function(){function t(t,e){this.serializer=t,this.do=e}return t.prototype.Us=function(t,e,n){return Rr(t).put(Mr(e),n)},t.prototype.js=function(t,e){var n=Rr(t),r=Mr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ea(t,r)}))},t.prototype.Ls=function(t,e){var n=this;return Rr(t).get(Mr(e)).next((function(t){return n.ra(t)}))},t.prototype.ua=function(t,e){var n=this;return Rr(t).get(Mr(e)).next((function(t){var e=n.ra(t);return e?{sa:e,size:Lr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ke();return this.oa(t,e,(function(t,e){var i=n.ra(e);r=r.lt(t,i)})).next((function(){return r}))},t.prototype.ha=function(t,e){var n=this,r=Ke(),i=new vt(pt.G);return this.oa(t,e,(function(t,e){var o=n.ra(e);o?(r=r.lt(t,o),i=i.lt(t,Lr(e))):(r=r.lt(t,null),i=i.lt(t,0))})).next((function(){return{ca:r,aa:i}}))},t.prototype.oa=function(t,e,n){if(e.J())return Jn.resolve();var r=IDBKeyRange.bound(e.first().path.tt(),e.last().path.tt()),i=e.bt(),o=i.Rt();return Rr(t).fo({range:r},(function(t,e,r){for(var s=pt.at(t);o&&pt.G(o,s)<0;)n(o,null),o=i.Rt();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.Rt():null),o?r.uo(o.path.tt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.Rt():null}))},t.prototype.nh=function(t,e,n){var r=this;_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Ye(),o=e.path.length+1,s={};if(n.isEqual(lt.MIN)){var a=e.path.tt();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.tt(),l=this.serializer.fa(n);s.range=IDBKeyRange.lowerBound([u,l],!0),s.index=Qr.collectionReadTimeIndex}return Rr(t).fo(s,(function(t,n,s){if(t.length===o){var a=r.serializer.la(n);e.path.$(a.key.path)?a instanceof se&&e.matches(a)&&(i=i.lt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.fc=function(t,e){var n=this,r=We(),i=this.serializer.fa(e),o=Rr(t),s=IDBKeyRange.lowerBound(i,!0);return o.fo({index:Qr.readTimeIndex,range:s},(function(t,e){var o=n.serializer.la(e);r=r.lt(o.key,o),i=e.readTime})).next((function(){return{lc:r,readTime:n.serializer.da(i)}}))},t.prototype.dc=function(t){var e=this,n=Rr(t),r=lt.MIN;return n.fo({index:Qr.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.da(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Nh=function(e){return new t.va(this,!!e&&e.Oh)},t.prototype.wa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Pr(t).get(Yr.key).next((function(t){return _(!!t,"Missing document cache metadata"),t}))},t.prototype.ea=function(t,e){return Pr(t).put(Yr.key,e)},t.prototype.ra=function(t){if(t){var e=this.serializer.la(t);return e instanceof ae&&e.version.isEqual(lt.B())?null:e}return null},t.va=function(t){function e(e,n){var r=t.call(this)||this;return r.ma=e,r.Oh=n,r.pa=new Yn((function(t){return t.toString()})),r}return s.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[],r=0,i=new _t((function(t,e){return w(t.nt(),e.nt())}));return this.Ns.forEach((function(o,s){var a=e.pa.get(o);if(_(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){_(!e.readTime.isEqual(lt.MIN),"Cannot add a document with a read time of zero");var u=e.ma.serializer.ga(s,e.readTime);i=i.add(o.path.H());var l=Lr(u);r+=l-a,n.push(e.ma.Us(t,o,u))}else if(r-=a,e.Oh){var c=e.ma.serializer.ga(new ae(o,lt.B()),e.readTime);n.push(e.ma.Us(t,o,c))}else n.push(e.ma.js(t,o))})),i.forEach((function(r){n.push(e.ma.do.Ro(t,r))})),n.push(this.ma.updateMetadata(t,r)),Jn.ks(n)},e.prototype.Bs=function(t,e){var n=this;return this.ma.ua(t,e).next((function(t){return null===t?(n.pa.set(e,0),null):(n.pa.set(e,t.size),t.sa)}))},e.prototype.Ms=function(t,e){var n=this;return this.ma.ha(t,e).next((function(t){var e=t.ca;return t.aa.forEach((function(t,e){n.pa.set(t,e)})),e}))},e}($n),t}();function Pr(t){return ci.$s(t,Yr.store)}function Rr(t){return ci.$s(t,Qr.store)}function Mr(t){return t.path.tt()}function Lr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Fr=function(){function t(){this.ba=new Vr}return t.prototype.Ro=function(t,e){return this.ba.add(e),Jn.resolve()},t.prototype.uh=function(t,e){return Jn.resolve(this.ba.getEntries(e))},t}(),Vr=function(){function t(){this.index={}}return t.prototype.add=function(t){_(t.length%2==1,"Expected a collection path.");var e=t.X(),n=t.H(),r=this.index[e]||new _t(ht.G),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.X(),n=t.H(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _t(ht.G)).tt()},t}(),jr=9,Ur=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;_(n<r&&n>=0&&r<=jr,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new nr(e);n<1&&r>=1&&(function(t){t.createObjectStore(zr.store)}(t),function(t){t.createObjectStore(Br.store,{keyPath:Br.keyPath}),t.createObjectStore(Hr.store,{keyPath:Hr.keyPath,autoIncrement:!0}).createIndex(Hr.userMutationsIndex,Hr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Gr.store)}(t),ti(t),function(t){t.createObjectStore(Qr.store)}(t));var s=Jn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($r.store),t.deleteObjectStore(Jr.store),t.deleteObjectStore(Xr.store)}(t),ti(t)),s=s.next((function(){return function(t){var e=t.store(Xr.store),n=new Xr(0,0,lt.MIN.q(),0);return e.put(Xr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Hr.store).oo().next((function(n){t.deleteObjectStore(Hr.store),t.createObjectStore(Hr.store,{keyPath:Hr.keyPath,autoIncrement:!0}).createIndex(Hr.userMutationsIndex,Hr.userMutationsKeyPath,{unique:!0});var r=e.store(Hr.store),i=n.map((function(t){return r.put(t)}));return Jn.ks(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(ei.store,{keyPath:ei.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Yr.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Qr.store);e.createIndex(Qr.readTimeIndex,Qr.readTimeIndexPath,{unique:!1}),e.createIndex(Qr.collectionReadTimeIndex,Qr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Qr.store).fo((function(t,n){e+=Lr(n)})).next((function(){var n=new Yr(e);return t.store(Yr.store).put(Yr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Br.store),r=t.store(Hr.store);return n.oo().next((function(n){return Jn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.oo(Hr.userMutationsIndex,i).next((function(r){return Jn.forEach(r,(function(r){_(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.Do(r);return hr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store($r.store),n=t.store(Qr.store);return Nr(t).next((function(t){var r=[];return n.fo((function(n,i){var o=new ht(n),s=function(t){return[0,qn(t)]}(o);r.push(e.get(s).next((function(n){return n?Jn.resolve():function(n){return e.put(new $r(0,qn(n),t))}(o)})))})).next((function(){return Jn.ks(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Zr.store,{keyPath:Zr.keyPath});var n=e.store(Zr.store),r=new Vr,i=function(t){if(r.add(t)){var e=t.X(),i=t.H();return n.put({collectionId:e,parent:qn(i)})}};return e.store(Qr.store).fo({ao:!0},(function(t,e){var n=new ht(t);return i(n.H())})).next((function(){return e.store(Gr.store).fo({ao:!0},(function(t,e){var n=Hn(t[1]);return i(n.H())}))}))},t}(),qr=function(t,e){this.seconds=t,this.nanoseconds=e},zr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Br=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Hr=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Gr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,qn(e)]},t.key=function(t,e,n){return[t,qn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Wr=function(t,e){this.path=t,this.readTime=e},Kr=function(t,e){this.path=t,this.version=e},Qr=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),Yr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),Jr=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),$r=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,_(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),Xr=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),Zr=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function ti(t){t.createObjectStore($r.store,{keyPath:$r.keyPath}).createIndex($r.documentTargetsIndex,$r.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.queryTargetsIndexName,Jr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Xr.store)}var ei=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),ni=s.__spreadArrays([Br.store,Hr.store,Gr.store,Qr.store,Jr.store,zr.store,Xr.store,$r.store],[ei.store]),ri=s.__spreadArrays(ni,[Yr.store]),ii=s.__spreadArrays(ri,[Zr.store]),oi=function(){function t(){this.ya=new Vr}return t.prototype.Ro=function(t,e){var n=this;if(_(e.length%2==1,"Expected a collection path."),!this.ya.has(e)){var r=e.X(),i=e.H();t.Gs((function(){n.ya.add(e)}));var o={collectionId:r,parent:qn(i)};return si(t).put(o)}return Jn.resolve()},t.prototype.uh=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[C(e),""],!1,!0);return si(t).oo(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Hn(o.parent))}return n}))},t}();function si(t){return ci.$s(t,Zr.store)}var ai=function(){function t(t){this._a=t}return t.prototype.la=function(t){if(t.document)return this._a.Er(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=pt.at(t.noDocument.path),n=this.Ia(t.noDocument.readTime);return new ae(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=pt.at(t.unknownDocument.path),n=this.Ia(t.unknownDocument.version),new ue(e,n)):g("Unexpected DbRemoteDocument")},t.prototype.ga=function(t,e){var n=this.fa(e),r=t.key.path.H().tt();if(t instanceof se){var i=t.proto?t.proto:this._a.Tr(t),o=t.hasCommittedMutations;return new Qr(null,null,i,o,n,r)}if(t instanceof ae){var s=t.key.path.tt(),a=this.Ta(t.version);return o=t.hasCommittedMutations,new Qr(null,new Wr(s,a),null,o,n,r)}if(t instanceof ue){s=t.key.path.tt();var u=this.Ta(t.version);return new Qr(new Kr(s,u),null,null,!0,n,r)}return g("Unexpected MaybeDocument")},t.prototype.fa=function(t){var e=t.q();return[e.seconds,e.nanoseconds]},t.prototype.da=function(t){var e=new ut(t[0],t[1]);return lt.L(e)},t.prototype.Ta=function(t){var e=t.q();return new qr(e.seconds,e.nanoseconds)},t.prototype.Ia=function(t){var e=new ut(t.seconds,t.nanoseconds);return lt.L(e)},t.prototype.Eo=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n._a.Nr(t)})),i=e.mutations.map((function(t){return n._a.Nr(t)}));return new Hr(t,e.batchId,e.jn.toMillis(),r,i)},t.prototype.Do=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e._a.xr(t)})),r=t.mutations.map((function(t){return e._a.xr(t)})),i=ut.fromMillis(t.localWriteTimeMs);return new Gn(t.batchId,i,n,r)},t.prototype.Ea=function(t){var e=[];return t.forEach((function(t){e.push(qn(t.path))})),e},t.prototype.Ra=function(t){for(var e=Ze(),n=0,r=t;n<r.length;n++)e=e.add(new pt(Hn(r[n])));return e},t.prototype.ta=function(t){var e,n=this.Ia(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Ia(t.lastLimboFreeSnapshotVersion):lt.MIN;return e=void 0!==t.query.documents?this._a.Gr(t.query):this._a.Jr(t.query),new Ue(e,t.targetId,Pe.Si,t.lastListenSequenceNumber,n,r,Me.fromBase64String(t.resumeToken))},t.prototype.na=function(t){_(Pe.Si===t.Vi,"Only queries with purpose "+Pe.Si+" may be stored, got "+t.Vi);var e,n=this.Ta(t.Ni),r=this.Ta(t.lastLimboFreeSnapshotVersion);e=t.target.zn()?this._a.Qr(t.target):this._a.Wr(t.target);var i=t.resumeToken.toBase64();return new Jr(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),ui="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",li=function(t){function e(e,n){var r=t.call(this)||this;return r.xo=e,r.Mh=n,r}return s.__extends(e,t),e}(Zn),ci=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Aa=s,this.Da=u,this.Pa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Sa=null,this.inForeground=!1,this.Ca=null,this.ka=null,this.Va=Number.NEGATIVE_INFINITY,this.Na=function(t){return Promise.resolve()},this.vo=new di(this,o),this.Oa=n+t.Fa,this.serializer=new ai(a),this.document=i.document,this._h=new Ir(this.vo,this.serializer),this.do=new oi,this.Ho=new Or(this.serializer,this.do),!i.window||!i.window.localStorage)throw new x(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Ua=this.window.localStorage}return t.$s=function(t,e){if(t instanceof li)return tr.$s(t.xo,e);throw g("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.xa=function(e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:if(!t.Hs())throw new x(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.ja,e.Aa,e.serializer,e.Da)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return _(!this.mh,"IndexedDbPersistence double-started!"),_(null!==this.window,"Expected 'window' to be defined"),tr.Ks(this.Oa,jr,new Ur(this.serializer)).then((function(e){return t.La=e,t.Ba()})).then((function(){return t.Ma(),t.qa(),t.Qa(),t.La.runTransaction("readonly-idempotent",[Xr.store],(function(t){return Nr(t)}))})).then((function(e){t.Ga=new Fn(e,t.Da)})).then((function(){t.Pa=!0})).catch((function(e){return t.La&&t.La.close(),Promise.reject(e)}))},t.prototype.Wa=function(t){var e=this;return this.Na=function(n){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.mh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.za=function(t){var e=this;this.La.Zs((function(n){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Aa.xu((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.mh?[4,this.Ba()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ba=function(){var t=this;return this.La.runTransaction("readwrite-idempotent",ii,(function(e){return fi(e).put(new ei(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Ka(e).next((function(e){e||(t.isPrimary=!1,t.Aa.xu((function(){return t.Na(!1)})))}))})).next((function(){return t.Ha(e)})).next((function(n){return t.isPrimary&&!n?t.Ja(e).next((function(){return!1})):!!n&&t.Ya(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Aa.xu((function(){return t.Na(e)})),t.isPrimary=e}))},t.prototype.Ka=function(t){var e=this;return hi(t).get(zr.key).next((function(t){return Jn.resolve(e.Xa(t))}))},t.prototype.$a=function(t){return fi(t).delete(this.clientId)},t.prototype.Za=function(){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.tf(this.Va,18e5)?[3,2]:(this.Va=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=t.$s(n,ei.store);return r.oo().next((function(t){var n=e.nf(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Jn.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.if(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.Qa=function(){var t=this;this.ka=this.Aa.Yu(Pn.Ru,4e3,(function(){return t.Ba().then((function(){return t.Za()})).then((function(){return t.Qa()}))}))},t.prototype.Xa=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ha=function(t){var e=this;return hi(t).get(zr.key).next((function(n){if(null!==n&&e.tf(n.leaseTimestampMs,5e3)&&!e.ef(n.ownerId)){if(e.Xa(n)&&e.networkEnabled)return!0;if(!e.Xa(n)){if(!n.allowTabSynchronization)throw new x(A.FAILED_PRECONDITION,ui);return!1}}return!(!e.networkEnabled||!e.inForeground)||fi(t).oo().next((function(t){return void 0===e.nf(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&v("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(e){switch(e.label){case 0:return this.Pa=!1,this.rf(),this.ka&&(this.ka.cancel(),this.ka=null),this.uf(),this.sf(),[4,this.La.runTransaction("readwrite-idempotent",[zr.store,ei.store],(function(e){return t.Ja(e).next((function(){return t.$a(e)}))}))];case 1:return e.sent(),this.La.close(),this.hf(),[2]}}))}))},t.prototype.nf=function(t,e){var n=this;return t.filter((function(t){return n.tf(t.updateTimeMs,e)&&!n.ef(t.clientId)}))},t.prototype.uc=function(){var t=this;return this.La.runTransaction("readonly-idempotent",[ei.store],(function(e){return fi(e).oo().next((function(e){return t.nf(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return t.Hs()?[4,tr.delete(e+t.Fa)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.gh=function(t){return _(this.mh,"Cannot initialize MutationQueue before persistence is started."),lr.mo(t,this.serializer,this.do,this.vo)},t.prototype.Ih=function(){return _(this.mh,"Cannot initialize TargetCache before persistence is started."),this._h},t.prototype.yh=function(){return _(this.mh,"Cannot initialize RemoteDocumentCache before persistence is started."),this.Ho},t.prototype.Eh=function(){return _(this.mh,"Cannot initialize IndexManager before persistence is started."),this.do},t.prototype.runTransaction=function(t,e,n){var r=this;v("IndexedDbPersistence","Starting transaction:",t);var i,o=e.endsWith("idempotent"),s=e.startsWith("readonly")?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite";return this.La.runTransaction(s,ii,(function(o){return i=new li(o,r.Ga.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.Ka(o).next((function(t){return!!t||r.Ha(o)})).next((function(e){if(!e)throw y("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Aa.xu((function(){return r.Na(!1)})),new x(A.FAILED_PRECONDITION,Xn);return n(i)})).next((function(t){return r.Ya(o).next((function(){return t}))})):r.cf(o).next((function(){return n(i)}))})).then((function(t){return i.Ws(),t}))},t.prototype.cf=function(t){var e=this;return hi(t).get(zr.key).next((function(t){if(null!==t&&e.tf(t.leaseTimestampMs,5e3)&&!e.ef(t.ownerId)&&!e.Xa(t)&&!t.allowTabSynchronization)throw new x(A.FAILED_PRECONDITION,ui)}))},t.prototype.Ya=function(t){var e=new zr(this.clientId,this.allowTabSynchronization,Date.now());return hi(t).put(zr.key,e)},t.Hs=function(){return tr.Hs()},t.af=function(t){var e=t.s.projectId;return t.s.o||(e+="."+t.s.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.Ja=function(t){var e=this,n=hi(t);return n.get(zr.key).next((function(t){return e.Xa(t)?(v("IndexedDbPersistence","Releasing primary lease."),n.delete(zr.key)):Jn.resolve()}))},t.prototype.tf=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(y("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ma=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ca=function(){t.Aa.xu((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ba()}))},this.document.addEventListener("visibilitychange",this.Ca),this.inForeground="visible"===this.document.visibilityState)},t.prototype.uf=function(){this.Ca&&(_(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Ca),this.Ca=null)},t.prototype.qa=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Sa=function(){t.rf(),t.Aa.xu((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Sa))},t.prototype.sf=function(){this.Sa&&(_("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Sa),this.Sa=null)},t.prototype.ef=function(t){try{var e=null!==this.Ua.getItem(this.if(t));return v("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return y("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.rf=function(){try{this.Ua.setItem(this.if(this.clientId),String(Date.now()))}catch(t){y("Failed to set zombie client id.",t)}},t.prototype.hf=function(){try{this.Ua.removeItem(this.if(this.clientId))}catch(t){}},t.prototype.if=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Fa="main",t}();function hi(t){return t.store(zr.store)}function fi(t){return t.store(ei.store)}var di=function(){function t(t,e){this.db=t,this.ff=null,this.Vc=new Tr(this,e)}return t.prototype.Lc=function(t){var e=this.lf(t);return this.db.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.lf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Le=function(t,e){return this.db.Ih().Le(t,e)},t.prototype.Mc=function(t,e){return this.df(t,(function(t,n){return e(n)}))},t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return pi(t,e)},t.prototype.ds=function(t,e){return pi(t,e)},t.prototype.qc=function(t,e,n){return this.db.Ih().qc(t,e,n)},t.prototype.Lo=function(t,e){return pi(t,e)},t.prototype.vf=function(t,e){return this.ff.bs(e)?Jn.resolve(!0):function(t,e){var n=!1;return pr(t).lo((function(r){return cr(t,r,e).next((function(t){return t&&(n=!0),Jn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Qc=function(t,e){var n=this,r=this.db.yh().Nh(),i=[],o=0;return this.df(t,(function(s,a){if(a<=e){var u=n.vf(t,s).next((function(e){if(!e)return o++,r.Ls(t,s).next((function(){return r.js(s),Dr(t).delete([0,qn(s.path)])}))}));i.push(u)}})).next((function(){return Jn.ks(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Oi(t.Mh);return this.db.Ih().Qh(t,n)},t.prototype.Gh=function(t,e){return pi(t,e)},t.prototype.df=function(t,e){var n,r=Dr(t),i=Fn.gu;return r.fo({index:$r.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Fn.gu&&e(new pt(Hn(n)),i),i=s,n=o):i=Fn.gu})).next((function(){i!==Fn.gu&&e(new pt(Hn(n)),i)}))},t.prototype.Gc=function(t){return this.db.yh().wa(t)},t}();function pi(t,e){return Dr(t).put(function(t,e){return new $r(0,qn(t.path),e)}(e,t.Mh))}var vi,yi,mi=function(){function t(){}return t.prototype.Rh=function(t){this.wf=t},t.prototype.nh=function(t,e,n,r){var o=this;return _(void 0!==this.wf,"setLocalDocumentsView() not called"),e.fi()?this.mf(t,e):n.isEqual(lt.MIN)?this.mf(t,e):this.wf.Zo(t,r).next((function(s){var a=o.pf(e,s);return(e.gi()||e.bi())&&o.gf(e.Yn,a,r,n)?o.mf(t,e):(d()<=i.DEBUG&&v("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),o.wf.nh(t,e,n).next((function(t){return a.forEach((function(e){t=t.lt(e.key,e)})),t})))}))},t.prototype.pf=function(t,e){var n=new _t((function(e,n){return t.di(e,n)}));return e.forEach((function(e,r){r instanceof se&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.gf=function(t,e,n,r){if(n.size!==e.size)return!0;var i=t===ve.Kn?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.h(r)>0)},t.prototype.mf=function(t,e){return d()<=i.DEBUG&&v("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.wf.nh(t,e,lt.MIN)},t}(),gi=function(){function t(t,e){this.do=t,this.vo=e,this.Jo=[],this.bf=1,this.lastStreamToken=Me.Pi,this.yf=new _t(Qn.Bn)}return t.prototype.po=function(t){return Jn.resolve(0===this.Jo.length)},t.prototype.bo=function(t,e,n){var r=e.batchId,i=this._f(r,"acknowledged");_(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.Jo[i];return _(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Jn.resolve()},t.prototype._o=function(t){return Jn.resolve(this.lastStreamToken)},t.prototype.Io=function(t,e){return this.lastStreamToken=e,Jn.resolve()},t.prototype.To=function(t,e,n,r){_(0!==r.length,"Mutation batches should not be empty");var i=this.bf;this.bf++,this.Jo.length>0&&_(this.Jo[this.Jo.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Gn(i,e,n,r);this.Jo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.yf=this.yf.add(new Qn(u.key,i)),this.do.Ro(t,u.key.path.H())}return Jn.resolve(o)},t.prototype.Ao=function(t,e){return Jn.resolve(this.If(e))},t.prototype.Po=function(t,e){var n=this.If(e);return _(null!=n,"Failed to find local mutation batch."),Jn.resolve(n.keys())},t.prototype.So=function(t,e){var n=this.Tf(e+1),r=n<0?0:n;return Jn.resolve(this.Jo.length>r?this.Jo[r]:null)},t.prototype.Co=function(){return Jn.resolve(0===this.Jo.length?-1:this.bf-1)},t.prototype.ko=function(t){return Jn.resolve(this.Jo.slice())},t.prototype.Vo=function(t,e){var n=this,r=new Qn(e,0),i=new Qn(e,Number.POSITIVE_INFINITY),o=[];return this.yf.Lt([r,i],(function(t){_(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.If(t.ys);_(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Jn.resolve(o)},t.prototype.No=function(t,e){var n=this,r=new _t(w);return e.forEach((function(t){var e=new Qn(t,0),i=new Qn(t,Number.POSITIVE_INFINITY);n.yf.Lt([e,i],(function(e){_(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.ys)}))})),Jn.resolve(this.Ef(r))},t.prototype.Fo=function(t,e){_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;pt.ht(i)||(i=i.child(""));var o=new Qn(new pt(i),0),s=new _t(w);return this.yf.Bt((function(t){var e=t.key.path;return!!n.$(e)&&(e.length===r&&(s=s.add(t.ys)),!0)}),o),Jn.resolve(this.Ef(s))},t.prototype.Ef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.If(t);null!==r&&n.push(r)})),n},t.prototype.Uo=function(t,e){var n=this;_(0===this._f(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Jo.shift();var r=this.yf;return Jn.forEach(e.mutations,(function(i){var o=new Qn(i.key,e.batchId);return r=r.delete(o),n.vo.Lo(t,i.key)})).next((function(){n.yf=r}))},t.prototype.jo=function(t){},t.prototype.bs=function(t,e){var n=new Qn(e,0),r=this.yf.Mt(n);return Jn.resolve(e.isEqual(r&&r.key))},t.prototype.Bo=function(t){return 0===this.Jo.length&&_(this.yf.J(),"Document leak -- detected dangling mutation references when queue is empty."),Jn.resolve()},t.prototype._f=function(t,e){var n=this.Tf(t);return _(n>=0&&n<this.Jo.length,"Batches must exist to be "+e),n},t.prototype.Tf=function(t){return 0===this.Jo.length?0:t-this.Jo[0].batchId},t.prototype.If=function(t){var e=this.Tf(t);if(e<0||e>=this.Jo.length)return null;var n=this.Jo[e];return _(n.batchId===t,"If found batch must match"),n},t}(),_i=function(){function t(t,e){this.do=t,this.Rf=e,this.docs=new vt(pt.G),this.size=0}return t.prototype.Us=function(t,e,n){_(!n.isEqual(lt.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Rf(e);return this.docs=this.docs.lt(r,{sa:e,size:s,readTime:n}),this.size+=s-o,this.do.Ro(t,r.path.H())},t.prototype.js=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ls=function(t,e){var n=this.docs.get(e);return Jn.resolve(n?n.sa:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ke();return e.forEach((function(t){var e=n.docs.get(t);r=r.lt(t,e?e.sa:null)})),Jn.resolve(r)},t.prototype.nh=function(t,e,n){_(!e._i(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Ye(),i=new pt(e.path.child("")),o=this.docs.yt(i);o.At();){var s=o.Rt(),a=s.value,u=a.sa,l=a.readTime;if(!e.path.$(s.key.path))break;l.h(n)<=0||u instanceof se&&e.matches(u)&&(r=r.lt(u.key,u))}return Jn.resolve(r)},t.prototype.Af=function(t,e){return Jn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.fc=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.dc=function(t){return Jn.resolve(lt.MIN)},t.prototype.Nh=function(e){return new t.va(this)},t.prototype.wa=function(t){return Jn.resolve(this.size)},t.va=function(t){function e(e){var n=t.call(this)||this;return n.ma=e,n}return s.__extends(e,t),e.prototype.qs=function(t){var e=this,n=[];return this.Ns.forEach((function(r,i){i?n.push(e.ma.Us(t,i,e.readTime)):e.ma.js(r)})),Jn.ks(n)},e.prototype.Bs=function(t,e){return this.ma.Ls(t,e)},e.prototype.Ms=function(t,e){return this.ma.getEntries(t,e)},e}($n),t}(),bi=function(){function t(t){this.persistence=t,this.Df=new Yn((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=lt.MIN,this.highestTargetId=0,this.Pf=0,this.Sf=new Kn,this.targetCount=0,this.zc=vr.zo()}return t.prototype.Le=function(t,e){return this.Df.forEach((function(t,n){return e(n)})),Jn.resolve()},t.prototype.xh=function(t){return Jn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Jc=function(t){return Jn.resolve(this.Pf)},t.prototype.$h=function(t){var e=this.zc.after(this.highestTargetId);return this.highestTargetId=e,Jn.resolve(e)},t.prototype.Wh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Pf&&(this.Pf=e),Jn.resolve()},t.prototype.Yc=function(t){this.Df.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Pf&&(this.Pf=t.sequenceNumber)},t.prototype.Zh=function(t,e){return _(!this.Df.has(e.target),"Adding a target that already exists"),this.Yc(e),this.targetCount+=1,Jn.resolve()},t.prototype.Qh=function(t,e){return _(this.Df.has(e.target),"Updating a non-existent target"),this.Yc(e),Jn.resolve()},t.prototype.$c=function(t,e){return _(this.targetCount>0,"Removing a target from an empty cache"),_(this.Df.has(e.target),"Removing a non-existent target from the cache"),this.Df.delete(e.target),this.Sf.ms(e.targetId),this.targetCount-=1,Jn.resolve()},t.prototype.qc=function(t,e,n){var r=this,i=0,o=[];return this.Df.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Df.delete(s),o.push(r.Zc(t,a.targetId)),i++)})),Jn.ks(o).next((function(){return i}))},t.prototype.ia=function(t){return Jn.resolve(this.targetCount)},t.prototype.Xh=function(t,e){var n=this.Df.get(e)||null;return Jn.resolve(n)},t.prototype.Ye=function(t,e){return g("Not yet implemented.")},t.prototype.Bh=function(t,e,n){this.Sf.ls(e,n);var r=this.persistence.vo,i=[];return r&&e.forEach((function(e){i.push(r.fs(t,e))})),Jn.ks(i)},t.prototype.Lh=function(t,e,n){this.Sf.ws(e,n);var r=this.persistence.vo,i=[];return r&&e.forEach((function(e){i.push(r.ds(t,e))})),Jn.ks(i)},t.prototype.Zc=function(t,e){return this.Sf.ms(e),Jn.resolve()},t.prototype.ic=function(t,e){var n=this.Sf.gs(e);return Jn.resolve(n)},t.prototype.bs=function(t,e){return Jn.resolve(this.Sf.bs(e))},t}(),wi=function(){function t(t,e){var n=this;this.clientId=t,this.Cf={},this.Ga=new Fn(0),this.Pa=!1,this.Pa=!0,this.vo=e(this),this._h=new bi(this),this.do=new Fr,this.Ho=new _i(this.do,(function(t){return n.vo.kf(t)}))}return t.Vf=function(e,n){return new t(e,(function(t){return new Ei(t,n)}))},t.Nf=function(e){return new t(e,(function(t){return new Ci(t)}))},t.prototype.shutdown=function(){return this.Pa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"mh",{get:function(){return this.Pa},enumerable:!0,configurable:!0}),t.prototype.uc=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.Wa=function(t){return t(!0)},t.prototype.za=function(){},t.prototype.oc=function(t){},t.prototype.Eh=function(){return this.do},t.prototype.gh=function(t){var e=this.Cf[t.v()];return e||(e=new gi(this.do,this.vo),this.Cf[t.v()]=e),e},t.prototype.Ih=function(){return this._h},t.prototype.yh=function(){return this.Ho},t.prototype.runTransaction=function(t,e,n){var r=this;v("MemoryPersistence","Starting transaction:",t);var i=new ki(this.Ga.next());return this.vo.Of(),n(i).next((function(t){return r.vo.Ff(i).next((function(){return t}))})).Ss().then((function(t){return i.Ws(),t}))},t.prototype.Uf=function(t,e){return Jn.Vs((n=this.Cf,r=[],j(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.bs(t,e)}})));var n,r},t}(),ki=function(t){function e(e){var n=t.call(this)||this;return n.Mh=e,n}return s.__extends(e,t),e}(Zn),Ci=function(){function t(t){this.persistence=t,this.ff=null,this.xf=null}return Object.defineProperty(t.prototype,"jf",{get:function(){if(this.xf)return this.xf;throw g("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.ph=function(t){this.ff=t},t.prototype.fs=function(t,e){return this.jf.delete(e),Jn.resolve()},t.prototype.ds=function(t,e){return this.jf.add(e),Jn.resolve()},t.prototype.Lo=function(t,e){return this.jf.add(e),Jn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Ih();return r.ic(t,e.targetId).next((function(t){t.forEach((function(t){return n.jf.add(t)}))})).next((function(){return r.$c(t,e)}))},t.prototype.Of=function(){this.xf=new Set},t.prototype.Ff=function(t){var e=this,n=this.persistence.yh().Nh();return Jn.forEach(this.jf,(function(r){return e.Lf(t,r).next((function(t){t||n.js(r)}))})).next((function(){return e.xf=null,n.apply(t)}))},t.prototype.Gh=function(t,e){var n=this;return this.Lf(t,e).next((function(t){t?n.jf.delete(e):n.jf.add(e)}))},t.prototype.kf=function(t){return 0},t.prototype.Lf=function(t,e){var n=this;return Jn.Vs([function(){return n.persistence.Ih().bs(t,e)},function(){return n.persistence.Uf(t,e)},function(){return Jn.resolve(n.ff.bs(e))}])},t}(),Ei=function(){function t(t,e){this.persistence=t,this.ff=null,this.Bf=new Yn((function(t){return qn(t.path)})),this.Vc=new Tr(this,e)}return t.prototype.Of=function(){},t.prototype.Ff=function(t){return Jn.resolve()},t.prototype.Le=function(t,e){return this.persistence.Ih().Le(t,e)},t.prototype.Lc=function(t){var e=this.Mf(t);return this.persistence.Ih().ia(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Mf=function(t){var e=0;return this.Mc(t,(function(t){e++})).next((function(){return e}))},t.prototype.Mc=function(t,e){var n=this;return Jn.forEach(this.Bf,(function(r,i){return n.vf(t,r,i).next((function(t){return t?Jn.resolve():e(i)}))}))},t.prototype.ph=function(t){this.ff=t},t.prototype.qc=function(t,e,n){return this.persistence.Ih().qc(t,e,n)},t.prototype.Qc=function(t,e){var n=this,r=0,i=this.persistence.yh(),o=i.Nh();return i.Af(t,(function(i){return n.vf(t,i,e).next((function(t){t||(r++,o.js(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},t.prototype.Lo=function(t,e){return this.Bf.set(e,t.Mh),Jn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.Oi(t.Mh);return this.persistence.Ih().Qh(t,n)},t.prototype.fs=function(t,e){return this.Bf.set(e,t.Mh),Jn.resolve()},t.prototype.ds=function(t,e){return this.Bf.set(e,t.Mh),Jn.resolve()},t.prototype.Gh=function(t,e){return this.Bf.set(e,t.Mh),Jn.resolve()},t.prototype.kf=function(t){var e=t.key.toString().length;return t instanceof se&&(e+=t.data().Nn()),e},t.prototype.vf=function(t,e,n){var r=this;return Jn.Vs([function(){return r.persistence.Uf(t,e)},function(){return Jn.resolve(r.ff.bs(e))},function(){return r.persistence.Ih().bs(t,e)},function(){var t=r.Bf.get(e);return Jn.resolve(void 0!==t&&t>n)}])},t.prototype.Gc=function(t){return this.persistence.yh().wa(t)},t}(),Si=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Aa=t,this.Su=e,this.qf=n,this.Qf=r,this.Gf=i,this.Wf=0,this.zf=null,this.Kf=Date.now(),this.reset()}return t.prototype.reset=function(){this.Wf=0},t.prototype.Hf=function(){this.Wf=this.Gf},t.prototype.Jf=function(t){var e=this;this.cancel();var n=Math.floor(this.Wf+this.Yf()),r=Math.max(0,Date.now()-this.Kf),i=Math.max(0,n-r);this.Wf>0&&v("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Wf+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zf=this.Aa.Yu(this.Su,i,(function(){return e.Kf=Date.now(),t()})),this.Wf*=this.Qf,this.Wf<this.qf&&(this.Wf=this.qf),this.Wf>this.Gf&&(this.Wf=this.Gf)},t.prototype.cancel=function(){null!==this.zf&&(this.zf.cancel(),this.zf=null)},t.prototype.Yf=function(){return(Math.random()-.5)*this.Wf},t}();(yi=vi||(vi={}))[yi.Xf=0]="__PRIVATE_Initial",yi[yi.$f=1]="__PRIVATE_Starting",yi[yi.Zf=2]="__PRIVATE_Open",yi[yi.Error=3]="Error",yi[yi.tl=4]="__PRIVATE_Backoff";var Ti,Ii,Ai=function(){function t(t,e,n,r,i,o){this.Aa=t,this.nl=n,this.connection=r,this.il=i,this.listener=o,this.state=vi.Xf,this.el=0,this.rl=null,this.stream=null,this.ul=new Si(t,e)}return t.prototype.sl=function(){return this.state===vi.$f||this.state===vi.Zf||this.state===vi.tl},t.prototype.ol=function(){return this.state===vi.Zf},t.prototype.start=function(){this.state!==vi.Error?(_(this.state===vi.Xf,"Already started"),this.auth()):this.hl()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.sl()?[4,this.close(vi.Xf)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.cl=function(){_(!this.sl(),"Can only inhibit backoff in a stopped state"),this.state=vi.Xf,this.ul.reset()},t.prototype.al=function(){var t=this;this.ol()&&null===this.rl&&(this.rl=this.Aa.Yu(this.nl,6e4,(function(){return t.fl()})))},t.prototype.ll=function(t){this.dl(),this.stream.send(t)},t.prototype.fl=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.ol()?[2,this.close(vi.Xf)]:[2]}))}))},t.prototype.dl=function(){this.rl&&(this.rl.cancel(),this.rl=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return _(this.sl(),"Only started streams should be closed."),_(t===vi.Error||de(e),"Can't provide an error when not in an error state."),this.dl(),this.ul.cancel(),this.el++,t!==vi.Error?this.ul.reset():e&&e.code===A.RESOURCE_EXHAUSTED?(y(e.toString()),y("Using maximum backoff delay to prevent overloading the backend."),this.ul.Hf()):e&&e.code===A.UNAUTHENTICATED&&this.il.I(),null!==this.stream&&(this.vl(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.wl(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.vl=function(){},t.prototype.auth=function(){var t=this;_(this.state===vi.Xf,"Must be in initial state to auth"),this.state=vi.$f;var e=this.ml(this.el),n=this.el;this.il.getToken().then((function(e){t.el===n&&t.pl(e)}),(function(n){e((function(){var e=new x(A.UNKNOWN,"Fetching auth token failed: "+n.message);return t.gl(e)}))}))},t.prototype.pl=function(t){var e=this;_(this.state===vi.$f,"Trying to start stream in a non-starting state");var n=this.ml(this.el);this.stream=this.bl(t),this.stream.yl((function(){n((function(){return _(e.state===vi.$f,"Expected stream to be in state Starting, but was "+e.state),e.state=vi.Zf,e.listener.yl()}))})),this.stream.wl((function(t){n((function(){return e.gl(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hl=function(){var t=this;_(this.state===vi.Error,"Should only perform backoff when in Error state"),this.state=vi.tl,this.ul.Jf((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return _(this.state===vi.tl,"Backoff elapsed but state is now: "+this.state),this.state=vi.Xf,this.start(),_(this.sl(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.gl=function(t){return _(this.sl(),"Can't handle server close on non-started stream"),v("PersistentStream","close with error: "+t),this.stream=null,this.close(vi.Error,t)},t.prototype.ml=function(t){var e=this;return function(n){e.Aa.xu((function(){return e.el===t?n():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xi=function(t){function e(e,n,r,i,o){var s=t.call(this,e,Pn._u,Pn.yu,n,r,o)||this;return s.serializer=i,s}return s.__extends(e,t),e.prototype.bl=function(t){return this.connection._l("Listen",t)},e.prototype.onMessage=function(t){this.ul.reset();var e=this.serializer.Cr(t),n=this.serializer.Vr(t);return this.listener.Il(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.wr,e.addTarget=this.serializer.li(t);var n=this.serializer.Zr(t);n&&(e.labels=n),this.ll(e)},e.prototype.Tl=function(t){var e={};e.database=this.serializer.wr,e.removeTarget=t,this.ll(e)},e}(Ai),Ni=function(t){function e(e,n,r,i,o){var s=t.call(this,e,Pn.Tu,Pn.Iu,n,r,o)||this;return s.serializer=i,s.El=!1,s.lastStreamToken=Me.Pi,s}return s.__extends(e,t),Object.defineProperty(e.prototype,"Rl",{get:function(){return this.El},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.El=!1,t.prototype.start.call(this)},e.prototype.vl=function(){this.El&&this.Al([])},e.prototype.bl=function(t){return this.connection._l("Write",t)},e.prototype.onMessage=function(t){if(_(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.er(t.streamToken),this.El){this.ul.reset();var e=this.serializer.qr(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Dl(n,e)}return _(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.El=!0,this.listener.Pl()},e.prototype.Sl=function(){_(this.ol(),"Writing handshake requires an opened stream"),_(!this.El,"Handshake already completed");var t={};t.database=this.serializer.wr,this.ll(t)},e.prototype.Al=function(t){var e=this;_(this.ol(),"Writing mutations requires an opened stream"),_(this.El,"Handshake must be complete before writing mutations"),_(this.lastStreamToken.Nn()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.ir(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Nr(t)}))};this.ll(n)},e}(Ai),Di=function(){function t(t,e,n,r){this.Aa=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Cl=function(t){return new Ni(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.kl=function(t){return new xi(this.Aa,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.wr,writes:t.map((function(t){return e.serializer.Nr(t)}))};return this.Vl("Commit",n).then((function(t){return e.serializer.qr(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.wr,documents:t.map((function(t){return e.serializer.cr(t)}))};return this.Nl("BatchGetDocuments",n).then((function(n){var r=We();n.forEach((function(t){var n=e.serializer.Dr(t);r=r.lt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);_(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Vl=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Vl(t,e,r)})).catch((function(t){throw t.code===A.UNAUTHENTICATED&&n.credentials.I(),t}))},t.prototype.Nl=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Nl(t,e,r)})).catch((function(t){throw t.code===A.UNAUTHENTICATED&&n.credentials.I(),t}))},t}(),Oi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new x(A.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+ot(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(G("FieldPath","string",n,t[n]),0===t[n].length)throw new x(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ol=new dt(t)}return t.documentId=function(){return t.Fl},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","FieldPath",1,e);return this.Ol.isEqual(e.Ol)},t.Fl=new t(dt.st().nt()),t}(),Pi=new RegExp("[~\\*/\\[\\]]"),Ri=function(){function t(t){this.Ul=t}return t.delete=function(){return q("FieldValue.delete",arguments),Mi.instance},t.serverTimestamp=function(){return q("FieldValue.serverTimestamp",arguments),Li.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B("FieldValue.arrayUnion",arguments,1),new Fi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B("FieldValue.arrayRemove",arguments,1),new Vi(t)},t.increment=function(t){return G("FieldValue.increment","number",1,t),z("FieldValue.increment",arguments,1),new ji(t)},t.prototype.isEqual=function(t){return this===t},t}(),Mi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(Ri),Li=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(Ri),Fi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.xl=e,n}return s.__extends(e,t),e}(Ri),Vi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.xl=e,n}return s.__extends(e,t),e}(Ri),ji=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.jl=e,n}return s.__extends(e,t),e}(Ri),Ui=Nn(Ri,"Use FieldValue.<field>() instead."),qi=/^__.*__$/,zi=function(){function t(t,e,n){this.data=t,this.on=e,this.fieldTransforms=n}return t.prototype.Ll=function(t,e){var n=[];return n.push(null!==this.on?new Vt(t,this.data,this.on,e):new Ft(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new jt(t,this.fieldTransforms)),n},t}(),Bi=function(){function t(t,e,n){this.data=t,this.on=e,this.fieldTransforms=n}return t.prototype.Ll=function(t,e){var n=[new Vt(t,this.data,this.on,e)];return this.fieldTransforms.length>0&&n.push(new jt(t,this.fieldTransforms)),n},t}();function Hi(t){switch(t){case Ti.Set:case Ti.Bl:case Ti.Ml:return!0;case Ti.ql:case Ti.Ql:return!1;default:throw g("Unexpected case for UserDataSource: "+t)}}(Ii=Ti||(Ti={}))[Ii.Set=0]="Set",Ii[Ii.Ml=1]="__PRIVATE_Update",Ii[Ii.Bl=2]="__PRIVATE_MergeSet",Ii[Ii.ql=3]="__PRIVATE_Argument",Ii[Ii.Ql=4]="__PRIVATE_ArrayArgument";var Gi=function(){function t(t,e,n,r,i,o){this.Gl=t,this.methodName=e,this.path=n,this.Wl=r,void 0===i&&this.zl(),this.Wl=void 0!==r&&r,this.fieldTransforms=i||[],this.on=o||[]}return t.prototype.Kl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Gl,this.methodName,n,!1,this.fieldTransforms,this.on);return r.Hl(e),r},t.prototype.Jl=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Gl,this.methodName,n,!1,this.fieldTransforms,this.on);return r.zl(),r},t.prototype.Yl=function(e){return new t(this.Gl,this.methodName,null,!0,this.fieldTransforms,this.on)},t.prototype.Xl=function(t){var e=null===this.path||this.path.J()?"":" (found in field "+this.path.toString()+")";return new x(A.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.on.find((function(e){return t.$(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.$(e.field)}))},t.prototype.zl=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Hl(this.path.get(t))},t.prototype.Hl=function(t){if(0===t.length)throw this.Xl("Document fields must not be empty");if(Hi(this.Gl)&&qi.test(t))throw this.Xl('Document fields cannot begin and end with "__"')},t}(),Wi=function(t,e){this.s=t,this.key=e},Ki=function(){function t(t){this.$l=t}return t.prototype.Zl=function(t,e){var n=new Gi(Ti.Set,t,dt.et);Yi("Data must be an object, but it was:",n,e);var r=this.td(e,n);return new zi(r,null,n.fieldTransforms)},t.prototype.nd=function(t,e,n){var r=new Gi(Ti.Bl,t,dt.et);Yi("Data must be an object, but it was:",r,e);var i,o,s=this.td(e,r);if(n){for(var a=new _t(dt.G),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Oi)h=c.Ol;else{if("string"!=typeof c)throw g("Expected stringOrFieldPath to be a string or a FieldPath");h=$i(t,c)}if(!r.contains(h))throw new x(A.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=At.Jt(a),o=r.fieldTransforms.filter((function(t){return i.Xt(t.field)}))}else i=At.Yt(r.on),o=r.fieldTransforms;return new zi(s,i,o)},t.prototype.ed=function(t,e){var n=this,r=new Gi(Ti.Ml,t,dt.et);Yi("Data must be an object, but it was:",r,e);var i=new _t(dt.G),o=ne.mn();j(e,(function(e,s){var a=$i(t,e),u=r.Jl(a);if((s=n.rd(s,u))instanceof Mi)i=i.add(a);else{var l=n.td(s,u);null!=l&&(i=i.add(a),o.set(a,l))}}));var s=At.Jt(i);return new Bi(o.fn(),s,r.fieldTransforms)},t.prototype.ud=function(t,e,n,r){var i=new Gi(Ti.Ml,t,dt.et),o=[Ji(t,e)],s=[n];if(r.length%2!=0)throw new x(A.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Ji(t,r[a])),s.push(r[a+1]);var u=new _t(dt.G),l=ne.mn();for(a=0;a<o.length;++a){var c=o[a],h=i.Jl(c),f=this.rd(s[a],h);if(f instanceof Mi)u=u.add(c);else{var d=this.td(f,h);null!=d&&(u=u.add(c),l.set(c,d))}}var p=At.Jt(u);return new Bi(l.fn(),p,i.fieldTransforms)},t.prototype.sd=function(t,e,n){void 0===n&&(n=!1);var r=new Gi(n?Ti.Ql:Ti.ql,t,dt.et),i=this.td(e,r);return _(null!=i,"Parsed data should not be null."),_(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.rd=function(t,e){try{return this.$l(t)}catch(t){var n=Xi(t);throw e.Xl(n)}},t.prototype.td=function(t,e){if(Qi(t=this.rd(t,e)))return Yi("Unsupported field value:",e,t),this.od(t,e);if(t instanceof Ri)return this.hd(t,e),null;if(e.path&&e.on.push(e.path),t instanceof Array){if(e.Wl&&e.Gl!==Ti.Ql)throw e.Xl("Nested arrays are not supported");return this.ad(t,e)}return this.fd(t,e)},t.prototype.od=function(t,e){var n=this,r=new vt(w);return U(t)?e.path&&e.path.length>0&&e.on.push(e.path):j(t,(function(t,i){var o=n.td(i,e.Kl(t));null!=o&&(r=r.lt(t,o))})),new ne(r)},t.prototype.ad=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.td(o[i],e.Yl(r));null==s&&(s=Ht.On),n.push(s),r++}return new ie(n)},t.prototype.hd=function(t,e){if(!Hi(e.Gl))throw e.Xl(t.Ul+"() can only be used with update() and set()");if(null===e.path)throw e.Xl(t.Ul+"() is not currently supported inside arrays");if(t instanceof Mi){if(e.Gl!==Ti.Bl)throw e.Gl===Ti.Ml?(_(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.Xl("FieldValue.delete() can only appear at the top level of your update data")):e.Xl("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.on.push(e.path)}else if(t instanceof Li)e.fieldTransforms.push(new xt(e.path,wt.instance));else if(t instanceof Fi){var n=this.ld(t.Ul,t.xl),r=new kt(n);e.fieldTransforms.push(new xt(e.path,r))}else if(t instanceof Vi){n=this.ld(t.Ul,t.xl);var i=new Ct(n);e.fieldTransforms.push(new xt(e.path,i))}else if(t instanceof ji){var o=this.sd("FieldValue.increment",t.jl),s=new Et(o);e.fieldTransforms.push(new xt(e.path,s))}else g("Unknown FieldValue type: "+t)},t.prototype.fd=function(t,e){if(null===t)return Ht.On;if("number"==typeof t)return pe(t)?new Qt(t):new Yt(t);if("boolean"==typeof t)return Gt.of(t);if("string"==typeof t)return new Jt(t);if(t instanceof Date)return new $t(ut.fromDate(t));if(t instanceof ut)return new $t(new ut(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof st)return new ee(t);if(t instanceof Mn)return new Zt(t);if(t instanceof Wi)return new te(t.s,t.key);throw e.Xl("Unsupported field value: "+Z(t))},t.prototype.ld=function(t,e){var n=this;return e.map((function(e,r){var i=new Gi(Ti.ql,t,dt.et);return n.td(e,i.Yl(r))}))},t}();function Qi(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof st||t instanceof Mn||t instanceof Wi||t instanceof Ri)}function Yi(t,e,n){if(!Qi(n)||!X(n)){var r=Z(n);throw e.Xl("an object"===r?t+" a custom object":t+" "+r)}}function Ji(t,e){if(e instanceof Oi)return e.Ol;if("string"==typeof e)return $i(t,e);throw new x(A.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function $i(t,e){try{return function(t){if(t.search(Pi)>=0)throw new x(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Oi.bind.apply(Oi,s.__spreadArrays([void 0],t.split("."))))}catch(e){throw new x(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ol}catch(r){var n=Xi(r);throw new x(A.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Xi(t){return t instanceof Error?t.message:t.toString()}var Zi=function(){function t(t){this.dd=t,this.vd=$e(),this.mutations=[],this.wd=!1,this.md=null,this.pd=new Set}return t.prototype.lookup=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:if(this.gd(),this.mutations.length>0)throw new x(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.dd.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof ae||t instanceof se?n.bd(t):g("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ll(t,this.rn(t))),this.pd.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ll(t,this.yd(t)))}catch(t){this.md=t}this.pd.add(t)},t.prototype.delete=function(t){this.write([new Ut(t,this.rn(t))]),this.pd.add(t)},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e=this;return s.__generator(this,(function(n){switch(n.label){case 0:if(this.gd(),this.md)throw this.md;return t=this.vd,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new qt(t,e.rn(t)))})),[4,this.dd.commit(this.mutations)];case 1:return n.sent(),this.wd=!0,[2]}}))}))},t.prototype.bd=function(t){var e;if(t instanceof se)e=t.version;else{if(!(t instanceof ae))throw g("Document in a transaction was a "+t.constructor.name);e=lt.B()}var n=this.vd.get(t.key);if(null!==n){if(!e.isEqual(n))throw new x(A.ABORTED,"Document version changed between two reads.")}else this.vd=this.vd.lt(t.key,e)},t.prototype.rn=function(t){var e=this.vd.get(t);return!this.pd.has(t)&&e?Mt.updateTime(e):Mt.NONE},t.prototype.yd=function(t){var e=this.vd.get(t);if(!this.pd.has(t)&&e){if(e.isEqual(lt.B()))throw new x(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(e)}return Mt.exists(!0)},t.prototype.write=function(t){this.gd(),this.mutations=this.mutations.concat(t)},t.prototype.gd=function(){_(!this.wd,"A transaction object cannot be used after its update callback has been invoked.")},t}(),to=function(){function t(t,e){this.Pu=t,this._d=e,this.state="Unknown",this.Id=0,this.Td=null,this.Ed=!0}return t.prototype.Rd=function(){var t=this;0===this.Id&&(this.Ad("Unknown"),_(null===this.Td,"onlineStateTimer shouldn't be started yet"),this.Td=this.Pu.Yu(Pn.Eu,1e4,(function(){return t.Td=null,_("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Dd("Backend didn't respond within 10 seconds."),t.Ad("Offline"),Promise.resolve()})))},t.prototype.Pd=function(t){"Online"===this.state?(this.Ad("Unknown"),_(0===this.Id,"watchStreamFailures must be 0"),_(null===this.Td,"onlineStateTimer must be null")):(this.Id++,this.Id>=1&&(this.Sd(),this.Dd("Connection failed 1 times. Most recent error: "+t.toString()),this.Ad("Offline")))},t.prototype.set=function(t){this.Sd(),this.Id=0,"Online"===t&&(this.Ed=!1),this.Ad(t)},t.prototype.Ad=function(t){t!==this.state&&(this.state=t,this._d(t))},t.prototype.Dd=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ed?(y(e),this.Ed=!1):v("OnlineStateTracker",e)},t.prototype.Sd=function(){null!==this.Td&&(this.Td.cancel(),this.Td=null)},t}(),eo="RemoteStore",no=function(){function t(t,e,n,r,i){var o=this;this.Nc=t,this.dd=e,this.Cd=[],this.kd={},this.Vd=null,this.networkEnabled=!1,this.isPrimary=!1,this.Nd=i,this.Nd.Od((function(t){n.xu((function(){return s.__awaiter(o,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(v(eo,"Restarting streams for network reachability change."),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.xd=new to(n,r),this.jd=this.dd.kl({yl:this.Ld.bind(this),wl:this.Bd.bind(this),Il:this.Md.bind(this)}),this.qd=this.dd.Cl({yl:this.Qd.bind(this),wl:this.Gd.bind(this),Pl:this.Wd.bind(this),Dl:this.Dl.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Fd()?(t=this.qd,[4,this.Nc._o()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.zd()?this.Kd():this.xd.set("Unknown"),[4,this.Hd()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Offline"),[2]}}))}))},t.prototype.Jd=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.qd.stop()];case 1:return t.sent(),[4,this.jd.stop()];case 2:return t.sent(),this.Cd.length>0&&(v(eo,"Stopping write stream with "+this.Cd.length+" pending writes"),this.Cd=[]),this.Yd(),[2]}}))}))},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return v(eo,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.Nd.shutdown(),this.xd.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){L(this.kd,t.targetId)||(this.kd[t.targetId]=t,this.zd()?this.Kd():this.jd.ol()&&this.Xd(t))},t.prototype.$d=function(t){_(L(this.kd,t),"unlisten called on target no currently watched: "+t),delete this.kd[t],this.jd.ol()&&this.Zd(t),U(this.kd)&&(this.jd.ol()?this.jd.al():this.Fd()&&this.xd.set("Unknown"))},t.prototype.Ye=function(t){return this.kd[t]||null},t.prototype.Je=function(t){return this.tv.Je(t)},t.prototype.Xd=function(t){this.Vd.De(t.targetId),this.jd.watch(t)},t.prototype.Zd=function(t){this.Vd.De(t),this.jd.Tl(t)},t.prototype.Kd=function(){_(this.zd(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Vd=new gn(this),this.jd.start(),this.xd.Rd()},t.prototype.zd=function(){return this.Fd()&&!this.jd.sl()&&!U(this.kd)},t.prototype.Fd=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Yd=function(){this.Vd=null},t.prototype.Ld=function(){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(e){return V(this.kd,(function(e,n){t.Xd(n)})),[2]}))}))},t.prototype.Bd=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return void 0===t&&_(!this.zd(),"Watch stream was stopped gracefully while still needed."),this.Yd(),this.zd()?(this.xd.Pd(t),this.Kd()):this.xd.set("Unknown"),[2]}))}))},t.prototype.Md=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.xd.set("Online"),t instanceof yn&&t.state===un.Mi&&t.cause?[2,this.nv(t)]:(t instanceof pn?this.Vd.Fe(t):t instanceof vn?this.Vd.Qe(t):(_(t instanceof yn,"Expected watchChange to be an instance of WatchTargetChange"),this.Vd.je(t)),e.isEqual(lt.MIN)?[3,3]:[4,this.Nc.xh()]);case 1:return n=r.sent(),e.h(n)>=0?[4,this.iv(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.iv=function(t){var e=this;_(!t.isEqual(lt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Vd.ze(t);return V(n.Zi,(function(n,r){if(r.resumeToken.Nn()>0){var i=e.kd[n];i&&(e.kd[n]=i.Fi(r.resumeToken,t))}})),n.te.forEach((function(t){var n=e.kd[t];if(n){e.kd[t]=n.Fi(Me.Pi,n.Ni),e.Zd(t);var r=new Ue(n.target,t,Pe.Ci,n.sequenceNumber);e.Xd(r)}})),this.tv.jh(n)},t.prototype.nv=function(t){var e=this;_(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return L(this.kd,t)?(delete this.kd[t],this.Vd.removeTarget(t),[2,this.tv.ev(t,n)]):[2]}))}))}))})),r},t.prototype.Hd=function(){return s.__awaiter(this,void 0,void 0,(function(){var t;return s.__generator(this,(function(e){switch(e.label){case 0:return this.rv()?[4,this.Nc.Hh(this.Cd.length>0?this.Cd[this.Cd.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Cd.length&&this.qd.al(),[3,4]);case 2:return this.uv(t),[4,this.Hd()];case 3:e.sent(),e.label=4;case 4:return this.sv()&&this.ov(),[2]}}))}))},t.prototype.rv=function(){return this.Fd()&&this.Cd.length<10},t.prototype.hv=function(){return this.Cd.length},t.prototype.uv=function(t){_(this.rv(),"addToWritePipeline called when pipeline is full"),this.Cd.push(t),this.qd.ol()&&this.qd.Rl&&this.qd.Al(t.mutations)},t.prototype.sv=function(){return this.Fd()&&!this.qd.sl()&&this.Cd.length>0},t.prototype.ov=function(){_(this.sv(),"startWriteStream() called when shouldStartWriteStream() is false."),this.qd.start()},t.prototype.Qd=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.qd.Sl(),[2]}))}))},t.prototype.Wd=function(){var t=this;return this.Nc.Io(this.qd.lastStreamToken).then((function(){for(var e=0,n=t.Cd;e<n.length;e++)t.qd.Al(n[e].mutations)})).catch(br)},t.prototype.Dl=function(t,e){var n=this;_(this.Cd.length>0,"Got result for empty write pipeline");var r=this.Cd.shift(),i=Wn.from(r,t,e,this.qd.lastStreamToken);return this.tv.cv(i).then((function(){return n.Hd()}))},t.prototype.Gd=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(n){return void 0===t&&_(!this.sv(),"Write stream was stopped gracefully while still needed."),t&&this.Cd.length>0?[2,(this.qd.Rl?this.av(t):this.fv(t)).then((function(){e.sv()&&e.ov()}))]:[2]}))}))},t.prototype.fv=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return ze(t.code)?(v(eo,"RemoteStore error before completed handshake; resetting stream token: ",this.qd.lastStreamToken),this.qd.lastStreamToken=Me.Pi,[2,this.Nc.Io(Me.Pi).catch(br)]):[2]}))}))},t.prototype.av=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){return ze(i=t.code)&&i!==A.ABORTED?(e=this.Cd.shift(),this.qd.cl(),[2,this.tv.lv(e.batchId,t).then((function(){return n.Hd()}))]):[2];var i}))}))},t.prototype.dv=function(){return new Zi(this.dd)},t.prototype.Ud=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Jd()];case 1:return t.sent(),this.xd.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.vv=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.Fd()?(v(eo,"RemoteStore restarting streams for new credential"),[4,this.Ud()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.wv=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.Jd()];case 3:e.sent(),this.xd.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),ro="firestore_clients";function io(t,e){return _(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),ro+"_"+t+"_"+e}var oo="firestore_mutations";function so(t,e,n){var r=oo+"_"+t+"_"+n;return e.l()&&(r+="_"+e.uid),r}var ao="firestore_targets";function uo(t,e){return ao+"_"+t+"_"+e}var lo="SharedClientState",co=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,_(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new x(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(y(lo,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ho=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,_(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.mv=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new x(r.error.code,r.error.message)),i?new t(e,r.state,o):(y(lo,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.pv=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.mv=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=en(),s=0;i&&s<r.activeTargetIds.length;++s)i=pe(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(y(lo,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),po=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.mv=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(y(lo,"Failed to parse online state: "+e),null)},t}(),vo=function(){function t(){this.activeTargetIds=en()}return t.prototype.gv=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.bv=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.pv=function(){var t={activeTargetIds:this.activeTargetIds.tt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),yo=function(){function t(e,n,r,i,o){if(this.Aa=e,this.platform=n,this.persistenceKey=r,this.yv=i,this.tv=null,this._d=null,this.vu=null,this._v={},this.Iv=this.Tv.bind(this),this.mh=!1,this.Ev=[],!t.Hs(this.platform))throw new x(A.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Rv=io(this.persistenceKey,this.yv),this.Av=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this._v[this.yv]=new vo,this.Dv=new RegExp("^"+ro+"_"+s+"_([^_]*)$"),this.Pv=new RegExp("^"+oo+"_"+s+"_(\\d+)(?:_(.*))?$"),this.Sv=new RegExp("^"+ao+"_"+s+"_(\\d+)$"),this.Cv=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Iv)}return t.Hs=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,u,l,c,h=this;return s.__generator(this,(function(s){switch(s.label){case 0:return _(!this.mh,"WebStorageSharedClientState already started"),_(null!==this.tv,"syncEngine property must be set before calling start()"),_(null!==this._d,"onlineStateHandler property must be set before calling start()"),[4,this.tv.uc()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.yv&&(i=this.getItem(io(this.persistenceKey,r)))&&(o=fo.mv(r,i))&&(this._v[o.clientId]=o);for(this.kv(),(a=this.storage.getItem(this.Cv))&&(u=this.Vv(a))&&this.Nv(u),l=0,c=this.Ev;l<c.length;l++)this.Tv(c[l]);return this.Ev=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.mh=!0,[2]}}))}))},t.prototype.pu=function(t){this.setItem(this.Av,JSON.stringify(t))},t.prototype.Ov=function(){var t=en();return j(this._v,(function(e,n){t=t.qt(n.activeTargetIds)})),t},t.prototype.Fv=function(t){for(var e in this._v)if(this._v.hasOwnProperty(e)&&this._v[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Uv=function(t){this.xv(t,"pending")},t.prototype.jv=function(t,e,n){this.xv(t,e,n),this.Lv(t)},t.prototype.Bv=function(t){var e="not-current";if(this.Fv(t)){var n=this.storage.getItem(uo(this.persistenceKey,t));if(n){var r=ho.mv(t,n);r&&(e=r.state)}}return this.Mv.gv(t),this.kv(),e},t.prototype.qv=function(t){this.Mv.bv(t),this.kv()},t.prototype.Qv=function(t){return this.Mv.activeTargetIds.has(t)},t.prototype.Gv=function(t){this.removeItem(uo(this.persistenceKey,t))},t.prototype.Wv=function(t,e,n){this.zv(t,e,n)},t.prototype.Dh=function(t,e,n){var r=this;e.forEach((function(t){r.Lv(t)})),this.currentUser=t,n.forEach((function(t){r.Uv(t)}))},t.prototype.Kv=function(t){this.Hv(t)},t.prototype.shutdown=function(){this.mh&&(this.platform.window.removeEventListener("storage",this.Iv),this.removeItem(this.Rv),this.mh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return v(lo,"READ",t,e),e},t.prototype.setItem=function(t,e){v(lo,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){v(lo,"REMOVE",t),this.storage.removeItem(t)},t.prototype.Tv=function(t){var e=this;if(t.storageArea===this.storage){if(v(lo,"EVENT",t.key,t.newValue),t.key===this.Rv)return void y("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Aa.xu((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,o,a;return s.__generator(this,(function(s){if(!this.mh)return this.Ev.push(t),[2];if(null===t.key)return[2];if(this.Dv.test(t.key)){if(null==t.newValue)return n=this.Jv(t.key),[2,this.Yv(n,null)];if(e=this.Xv(t.key,t.newValue))return[2,this.Yv(e.clientId,e)]}else if(this.Pv.test(t.key)){if(null!==t.newValue&&(r=this.$v(t.key,t.newValue)))return[2,this.Zv(r)]}else if(this.Sv.test(t.key)){if(null!==t.newValue&&(i=this.tw(t.key,t.newValue)))return[2,this.nw(i)]}else if(t.key===this.Cv){if(null!==t.newValue&&(o=this.Vv(t.newValue)))return[2,this.Nv(o)]}else t.key===this.Av&&(_(!!this.vu,"Missing sequenceNumberHandler"),(a=function(t){var e=Fn.gu;if(null!=t)try{var n=JSON.parse(t);_("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){y(lo,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Fn.gu&&this.vu(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"Mv",{get:function(){return this._v[this.yv]},enumerable:!0,configurable:!0}),t.prototype.kv=function(){this.setItem(this.Rv,this.Mv.pv())},t.prototype.xv=function(t,e,n){var r=new co(this.currentUser,t,e,n),i=so(this.persistenceKey,this.currentUser,t);this.setItem(i,r.pv())},t.prototype.Lv=function(t){var e=so(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hv=function(t){this.storage.setItem(this.Cv,JSON.stringify({clientId:this.yv,onlineState:t}))},t.prototype.zv=function(t,e,n){var r=uo(this.persistenceKey,t),i=new ho(t,e,n);this.setItem(r,i.pv())},t.prototype.Jv=function(t){var e=this.Dv.exec(t);return e?e[1]:null},t.prototype.Xv=function(t,e){var n=this.Jv(t);return _(null!==n,"Cannot parse client state key '"+t+"'"),fo.mv(n,e)},t.prototype.$v=function(t,e){var n=this.Pv.exec(t);_(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return co.mv(new I(void 0!==n[2]?n[2]:null),r,e)},t.prototype.tw=function(t,e){var n=this.Sv.exec(t);_(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return ho.mv(r,e)},t.prototype.Vv=function(t){return po.mv(t)},t.prototype.Zv=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(v(lo,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.tv.iw(t.batchId,t.state,t.error)]}))}))},t.prototype.nw=function(t){return this.tv.ew(t.targetId,t.state,t.error)},t.prototype.Yv=function(t,e){var n=this,r=this.Ov();e?this._v[t]=e:delete this._v[t];var i=this.Ov(),o=[],a=[];return i.forEach((function(t){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){return r.has(t)||o.push(t),[2]}))}))})),r.forEach((function(t){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.tv.rw(o,a)},t.prototype.Nv=function(t){this._v[t.clientId]&&this._d(t.onlineState)},t}(),mo=function(){function t(){this.uw=new vo,this.sw={},this.tv=null,this._d=null,this.vu=null}return t.prototype.Uv=function(t){},t.prototype.jv=function(t,e,n){},t.prototype.Bv=function(t){return this.uw.gv(t),this.sw[t]||"not-current"},t.prototype.Wv=function(t,e,n){this.sw[t]=e},t.prototype.qv=function(t){this.uw.bv(t)},t.prototype.Qv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.Gv=function(t){delete this.sw[t]},t.prototype.Ov=function(){return this.uw.activeTargetIds},t.prototype.Fv=function(t){return this.uw.activeTargetIds.has(t)},t.prototype.start=function(){return this.uw=new vo,Promise.resolve()},t.prototype.Dh=function(t,e,n){},t.prototype.Kv=function(t){},t.prototype.shutdown=function(){},t.prototype.pu=function(t){},t}(),go=function(t){this.key=t},_o=function(t){this.key=t},bo=function(){function t(t,e){this.query=t,this.ow=e,this.hw=null,this.ue=!1,this.cw=Ze(),this.Ji=Ze(),this.aw=new an(t.di.bind(t))}return Object.defineProperty(t.prototype,"fw",{get:function(){return this.ow},enumerable:!0,configurable:!0}),t.prototype.lw=function(t,e){var n=this,r=e?e.dw:new cn,i=e?e.aw:this.aw,o=e?e.Ji:this.Ji,s=i,a=!1,u=this.query.gi()&&i.size===this.query.limit?i.last():null,l=this.query.bi()&&i.size===this.query.limit?i.first():null;if(t.pt((function(t,e){var c=i.get(t),h=e instanceof se?e:null;h&&(_(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var f=!!c&&n.Ji.has(c.key),d=!!h&&(h.un||n.Ji.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:nn.Qi,doc:h}),p=!0):n.vw(c,h)||(r.track({type:nn.qi,doc:h}),p=!0,(u&&n.query.di(h,u)>0||l&&n.query.di(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:nn.Bi,doc:h}),p=!0):c&&!h&&(r.track({type:nn.Mi,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.gi()||this.query.bi())for(;s.size>this.query.limit;){var c=this.query.gi()?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:nn.Mi,doc:c})}return _(!a||!e,"View was refilled using docs that themselves needed refilling."),{aw:s,dw:r,gf:a,Ji:o}},t.prototype.vw=function(t,e){return t.un&&e.hasCommittedMutations&&!e.un},t.prototype.qs=function(t,e,n){var r=this;_(!t.gf,"Cannot apply changes that need a refill");var i=this.aw;this.aw=t.aw,this.Ji=t.Ji;var o=t.dw.Ki();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case nn.Bi:return 1;case nn.qi:case nn.Qi:return 2;case nn.Mi:return 0;default:return g("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.di(t.doc,e.doc)})),this.ww(n);var s=e?this.mw():[],a=0===this.cw.size&&this.ue?on.Wi:on.Gi,u=a!==this.hw;return this.hw=a,0!==o.length||u?{snapshot:new hn(this.query,t.aw,i,o,t.Ji,a===on.Gi,u,!1),pw:s}:{pw:s}},t.prototype.gw=function(t){return this.ue&&"Offline"===t?(this.ue=!1,this.qs({aw:this.aw,dw:new cn,Ji:this.Ji,gf:!1},!1)):{pw:[]}},t.prototype.bw=function(t){return!this.ow.has(t)&&!!this.aw.has(t)&&!this.aw.get(t).un},t.prototype.ww=function(t){var e=this;t&&(t.se.forEach((function(t){return e.ow=e.ow.add(t)})),t.oe.forEach((function(t){return _(e.ow.has(t),"Modified document "+t+" not found in view.")})),t.he.forEach((function(t){return e.ow=e.ow.delete(t)})),this.ue=t.ue)},t.prototype.mw=function(){var t=this;if(!this.ue)return[];var e=this.cw;this.cw=Ze(),this.aw.forEach((function(e){t.bw(e.key)&&(t.cw=t.cw.add(e.key))}));var n=[];return e.forEach((function(e){t.cw.has(e)||n.push(new _o(e))})),this.cw.forEach((function(t){e.has(t)||n.push(new go(t))})),n},t.prototype.yw=function(t){this.ow=t.ec,this.cw=Ze();var e=this.lw(t.documents);return this.qs(e,!0)},t.prototype._w=function(){return hn.$i(this.query,this.aw,this.Ji,this.hw===on.Gi)},t}(),wo=function(){function t(t,e,n,r){this.Pu=t,this.Iw=e,this.updateFunction=n,this.Vu=r,this.Tw=5,this.ul=new Si(this.Pu,Pn.Du)}return t.prototype.run=function(){this.Ew()},t.prototype.Ew=function(){var t=this;this.ul.Jf((function(){return s.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return s.__generator(this,(function(r){return t=this.Iw.dv(),(e=this.Rw(t))&&e.then((function(e){n.Pu.xu((function(){return t.commit().then((function(){n.Vu.resolve(e)})).catch((function(t){n.Aw(t)}))}))})).catch((function(t){n.Aw(t)})),[2]}))}))}))},t.prototype.Rw=function(t){try{var e=this.updateFunction(t);return!de(e)&&e.catch&&e.then?e:(this.Vu.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Vu.reject(t),null}},t.prototype.Aw=function(t){var e=this;this.Tw>0&&this.Dw(t)?(this.Tw-=1,this.Pu.xu((function(){return e.Ew(),Promise.resolve()}))):this.Vu.reject(t)},t.prototype.Dw=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ze(e)}return!1},t}(),ko=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Co=function(t){this.key=t,this.Pw=!1},Eo=function(){function t(t,e,n,r){this.Nc=t,this.Iw=e,this.Sw=n,this.currentUser=r,this.Cw=null,this.kw=new Yn((function(t){return t.canonicalId()})),this.Vw={},this.Nw=new vt(pt.G),this.Ow={},this.Fw=new Kn,this.Uw={},this.xw=new Map,this.jw=vr.Ko(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"Lw",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){_(null!==t,"SyncEngine listener cannot be null"),_(null===this.Cw,"SyncEngine already has a subscriber."),this.Cw=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return this.Bw("listen()"),(r=this.kw.get(t))?(this.Sw.Bv(e=r.targetId),n=r.view._w(),[3,4]):[3,1];case 1:return[4,this.Nc.Yh(t.li())];case 2:return i=s.sent(),o=this.Sw.Bv(i.targetId),[4,this.Mw(t,e=i.targetId,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.Iw.listen(i),s.label=4;case 4:return this.Cw.Il([n]),[2,e]}}))}))},t.prototype.Mw=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,u,l;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return r=s.sent(),i=new bo(t,r.ec),o=i.lw(r.documents),a=dn.re(e,n&&"Offline"!==this.onlineState),_(0===(u=i.qs(o,!0===this.isPrimary,a)).pw.length,"View returned limbo docs before target ack from the server."),_(!!u.snapshot,"applyChanges for new view should always return a snapshot"),l=new ko(t,e,i),this.kw.set(t,l),this.Vw[e]||(this.Vw[e]=[]),this.Vw[e].push(t),[2,u.snapshot]}}))}))},t.prototype.qw=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.Nc.nc(t.query,!0)];case 1:return e=r.sent(),n=t.view.yw(e),this.isPrimary&&this.Qw(t.targetId,n.pw),[2,n]}}))}))},t.prototype.$d=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:return this.Bw("unlisten()"),_(!!(e=this.kw.get(t)),"Trying to unlisten on query not found:"+t),(n=this.Vw[e.targetId]).length>1?(this.Vw[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.kw.delete(t),[2]):this.isPrimary?(this.Sw.qv(e.targetId),this.Sw.Fv(e.targetId)?[3,2]:[4,this.Nc.tc(e.targetId,!1).then((function(){r.Sw.Gv(e.targetId),r.Iw.$d(e.targetId),r.Gw(e.targetId)})).catch(br)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Gw(e.targetId),[4,this.Nc.tc(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.Bw("write()"),[4,this.Nc.kh(t)];case 1:return n=r.sent(),this.Sw.Uv(n.batchId),this.Ww(n.batchId,e),[4,this.zw(n.Ns)];case 2:return r.sent(),[4,this.Iw.Hd()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new wo(t,this.Iw,e,n).run()},t.prototype.jh=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:this.Bw("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.jh(t)];case 2:return e=r.sent(),j(t.Zi,(function(t,e){var r=n.Ow[Number(t)];r&&(_(e.se.size+e.oe.size+e.he.size<=1,"Limbo resolution for single document contains multiple changes."),e.se.size>0?r.Pw=!0:e.oe.size>0?_(r.Pw,"Received change for limbo target document without add."):e.he.size>0&&(_(r.Pw,"Received remove for limbo target document without add."),r.Pw=!1))})),[4,this.zw(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,br(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.gw=function(t,e){if(this.isPrimary&&e===ge.Ri||!this.isPrimary&&e===ge.Ai){this.Bw("applyOnlineStateChange()");var n=[];this.kw.forEach((function(e,r){var i=r.view.gw(t);_(0===i.pw.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Cw.Kw(t),this.Cw.Il(n),this.onlineState=t,this.isPrimary&&this.Sw.Kv(t)}},t.prototype.ev=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u=this;return s.__generator(this,(function(s){switch(s.label){case 0:return this.Bw("rejectListens()"),this.Sw.Wv(t,"rejected",e),(r=(n=this.Ow[t])&&n.key)?(this.Nw=this.Nw.remove(r),delete this.Ow[t],i=(i=new vt(pt.G)).lt(r,new ae(r,lt.B())),o=Ze().add(r),a=new fn(lt.MIN,{},new _t(w),i,o),[2,this.jh(a)]):[3,1];case 1:return[4,this.Nc.tc(t,!1).then((function(){return u.Gw(t,e)})).catch(br)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.iw=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var r;return s.__generator(this,(function(i){switch(i.label){case 0:return this.Bw("applyBatchState()"),[4,this.Nc.Vh(t)];case 1:return null===(r=i.sent())?(v("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Iw.Hd()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.Hw(t,n||null),this.Nc.sc(t)):g("Unknown batchState: "+e),i.label=4;case 4:return[4,this.zw(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.cv=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(r){switch(r.label){case 0:this.Bw("applySuccessfulWrite()"),this.Hw(e=t.batch.batchId,null),this.Jw(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.bo(t)];case 2:return n=r.sent(),this.Sw.jv(e,"acknowledged"),[4,this.zw(n)];case 3:return r.sent(),[3,6];case 4:return[4,br(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.lv=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:this.Bw("rejectFailedWrite()"),this.Hw(t,e),this.Jw(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.Nc.Uh(t)];case 2:return n=r.sent(),this.Sw.jv(t,"rejected",e),[4,this.zw(n)];case 3:return r.sent(),[3,6];case 4:return[4,br(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Yw=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.Iw.Fd()||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.Nc.Co()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.xw.get(e)||[]).push(t),this.xw.set(e,n),[2])}}))}))},t.prototype.Jw=function(t){(this.xw.get(t)||[]).forEach((function(t){t.resolve()})),this.xw.delete(t)},t.prototype.Xw=function(t){this.xw.forEach((function(e){e.forEach((function(e){e.reject(new x(A.CANCELLED,t))}))})),this.xw.clear()},t.prototype.Ww=function(t,e){var n=this.Uw[this.currentUser.v()];n||(n=new vt(w)),n=n.lt(t,e),this.Uw[this.currentUser.v()]=n},t.prototype.Hw=function(t,e){var n=this.Uw[this.currentUser.v()];if(n){var r=n.get(t);r&&(_(t===n.vt(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Uw[this.currentUser.v()]=n}},t.prototype.Gw=function(t,e){var n=this;void 0===e&&(e=null),this.Sw.qv(t),_(this.Vw[t]&&0!==this.Vw[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.Vw[t];r<i.length;r++){var o=i[r];this.kw.delete(o),e&&this.Cw.$w(o,e)}if(delete this.Vw[t],this.isPrimary){var s=this.Fw.gs(t);this.Fw.ms(t),s.forEach((function(t){n.Fw.bs(t)||n.Zw(t)}))}},t.prototype.Zw=function(t){var e=this.Nw.get(t);null!==e&&(this.Iw.$d(e),this.Nw=this.Nw.remove(t),delete this.Ow[e])},t.prototype.Qw=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof go?(this.Fw.fs(i.key,t),this.tm(i)):i instanceof _o?(v("SyncEngine","Document no longer in limbo: "+i.key),this.Fw.ds(i.key,t),this.Fw.bs(i.key)||this.Zw(i.key)):g("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.tm=function(t){var e=t.key;if(!this.Nw.get(e)){v("SyncEngine","New document in limbo: "+e);var n=this.jw.next(),r=be.ti(e.path);this.Ow[n]=new Co(e),this.Iw.listen(new Ue(r.li(),n,Pe.ki,Fn.gu)),this.Nw=this.Nw.lt(e,n)}},t.prototype.nm=function(){return this.Nw},t.prototype.zw=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return s.__generator(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.kw.forEach((function(s,a){i.push(Promise.resolve().then((function(){var e=a.view.lw(t);return e.gf?o.Nc.nc(a.query,!1).then((function(t){return a.view.lw(t.documents,e)})):e})).then((function(t){var i=a.view.qs(t,!0===o.isPrimary,e&&e.Zi[a.targetId]);if(o.Qw(a.targetId,i.pw),i.snapshot){o.isPrimary&&o.Sw.Wv(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var s=mr.ah(a.targetId,i.snapshot);r.push(s)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.Cw.Il(n),[4,this.Nc.Kh(r)];case 2:return s.sent(),[2]}}))}))},t.prototype.Bw=function(t){_(null!==this.Cw,"Trying to call "+t+" before calling subscribe().")},t.prototype.vv=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n;return s.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.Xw("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.Nc.Dh(t)]):[3,3];case 1:return n=r.sent(),this.Sw.Dh(t,n.Sh,n.Ch),[4,this.zw(n.Ph)];case 2:r.sent(),r.label=3;case 3:return[4,this.Iw.vv()];case 4:return r.sent(),[2]}}))}))},t.prototype.wv=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,a=this;return s.__generator(this,(function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Iw.wv(!0)]);case 1:return s.sent(),i=this.Sw.Ov(),[4,this.im(i.tt())];case 2:for(e=s.sent(),n=0,r=e;n<r.length;n++)this.Iw.listen(r[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],o=Promise.resolve(),V(this.Vw,(function(t,e){a.Sw.Qv(t)?i.push(t):o=o.then((function(){return a.Gw(t),a.Nc.tc(t,!0)})),a.Iw.$d(t)})),[4,o]);case 4:return s.sent(),[4,this.im(i)];case 5:return s.sent(),this.em(),[4,this.Iw.wv(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},t.prototype.em=function(){var t=this;V(this.Ow,(function(e){t.Iw.$d(e)})),this.Fw.ps(),this.Ow=[],this.Nw=new vt(pt.G)},t.prototype.im=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,a,u,l,c,h,f,d,p;return s.__generator(this,(function(s){switch(s.label){case 0:e=[],n=[],r=0,i=t,s.label=1;case 1:return r<i.length?(a=void 0,(u=this.Vw[o=i[r]])&&0!==u.length?[4,this.Nc.tc(o,!0)]:[3,8]):[3,14];case 2:return s.sent(),[4,this.Nc.Yh(u[0].li())];case 3:a=s.sent(),l=0,c=u,s.label=4;case 4:return l<c.length?(_(!!(f=this.kw.get(h=c[l])),"No query view found for "+h),[4,this.qw(f)]):[3,7];case 5:(d=s.sent()).snapshot&&n.push(d.snapshot),s.label=6;case 6:return l++,[3,4];case 7:return[3,12];case 8:return _(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.Nc.ac(o)];case 9:return _(!!(p=s.sent()),"Target for id "+o+" not found"),[4,this.Nc.Yh(p)];case 10:return a=s.sent(),[4,this.Mw(this.rm(p),o,!1)];case 11:s.sent(),s.label=12;case 12:e.push(a),s.label=13;case 13:return r++,[3,1];case 14:return this.Cw.Il(n),[2,e]}}))}))},t.prototype.rm=function(t){return new be(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,ve.Kn,t.startAt,t.endAt)},t.prototype.uc=function(){return this.Nc.uc()},t.prototype.ew=function(t,e,n){return s.__awaiter(this,void 0,void 0,(function(){var r,i;return s.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return v("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Vw[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.Nc.fc()];case 2:return r=o.sent(),i=fn.ee(t,"current"===e),[4,this.zw(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.Nc.tc(t,!0)];case 5:return o.sent(),this.Gw(t,n),[3,7];case 6:g("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.rw=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u,l,c,h,f=this;return s.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(_(!this.Vw[h=r[n]],"Trying to add an already active target"),[4,this.Nc.ac(h)]):[3,6];case 2:return _(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.Nc.Yh(i)];case 3:return o=d.sent(),[4,this.Mw(this.rm(i),o.targetId,!1)];case 4:d.sent(),this.Iw.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){return s.__generator(this,(function(e){switch(e.label){case 0:return u.Vw[t]?[4,u.Nc.tc(t,!1).then((function(){f.Iw.$d(t),f.Gw(t)})).catch(br)]:[2,"continue"];case 1:return e.sent(),[2]}}))},u=this,l=0,c=e,d.label=7;case 7:return l<c.length?[5,a(h=c[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.Nc.oc(!0),this.Iw.enableNetwork()},t.prototype.disableNetwork=function(){return this.Nc.oc(!1),this.Iw.disableNetwork()},t.prototype.Je=function(t){var e=this.Ow[t];if(e&&e.Pw)return Ze().add(e.key);var n=Ze(),r=this.Vw[t];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.kw.get(s);_(!!a,"No query view found for "+s),n=n.qt(a.view.fw)}return n},t}(),So=function(){this.um=null,this.targetId=0,this.listeners=[]},To=function(){function t(t){this.tv=t,this.sm=new Yn((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.om=new Set,this.tv.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.sm.get(e);return r||(n=!0,r=new So,this.sm.set(e,r)),r.listeners.push(t),_(!t.gw(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.um&&t.hm(r.um)&&this.cm(),n?this.tv.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.$d=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return s.__generator(this,(function(o){return n=!1,(r=this.sm.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.sm.delete(e),[2,this.tv.$d(e)]):[2]}))}))},t.prototype.Il=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.sm.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].hm(i)&&(e=!0);o.um=i}}e&&this.cm()},t.prototype.$w=function(t,e){var n=this.sm.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.sm.delete(t)},t.prototype.Kw=function(t){this.onlineState=t;var e=!1;this.sm.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].gw(t)&&(e=!0)})),e&&this.cm()},t.prototype.am=function(t){this.om.add(t),t.next()},t.prototype.fm=function(t){this.om.delete(t)},t.prototype.cm=function(){this.om.forEach((function(t){t.next()}))},t}(),Io=function(){function t(t,e,n){this.query=t,this.lm=e,this.dm=!1,this.vm=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.hm=function(t){if(_(t.docChanges.length>0||t.Yi,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==nn.Qi&&e.push(i)}t=new hn(t.query,t.docs,t.Hi,e,t.Ji,t.fromCache,t.Yi,!0)}var o=!1;return this.dm?this.wm(t)&&(this.lm.next(t),o=!0):this.mm(t,this.onlineState)&&(this.pm(t),o=!0),this.vm=t,o},t.prototype.onError=function(t){this.lm.error(t)},t.prototype.gw=function(t){this.onlineState=t;var e=!1;return this.vm&&!this.dm&&this.mm(this.vm,t)&&(this.pm(this.vm),e=!0),e},t.prototype.mm=function(t,e){return _(!this.dm,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.gm&&"Offline"!==e?(_(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.J()||"Offline"===e)},t.prototype.wm=function(t){return t.docChanges.length>0||!!(t.Yi||this.vm&&this.vm.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.pm=function(t){_(!this.dm,"Trying to raise initial events for second time"),t=hn.$i(t.query,t.docs,t.Ji,t.fromCache),this.dm=!0,this.lm.next(t)},t}(),Ao=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.ja=function(){return Er.Rc(this.cacheSizeBytes)},t}(),xo=function(){},No=function(){function t(t,e,n,r){this.platform=t,this.bm=e,this.credentials=n,this.Pu=r,this.clientId=b.u()}return t.prototype.start=function(t){var e=this;this.ym();var n=new Vn,r=new Vn,i=!1;return this.credentials.T((function(o){i?e.Pu.xu((function(){return e.vv(o)})):(i=!0,e._m(t,r,o).then((function(t){return e.Im(o,t)})).then(n.resolve,n.reject))})),this.Pu.xu((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.enableNetwork()}))},t.prototype._m=function(t,e,n){var r=this;return t instanceof Ao?this.Tm(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.Em(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.Rm()})):(e.resolve(),this.Rm())},t.prototype.Em=function(t){return t instanceof x?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.ym=function(){if(this.Pu.Gu)throw new x(A.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Tm=function(t,e){var n=this,r=ci.af(this.bm),i=new An(this.bm.s,{Ze:!0});return Promise.resolve().then((function(){return s.__awaiter(n,void 0,void 0,(function(){var n,o;return s.__generator(this,(function(s){switch(s.label){case 0:if(e.synchronizeTabs&&!yo.Hs(this.platform))throw new x(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.ja(),this.Sw=e.synchronizeTabs?new yo(this.Pu,this.platform,r,this.clientId,t):new mo,[4,ci.xa({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,Aa:this.Pu,serializer:i,ja:n,Da:this.Sw})];case 1:return o=s.sent(),this.persistence=o,[2,o.vo.Vc]}}))}))}))},t.prototype.Rm=function(){return this.persistence=wi.Nf(this.clientId),this.Sw=new mo,Promise.resolve(null)},t.prototype.Im=function(t,e){var n=this;return v("FirestoreClient","Initializing. user=",t.uid),this.platform.Am(this.bm).then((function(r){return s.__awaiter(n,void 0,void 0,(function(){var n,i,o,a,u,l=this;return s.__generator(this,(function(c){switch(c.label){case 0:return n=new mi,this.Nc=new _r(this.persistence,n,t),[4,this.Nc.start()];case 1:return c.sent(),e&&(this.Dm=new Sr(e,this.Pu,this.Nc)),i=this.platform.Pm(),o=this.platform.Sm(this.bm.s),a=new Di(this.Pu,r,this.credentials,o),u=function(t){return l.tv.gw(t,ge.Ai)},this.Iw=new no(this.Nc,a,this.Pu,(function(t){return l.tv.gw(t,ge.Ri)}),i),this.tv=new Eo(this.Nc,this.Iw,this.Sw,t),this.Sw._d=u,this.Iw.tv=this.tv,this.Sw.tv=this.tv,this.Cm=new To(this.tv),[4,this.Sw.start()];case 2:return c.sent(),[4,this.Iw.start()];case 3:return c.sent(),[4,this.persistence.Wa((function(t){return s.__awaiter(l,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.tv.wv(t)];case 1:return e.sent(),this.Dm&&(t&&!this.Dm.mh?this.Dm.start():t||this.Dm.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.za((function(){return s.__awaiter(l,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.vv=function(t){return this.Pu.$u(),v("FirestoreClient","Credential Changed. Current user: "+t.uid),this.tv.vv(t)},t.prototype.disableNetwork=function(){var t=this;return this.ym(),this.Pu.enqueue((function(){return t.tv.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Pu.Ju((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.Dm&&this.Dm.stop(),[4,this.Iw.shutdown()];case 1:return t.sent(),[4,this.Sw.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.R(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.ym();var e=new Vn;return this.Pu.xu((function(){return t.tv.Yw(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.ym();var i=new Io(t,e,n);return this.Pu.xu((function(){return r.Cm.listen(i)})),i},t.prototype.$d=function(t){var e=this;this.km||this.Pu.xu((function(){return e.Cm.$d(t)}))},t.prototype.Vm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return e.Nc.Jh(t)})).then((function(t){if(t instanceof se)return t;if(t instanceof ae)return null;throw new x(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Nm=function(t){var e=this;return this.ym(),this.Pu.enqueue((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,n,r;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.Nc.nc(t,!0)];case 1:return e=i.sent(),n=new bo(t,e.ec),r=n.lw(e.documents),[2,n.qs(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.ym();var n=new Vn;return this.Pu.xu((function(){return e.tv.write(t,n)})),n.promise},t.prototype.s=function(){return this.bm.s},t.prototype.am=function(t){var e=this;this.ym(),this.Pu.xu((function(){return e.Cm.am(t),Promise.resolve()}))},t.prototype.fm=function(t){this.km||this.Cm.fm(t)},Object.defineProperty(t.prototype,"km",{get:function(){return this.Pu.Gu},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.ym();var n=new Vn;return this.Pu.xu((function(){return e.tv.runTransaction(e.Pu,t,n),Promise.resolve()})),n.promise},t}(),Do=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Om(this.observer.next,t)},t.prototype.error=function(t){this.Om(this.observer.error,t)},t.prototype.Fm=function(){this.muted=!0},t.prototype.Om=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Oo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Po=Er.Pc,Ro=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new x(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else K("settings","non-empty string","host",t.host),this.host=t.host,Q("settings","boolean","ssl",t.ssl),this.ssl=F(t.ssl,!0);if(et("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),Q("settings","object","credentials",t.credentials),this.credentials=t.credentials,Q("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?y("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&y("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=F(t.timestampsInSnapshots,!0),Q("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Er.Cc;else{if(t.cacheSizeBytes!==Po&&t.cacheSizeBytes<Er.Sc)throw new x(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Er.Sc);this.cacheSizeBytes=t.cacheSizeBytes}Q("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Mo=function(){function t(e,n){var r=this;if(this.Um=null,this.xm=new Un,this.INTERNAL={delete:function(){return s.__awaiter(r,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.jm(),[4,this.Lm.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this.Um=i,this.Bm=t.Mm(i),this.qm=i.name,this.Qm=new O(n)}else{var o=e;if(!o.projectId)throw new x(A.INVALID_ARGUMENT,"Must provide projectId");this.Bm=new T(o.projectId,o.database),this.qm="[DEFAULT]",this.Qm=new D}this.Gm=new Ro({}),this.Wm=this.zm(this.Bm)}return t.prototype.settings=function(t){if(z("Firestore.settings",arguments,1),G("Firestore.settings","object",1,t),L(t,"persistence"))throw new x(A.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Ro(t);if(this.Lm&&!this.Gm.isEqual(e))throw new x(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Gm=e,void 0!==e.credentials&&(this.Qm=M(e.credentials))},t.prototype.enableNetwork=function(){return this.jm(),this.Lm.enableNetwork()},t.prototype.disableNetwork=function(){return this.jm(),this.Lm.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.Lm)throw new x(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&y("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=F(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.Km(new Ao(this.Gm.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=ci.af(this.Hm()),n=new Vn;return this.xm.Wu((function(){return s.__awaiter(t,void 0,void 0,(function(){var t;return s.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this.Lm&&!this.Lm.km)throw new x(A.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,ci.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Jm",{get:function(){return this.jm(),this.Lm.km},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.jm(),this.Lm.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.jm(),Oo(t)?this.Ym(t):(G("Firestore.onSnapshotsInSync","function",1,t),this.Ym({next:t}))},t.prototype.Ym=function(t){var e=this,n=new Do({next:function(){t.next&&t.next()},error:function(t){throw g("Uncaught Error in onSnapshotsInSync")}});return this.Lm.am(n),function(){n.Fm(),e.Lm.fm(n)}},t.prototype.jm=function(){return this.Lm||this.Km(new xo),this.Lm},t.prototype.Hm=function(){return new E(this.Bm,this.qm,this.Gm.host,this.Gm.ssl,this.Gm.forceLongPolling)},t.prototype.Km=function(t){_(!!this.Gm.host,"FirestoreSettings.host is not set"),_(!this.Lm,"configureClient() called multiple times");var e=this.Hm();return this.Lm=new No(xn.t(),e,this.Qm,this.xm),this.Lm.start(t)},t.prototype.zm=function(t){return new Ki((function(e){if(e instanceof Vo){var n=t,r=e.firestore.Bm;if(!r.isEqual(n))throw new x(A.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Wi(t,e.Xm)}return e}))},t.Mm=function(t){var e=t.options;if(!L(e,"projectId"))throw new x(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new x(A.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new T(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Um)throw new x(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Um},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return z("Firestore.collection",arguments,1),G("Firestore.collection","non-empty string",1,t),this.jm(),new Ho(ht.it(t),this)},t.prototype.doc=function(t){return z("Firestore.doc",arguments,1),G("Firestore.doc","non-empty string",1,t),this.jm(),Vo.$m(ht.it(t),this)},t.prototype.collectionGroup=function(t){if(z("Firestore.collectionGroup",arguments,1),G("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new x(A.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.jm(),new zo(new be(ht.et,t),this)},t.prototype.runTransaction=function(t){var e=this;return z("Firestore.runTransaction",arguments,1),G("Firestore.runTransaction","function",1,t),this.jm().transaction((function(n){return t(new Lo(e,n))}))},t.prototype.batch=function(){return this.jm(),new Fo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return g("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(z("Firestore.setLogLevel",arguments,1),G("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(i.DEBUG);break;case"error":p(i.ERROR);break;case"silent":p(i.SILENT);break;default:throw new x(A.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Zm=function(){return this.Gm.timestampsInSnapshots},t}(),Lo=function(){function t(t,e){this.tp=t,this.np=e}return t.prototype.get=function(t){var e=this;z("Transaction.get",arguments,1);var n=Qo("Transaction.get",t,this.tp);return this.np.lookup([n.Xm]).then((function(t){if(!t||1!==t.length)return g("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ae)return new Uo(e.tp,n.Xm,null,!1,!1,n.ip);if(r instanceof se)return new Uo(e.tp,n.Xm,r,!1,!1,n.ip);throw g("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){H("Transaction.set",arguments,2,3);var r=Qo("Transaction.set",t,this.tp);n=Go("Transaction.set",n);var i=Jo(r.ip,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.tp.Wm.nd(s,o,n.mergeFields):this.tp.Wm.Zl(s,o);return this.np.set(r.Xm,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Oi?(B("Transaction.update",arguments,3),r=Qo("Transaction.update",t,this.tp),i=this.tp.Wm.ud("Transaction.update",e,n,o)):(z("Transaction.update",arguments,2),r=Qo("Transaction.update",t,this.tp),i=this.tp.Wm.ed("Transaction.update",e)),this.np.update(r.Xm,i),this},t.prototype.delete=function(t){z("Transaction.delete",arguments,1);var e=Qo("Transaction.delete",t,this.tp);return this.np.delete(e.Xm),this},t}(),Fo=function(){function t(t){this.tp=t,this.ep=[],this.rp=!1}return t.prototype.set=function(t,e,n){H("WriteBatch.set",arguments,2,3),this.up();var r=Qo("WriteBatch.set",t,this.tp);n=Go("WriteBatch.set",n);var i=Jo(r.ip,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.tp.Wm.nd(s,o,n.mergeFields):this.tp.Wm.Zl(s,o);return this.ep=this.ep.concat(a.Ll(r.Xm,Mt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.up(),"string"==typeof e||e instanceof Oi?(B("WriteBatch.update",arguments,3),r=Qo("WriteBatch.update",t,this.tp),i=this.tp.Wm.ud("WriteBatch.update",e,n,o)):(z("WriteBatch.update",arguments,2),r=Qo("WriteBatch.update",t,this.tp),i=this.tp.Wm.ed("WriteBatch.update",e)),this.ep=this.ep.concat(i.Ll(r.Xm,Mt.exists(!0))),this},t.prototype.delete=function(t){z("WriteBatch.delete",arguments,1),this.up();var e=Qo("WriteBatch.delete",t,this.tp);return this.ep=this.ep.concat(new Ut(e.Xm,Mt.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.up(),this.rp=!0,this.ep.length>0?[2,this.tp.jm().write(this.ep)]:[2]}))}))},t.prototype.up=function(){if(this.rp)throw new x(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Vo=function(){function t(t,e,n){this.Xm=t,this.firestore=e,this.ip=n,this.Lm=this.firestore.jm()}return t.$m=function(e,n,r){if(e.length%2!=0)throw new x(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.nt()+" has "+e.length);return new t(new pt(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ho(this.Xm.path.H(),this.firestore,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Xm.path.nt()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(z("DocumentReference.collection",arguments,1),G("DocumentReference.collection","non-empty string",1,t),!t)throw new x(A.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ht.it(t);return new Ho(this.Xm.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.Xm.isEqual(e.Xm)&&this.ip===e.ip},t.prototype.set=function(t,e){H("DocumentReference.set",arguments,1,2),e=Go("DocumentReference.set",e);var n=Jo(this.ip,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.Wm.nd(i,r,e.mergeFields):this.firestore.Wm.Zl(i,r);return this.Lm.write(o.Ll(this.Xm,Mt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Oi?(B("DocumentReference.update",arguments,2),n=this.firestore.Wm.ud("DocumentReference.update",t,e,r)):(z("DocumentReference.update",arguments,1),n=this.firestore.Wm.ed("DocumentReference.update",t)),this.Lm.write(n.Ll(this.Xm,Mt.exists(!0)))},t.prototype.delete=function(){return z("DocumentReference.delete",arguments,0),this.Lm.write([new Ut(this.Xm,Mt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];H("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Oo(t[i])||(et("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),Q("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Oo(t[i])?n=t[i]:(G("DocumentReference.onSnapshot","function",i,t[i]),W("DocumentReference.onSnapshot","function",i+1,t[i+1]),W("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.sp(o,n)},t.prototype.sp=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Do({next:function(t){if(e.next){_(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.Xm);e.next(new Uo(n.firestore,n.Xm,r,t.fromCache,t.hasPendingWrites,n.ip))}},error:r}),o=this.Lm.listen(be.ti(this.Xm.path),i,t);return function(){i.Fm(),n.Lm.$d(o)}},t.prototype.get=function(t){var e=this;return H("DocumentReference.get",arguments,0,1),Ko("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jm().Vm(e.Xm).then((function(t){n(new Uo(e.firestore,e.Xm,t,!0,t instanceof se&&t.un,e.ip))}),r):e.hp(n,r,t)}))},t.prototype.hp=function(t,e,n){var r=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new x(A.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new x(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.Xm,this.firestore,e)},t}(),jo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uo=function(){function t(t,e,n,r,i,o){this.tp=t,this.Xm=e,this.cp=n,this.ap=r,this.fp=i,this.ip=o}return t.prototype.data=function(t){if(H("DocumentSnapshot.data",arguments,0,1),t=Wo("DocumentSnapshot.data",t),this.cp){if(this.ip){var e=new qo(this.tp,this.Xm,this.cp,this.ap,this.fp);return this.ip.fromFirestore(e,t)}return this.lp(this.cp.data(),zt.Cn(t,this.tp.Zm()))}},t.prototype.get=function(t,e){if(H("DocumentSnapshot.get",arguments,1,2),e=Wo("DocumentSnapshot.get",e),this.cp){var n=this.cp.data().field(Ji("DocumentSnapshot.get",t));if(null!==n)return this.dp(n,zt.Cn(e,this.tp.Zm()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Xm.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vo(this.Xm,this.tp,this.ip)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.cp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new jo(this.fp,this.ap)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","DocumentSnapshot",1,e);return this.tp===e.tp&&this.ap===e.ap&&this.Xm.isEqual(e.Xm)&&(null===this.cp?null===e.cp:this.cp.isEqual(e.cp))&&this.ip===e.ip},t.prototype.lp=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.dp(i,e)})),r},t.prototype.dp=function(t,e){if(t instanceof ne)return this.lp(t,e);if(t instanceof ie)return this.vp(t,e);if(t instanceof te){var n=t.value(e),r=this.tp.jm().s();return t.s.isEqual(r)||y("Document "+this.Xm.path+" contains a document reference within a different database ("+t.s.projectId+"/"+t.s.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Vo(n,this.tp,this.ip)}return t.value(e)},t.prototype.vp=function(t,e){var n=this;return t.Ht.map((function(t){return n.dp(t,e)}))},t}(),qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return _(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Uo),zo=function(){function t(t,e,n){this.wp=t,this.firestore=e,this.ip=n}return t.prototype.where=function(e,n,r){z("Query.where",arguments,3),tt("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];J("Query.where",o,2,n);var s=Ji("Query.where",e),a=we.it(n);if(s.ut()){if(a===we.ARRAY_CONTAINS||a===we.ARRAY_CONTAINS_ANY)throw new x(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===we.IN){this.mp(r,a);for(var u=[],l=0,c=r;l<c.length;l++){var h=c[l];u.push(this.pp(h))}i=new ie(u)}else i=this.pp(r)}else a!==we.IN&&a!==we.ARRAY_CONTAINS_ANY||this.mp(r,a),i=this.firestore.Wm.sd("Query.where",r,a===we.IN);var f=ke.create(s,a,i);return this.gp(f),new t(this.wp.ei(f),this.firestore,this.ip)},t.prototype.orderBy=function(e,n){var r;if(H("Query.orderBy",arguments,1,2),W("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Ae.ASCENDING;else{if("desc"!==n)throw new x(A.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ae.DESCENDING}if(null!==this.wp.startAt)throw new x(A.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.wp.endAt)throw new x(A.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Ji("Query.orderBy",e),o=new Ne(i,r);return this.bp(o),new t(this.wp.ui(o),this.firestore,this.ip)},t.prototype.limit=function(e){return z("Query.limit",arguments,1),G("Query.limit","number",1,e),rt("Query.limit",1,e),new t(this.wp.si(e),this.firestore,this.ip)},t.prototype.limitToLast=function(e){return z("Query.limitToLast",arguments,1),G("Query.limitToLast","number",1,e),rt("Query.limitToLast",1,e),new t(this.wp.oi(e),this.firestore,this.ip)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.startAt",arguments,1);var i=this.yp("Query.startAt",e,n,!0);return new t(this.wp.hi(i),this.firestore,this.ip)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.startAfter",arguments,1);var i=this.yp("Query.startAfter",e,n,!1);return new t(this.wp.hi(i),this.firestore,this.ip)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.endBefore",arguments,1);var i=this.yp("Query.endBefore",e,n,!0);return new t(this.wp.ci(i),this.firestore,this.ip)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];B("Query.endAt",arguments,1);var i=this.yp("Query.endAt",e,n,!1);return new t(this.wp.ci(i),this.firestore,this.ip)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","Query",1,e);return this.firestore===e.firestore&&this.wp.isEqual(e.wp)},t.prototype.withConverter=function(e){return new t(this.wp,this.firestore,e)},t.prototype.yp=function(t,e,n,r){if(tt(t,1,e),e instanceof Uo){if(n.length>0)throw new x(A.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new x(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this._p(t,i.cp,r)}var o=[e].concat(n);return this.Ip(t,o,r)},t.prototype._p=function(t,e,n){for(var r=[],i=0,o=this.wp.orderBy;i<o.length;i++){var s=o[i];if(s.field.ut())r.push(new te(this.firestore.Bm,e.key));else{var a=e.field(s.field);if(a instanceof Xt)throw new x(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.nt();throw new x(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new xe(r,n)},t.prototype.Ip=function(t,e,n){var r=this.wp.Jn;if(e.length>r.length)throw new x(A.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.ut()){if("string"!=typeof s)throw new x(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.wp._i()&&-1!==s.indexOf("/"))throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.wp.path.child(ht.it(s));if(!pt.ht(a))throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new pt(a);i.push(new te(this.firestore.Bm,u))}else{var l=this.firestore.Wm.sd(t,s);i.push(l)}}return new xe(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];H("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Oo(t[i])||(et("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),Q("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Oo(t[i])?n=t[i]:(G("Query.onSnapshot","function",i,t[i]),W("Query.onSnapshot","function",i+1,t[i+1]),W("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Tp(this.wp),this.sp(r,n)},t.prototype.sp=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Do({next:function(t){e.next&&e.next(new Bo(n.firestore,n.wp,t,n.ip))},error:r}),o=this.firestore.jm(),s=o.listen(this.wp,i,t);return function(){i.Fm(),o.$d(s)}},t.prototype.Tp=function(t){if(t.bi()&&0===t.Jn.length)throw new x(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return H("Query.get",arguments,0,1),Ko("Query.get",t),this.Tp(this.wp),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.jm().Nm(e.wp).then((function(t){n(new Bo(e.firestore,e.wp,t,e.ip))}),r):e.hp(n,r,t)}))},t.prototype.hp=function(t,e,n){var r=this.sp({includeMetadataChanges:!0,gm:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new x(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.pp=function(t){if("string"==typeof t){if(""===t)throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.wp._i()&&-1!==t.indexOf("/"))throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.wp.path.child(ht.it(t));if(!pt.ht(e))throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new te(this.firestore.Bm,new pt(e))}if(t instanceof Vo)return new te(this.firestore.Bm,t.Xm);throw new x(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Z(t)+".")},t.prototype.mp=function(t,e){if(!Array.isArray(t)||0===t.length)throw new x(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new x(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new x(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new x(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.gp=function(t){if(t instanceof ke){var e=[we.ARRAY_CONTAINS,we.ARRAY_CONTAINS_ANY],n=[we.IN,we.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ri()){var o=this.wp.ni();if(null!==o&&!o.isEqual(t.field))throw new x(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.wp.ii();null!==s&&this.Ep(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.wp.yi(n)),null===a&&r&&(a=this.wp.yi(e)),null!=a)throw new x(A.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.bp=function(t){if(null===this.wp.ii()){var e=this.wp.ni();null!==e&&this.Ep(e,t.field)}},t.prototype.Ep=function(t,e){if(!e.isEqual(t))throw new x(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Bo=function(){function t(t,e,n,r){this.tp=t,this.Rp=e,this.Ap=n,this.ip=r,this.Dp=null,this.Pp=null,this.metadata=new jo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Ap.docs.J()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Ap.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;H("QuerySnapshot.forEach",arguments,1,2),G("QuerySnapshot.forEach","function",1,t),this.Ap.docs.forEach((function(r){t.call(e,n.Sp(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new zo(this.Rp,this.tp,this.ip)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(et("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Q("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Ap.Xi)throw new x(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Dp&&this.Pp===e||(this.Dp=function(t,e,n,r){if(n.Hi.J()){var i,o=0;return n.docChanges.map((function(e){var s=new qo(t,e.doc.key,e.doc,n.fromCache,n.Ji.has(e.doc.key),r);return _(e.type===nn.Bi,"Invalid event type for first snapshot"),_(!i||n.query.di(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n.Hi;return n.docChanges.filter((function(t){return e||t.type!==nn.Qi})).map((function(e){var i=new qo(t,e.doc.key,e.doc,n.fromCache,n.Ji.has(e.doc.key),r),o=-1,a=-1;return e.type!==nn.Bi&&(_((o=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),e.type!==nn.Mi&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:Yo(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this.tp,e,this.Ap,this.ip),this.Pp=e),this.Dp},t.prototype.isEqual=function(e){if(!(e instanceof t))throw nt("isEqual","QuerySnapshot",1,e);return this.tp===e.tp&&this.Rp.isEqual(e.Rp)&&this.Ap.isEqual(e.Ap)&&this.ip===e.ip},t.prototype.Sp=function(t){return new qo(this.tp,t.key,t,this.metadata.fromCache,this.Ap.Ji.has(t.key),this.ip)},t}();s.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Bo.prototype.docChanges,t,{get:function(){return function(){throw new x(A.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Ho=function(t){function e(e,n,r){var i=t.call(this,be.ti(e),n,r)||this;if(i.Cp=e,e.length%2!=1)throw new x(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.nt()+" has "+e.length);return i}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.wp.path.X()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.wp.path.H();return t.J()?null:new Vo(new pt(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.wp.path.nt()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(H("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=b.u()),G("CollectionReference.doc","non-empty string",1,t),""===t)throw new x(A.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ht.it(t);return Vo.$m(this.wp.path.child(e),this.firestore,this.ip)},e.prototype.add=function(t){z("CollectionReference.add",arguments,1);var e=this.ip?this.ip.toFirestore(t):t;G("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Cp,this.firestore,t)},e}(zo);function Go(t,e){if(void 0===e)return{merge:!1};if(et(t,e,["merge","mergeFields"]),Q(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Z(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new x(A.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Z(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Oi}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new x(A.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Wo(t,e){return void 0===e?{}:(et(t,e,["serverTimestamps"]),Y(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ko(t,e){W(t,"object",1,e),e&&(et(t,e,["source"]),Y(t,0,"source",e.source,["default","server","cache"]))}function Qo(t,e,n){if(e instanceof Vo){if(e.firestore!==n)throw new x(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw nt(t,"DocumentReference",1,e)}function Yo(t){switch(t){case nn.Bi:return"added";case nn.qi:case nn.Qi:return"modified";case nn.Mi:return"removed";default:return g("Unknown change type: "+t)}}function Jo(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var $o=Nn(Mo,"Use firebase.firestore() instead."),Xo=Nn(Lo,"Use firebase.firestore().runTransaction() instead."),Zo=Nn(Fo,"Use firebase.firestore().batch() instead."),ts=Nn(Vo,"Use firebase.firestore().doc() instead."),es=Nn(Uo),ns=Nn(qo),rs=Nn(zo),is=Nn(Bo),os=Nn(Ho,"Use firebase.firestore().collection() instead."),ss={Firestore:$o,GeoPoint:st,Timestamp:ut,Blob:Ln,Transaction:Xo,WriteBatch:Zo,DocumentReference:ts,DocumentSnapshot:es,Query:rs,QueryDocumentSnapshot:ns,QuerySnapshot:is,CollectionReference:os,FieldPath:Oi,FieldValue:Ui,setLogLevel:Mo.setLogLevel,CACHE_SIZE_UNLIMITED:Po},as=function(){function t(){}return t.prototype.Od=function(t){},t.prototype.shutdown=function(){},t}(),us=function(){function t(){var t=this;this.kp=function(){return t.Vp()},this.Np=function(){return t.Op()},this.Fp=[],this.Up()}return t.prototype.Od=function(t){this.Fp.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.kp),window.removeEventListener("offline",this.Np)},t.prototype.Up=function(){window.addEventListener("online",this.kp),window.addEventListener("offline",this.Np)},t.prototype.Vp=function(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(0)},t.prototype.Op=function(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fp;t<e.length;t++)(0,e[t])(1)},t.Hs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ls=function(){function t(t){this.xp=t.xp,this.jp=t.jp}return t.prototype.yl=function(t){_(!this.Lp,"Called onOpen on stream twice!"),this.Lp=t},t.prototype.wl=function(t){_(!this.Bp,"Called onClose on stream twice!"),this.Bp=t},t.prototype.onMessage=function(t){_(!this.Mp,"Called onMessage on stream twice!"),this.Mp=t},t.prototype.close=function(){this.jp()},t.prototype.send=function(t){this.xp(t)},t.prototype.qp=function(){_(void 0!==this.Lp,"Cannot call onOpen because no callback was set"),this.Lp()},t.prototype.Qp=function(t){_(void 0!==this.Bp,"Cannot call onClose because no callback was set"),this.Bp(t)},t.prototype.Gp=function(t){_(void 0!==this.Mp,"Cannot call onMessage because no callback was set"),this.Mp(t)},t}(),cs={BatchGetDocuments:"batchGet",Commit:"commit"},hs="gl-js/ fire/"+h,fs=function(){function t(t){this.s=t.s,this.Wp=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zp=function(t,e){if(e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n]);t["X-Goog-Api-Client"]=hs},t.prototype.Vl=function(t,e,n){var r=this,i=this.Kp(t);return new Promise((function(o,a){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();v("Connection","XHR received:",JSON.stringify(e)),o(e);break;case c.ErrorCode.TIMEOUT:v("Connection",'RPC "'+t+'" timed out'),a(new x(A.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(v("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(s=r.status.toLowerCase().replace("_","-"),Object.values(A).indexOf(s)>=0?s:A.UNKNOWN);a(new x(i,r.message))}else a(new x(A.UNKNOWN,"Server responded with status "+u.getStatus()))}else v("Connection",'RPC "'+t+'" failed'),a(new x(A.UNAVAILABLE,"Connection failed."));break;default:g('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{v("Connection",'RPC "'+t+'" completed.')}var s}));var l=s.__assign({},e);delete l.database;var h=JSON.stringify(l);v("Connection","XHR sending: ",i+" "+h);var f={"Content-Type":"text/plain"};r.zp(f,n),u.send(i,"POST",h,f,15)}))},t.prototype.Nl=function(t,e,n){return this.Vl(t,e,n)},t.prototype._l=function(t,e){var n=[this.Wp,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zp(i.initMessageHeaders,e),u.isMobileCordova()||u.isReactNative()||u.isElectron()||u.isIE()||u.isUWP()||u.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");v("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),a=!1,l=!1,h=new ls({xp:function(t){l?v("Connection","Not sending because WebChannel is closed:",t):(a||(v("Connection","Opening WebChannel transport."),s.open(),a=!0),v("Connection","WebChannel sending:",t),s.send(t))},jp:function(){return s.close()}}),f=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(c.WebChannel.EventType.OPEN,(function(){l||v("Connection","WebChannel transport opened.")})),f(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,v("Connection","WebChannel transport closed"),h.Qp())})),f(c.WebChannel.EventType.ERROR,(function(t){l||(l=!0,v("Connection","WebChannel transport errored:",t),h.Qp(new x(A.UNAVAILABLE,"The operation could not be completed")))})),f(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];_(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){v("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ve[t];if(void 0!==e)return Be(e)}(i),a=r.message;void 0===o&&(o=A.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.Qp(new x(o,a)),s.close()}else v("Connection","WebChannel received:",n),h.Gp(n)}})),setTimeout((function(){h.qp()}),0),h},t.prototype.Kp=function(t){var e=cs[t];return _(void 0!==e,"Unknown REST mapping for: "+t),this.Wp+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),ds=function(){function t(){this.du="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Am=function(t){return Promise.resolve(new fs(t))},t.prototype.Pm=function(){return us.Hs()?new us:new as},t.prototype.Sm=function(t){return new An(t,{Ze:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();function ps(t){(function(t){var e;t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new Mo(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps((_((e=ss)&&"object"==typeof e,"shallowCopy() expects object parameter."),s.__assign({},e))))})(t),t.registerVersion("@firebase/firestore","1.12.0")}xn.lu(new ds),ps(o),e.__PRIVATE_registerFirestore=ps},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(u);a.resolve(l)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},WJFD:function(t,e,n){t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)},e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function n(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function r(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function a(t,e){return t(e={exports:{}},e.exports),e.exports}var u,l,c,h="object",f=function(t){return t&&t.Math==Math&&t},d=f(typeof globalThis==h&&globalThis)||f(typeof window==h&&window)||f(typeof self==h&&self)||f(typeof o==h&&o)||Function("return this")(),p=function(t){try{return!!t()}catch(t){return!0}},v=!p((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),y={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,g={f:m&&!y.call({1:2},1)?function(t){var e=m(this,t);return!!e&&e.enumerable}:y},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},b={}.toString,w=function(t){return b.call(t).slice(8,-1)},k="".split,C=p((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==w(t)?k.call(t,""):Object(t)}:Object,E=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},S=function(t){return C(E(t))},T=function(t){return"object"==typeof t?null!==t:"function"==typeof t},I=function(t,e){if(!T(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!T(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!T(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!T(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},A={}.hasOwnProperty,x=function(t,e){return A.call(t,e)},N=d.document,D=T(N)&&T(N.createElement),O=function(t){return D?N.createElement(t):{}},P=!v&&!p((function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})),R=Object.getOwnPropertyDescriptor,M={f:v?R:function(t,e){if(t=S(t),e=I(e,!0),P)try{return R(t,e)}catch(t){}if(x(t,e))return _(!g.f.call(t,e),t[e])}},L=function(t){if(!T(t))throw TypeError(String(t)+" is not an object");return t},F=Object.defineProperty,V={f:v?F:function(t,e,n){if(L(t),e=I(e,!0),L(n),P)try{return F(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},j=v?function(t,e,n){return V.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},U=function(t,e){try{j(d,t,e)}catch(n){d[t]=e}return e},q=a((function(t){var e=d["__core-js_shared__"]||U("__core-js_shared__",{});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.2.1",mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})})),z=q("native-function-to-string",Function.toString),B=d.WeakMap,H="function"==typeof B&&/native code/.test(z.call(B)),G=0,W=Math.random(),K=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+W).toString(36)},Q=q("keys"),Y=function(t){return Q[t]||(Q[t]=K(t))},J={};if(H){var $=new(0,d.WeakMap),X=$.get,Z=$.has,tt=$.set;u=function(t,e){return tt.call($,t,e),e},l=function(t){return X.call($,t)||{}},c=function(t){return Z.call($,t)}}else{var et=Y("state");J[et]=!0,u=function(t,e){return j(t,et,e),e},l=function(t){return x(t,et)?t[et]:{}},c=function(t){return x(t,et)}}var nt={set:u,get:l,has:c,enforce:function(t){return c(t)?l(t):u(t,{})},getterFor:function(t){return function(e){var n;if(!T(e)||(n=l(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},rt=a((function(t){var e=nt.get,n=nt.enforce,r=String(z).split("toString");q("inspectSource",(function(t){return z.call(t)})),(t.exports=function(t,e,i,o){var s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||x(i,"name")||j(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==d?(s?!u&&t[e]&&(a=!0):delete t[e],a?t[e]=i:j(t,e,i)):a?t[e]=i:U(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||z.call(this)}))})),it=d,ot=function(t){return"function"==typeof t?t:void 0},st=function(t,e){return arguments.length<2?ot(it[t])||ot(d[t]):it[t]&&it[t][e]||d[t]&&d[t][e]},at=Math.ceil,ut=Math.floor,lt=function(t){return isNaN(t=+t)?0:(t>0?ut:at)(t)},ct=Math.min,ht=function(t){return t>0?ct(lt(t),9007199254740991):0},ft=Math.max,dt=Math.min,pt=function(t){return function(e,n,r){var i,o=S(e),s=ht(o.length),a=function(t,e){var n=lt(t);return n<0?ft(n+e,0):dt(n,e)}(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},vt={includes:pt(!0),indexOf:pt(!1)},yt=vt.indexOf,mt=function(t,e){var n,r=S(t),i=0,o=[];for(n in r)!x(J,n)&&x(r,n)&&o.push(n);for(;e.length>i;)x(r,n=e[i++])&&(~yt(o,n)||o.push(n));return o},gt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=gt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return mt(t,_t)}},wt={f:Object.getOwnPropertySymbols},kt=st("Reflect","ownKeys")||function(t){var e=bt.f(L(t)),n=wt.f;return n?e.concat(n(t)):e},Ct=function(t,e){for(var n=kt(e),r=V.f,i=M.f,o=0;o<n.length;o++){var s=n[o];x(t,s)||r(t,s,i(e,s))}},Et=/#|\.prototype\./,St=function(t,e){var n=It[Tt(t)];return n==xt||n!=At&&("function"==typeof e?p(e):!!e)},Tt=St.normalize=function(t){return String(t).replace(Et,".").toLowerCase()},It=St.data={},At=St.NATIVE="N",xt=St.POLYFILL="P",Nt=St,Dt=M.f,Ot=function(t,e){var n,r,i,o,s,a=t.target,u=t.global,l=t.stat;if(n=u?d:l?d[a]||U(a,{}):(d[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=Dt(n,r))&&s.value:n[r],!Nt(u?r:a+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;Ct(o,i)}(t.sham||i&&i.sham)&&j(o,"sham",!0),rt(n,r,o,t)}},Pt=!!Object.getOwnPropertySymbols&&!p((function(){return!String(Symbol())})),Rt=d.Symbol,Mt=q("wks"),Lt=function(t){return Mt[t]||(Mt[t]=Pt&&Rt[t]||(Pt?Rt:K)("Symbol."+t))},Ft=Lt("match"),Vt=function(t){if(function(t){var e;return T(t)&&(void 0!==(e=t[Ft])?!!e:"RegExp"==w(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},jt=Lt("match"),Ut=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[jt]=!1,"/./"[t](e)}catch(t){}}return!1},qt="".startsWith,zt=Math.min;Ot({target:"String",proto:!0,forced:!Ut("startsWith")},{startsWith:function(t){var e=String(E(this));Vt(t);var n=ht(zt(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return qt?qt.call(e,r,n):e.slice(n,n+r.length)===r}});var Bt,Ht,Gt,Wt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Kt=function(t,e,n){if(Wt(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Qt=Function.call,Yt=function(t,e,n){return Kt(Qt,d[t].prototype[e],n)},Jt=(Yt("String","startsWith"),function(t){return function(e,n){var r,i,o=String(E(e)),s=lt(n),a=o.length;return s<0||s>=a?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}}),$t={codeAt:Jt(!1),charAt:Jt(!0)},Xt=function(t){return Object(E(t))},Zt=!p((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),te=Y("IE_PROTO"),ee=Object.prototype,ne=Zt?Object.getPrototypeOf:function(t){return t=Xt(t),x(t,te)?t[te]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ee:null},re=Lt("iterator"),ie=!1;[].keys&&("next"in(Gt=[].keys())?(Ht=ne(ne(Gt)))!==Object.prototype&&(Bt=Ht):ie=!0),null==Bt&&(Bt={}),x(Bt,re)||j(Bt,re,(function(){return this}));var oe={IteratorPrototype:Bt,BUGGY_SAFARI_ITERATORS:ie},se=Object.keys||function(t){return mt(t,gt)},ae=v?Object.defineProperties:function(t,e){L(t);for(var n,r=se(e),i=r.length,o=0;i>o;)V.f(t,n=r[o++],e[n]);return t},ue=st("document","documentElement"),le=Y("IE_PROTO"),ce=function(){},he=function(){var t,e=O("iframe"),n=gt.length;for(e.style.display="none",ue.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),he=t.F;n--;)delete he.prototype[gt[n]];return he()},fe=Object.create||function(t,e){var n;return null!==t?(ce.prototype=L(t),n=new ce,ce.prototype=null,n[le]=t):n=he(),void 0===e?n:ae(n,e)};J[le]=!0;var de=V.f,pe=Lt("toStringTag"),ve=function(t,e,n){t&&!x(t=n?t:t.prototype,pe)&&de(t,pe,{configurable:!0,value:e})},ye={},me=oe.IteratorPrototype,ge=function(){return this},_e=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return L(n),function(t){if(!T(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),be=oe.IteratorPrototype,we=oe.BUGGY_SAFARI_ITERATORS,ke=Lt("iterator"),Ce=function(){return this},Ee=$t.charAt,Se=nt.set,Te=nt.getterFor("String Iterator");!function(t,e,n,r,i,o,s){!function(t,e,n){var r="String Iterator";t.prototype=fe(me,{next:_(1,(function(){var t,e=Te(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Ee(n,r),e.index+=t.length,{value:t,done:!1})}))}),ve(t,r,!1),ye[r]=ge}(n);var a,u=t.prototype,l=u[ke]||u["@@iterator"]||i,c=!we&&l||function(t){return c||(!we&&t in u?u[t]:function(){return new n(this)})}(i);l&&(a=ne(l.call(new t)),be!==Object.prototype&&a.next&&(ne(a)!==be&&(_e?_e(a,be):"function"!=typeof a[ke]&&j(a,ke,Ce)),ve(a,"String Iterator",!0))),u[ke]!==c&&j(u,ke,c),ye.String=c}(String,0,(function(t){Se(this,{type:"String Iterator",string:String(t),index:0})}));var Ie=function(t,e,n,r){try{return r?e(L(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&L(i.call(t)),e}},Ae=Lt("iterator"),xe=Array.prototype,Ne=function(t){return void 0!==t&&(ye.Array===t||xe[Ae]===t)},De=function(t,e,n){var r=I(e);r in t?V.f(t,r,_(0,n)):t[r]=n},Oe=Lt("toStringTag"),Pe="Arguments"==w(function(){return arguments}()),Re=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Oe))?n:Pe?w(e):"Object"==(r=w(e))&&"function"==typeof e.callee?"Arguments":r},Me=Lt("iterator"),Le=function(t){if(null!=t)return t[Me]||t["@@iterator"]||ye[Re(t)]},Fe=Lt("iterator"),Ve=!1;try{var je=0,Ue={next:function(){return{done:!!je++}},return:function(){Ve=!0}};Ue[Fe]=function(){return this},Array.from(Ue,(function(){throw 2}))}catch(sr){}Ot({target:"Array",stat:!0,forced:!function(t,e){if(!Ve)return!1;var n=!1;try{var r={};r[Fe]=function(){return{next:function(){return{done:n=!0}}}},function(t){Array.from(t)}(r)}catch(t){}return n}()},{from:function(t){var e,n,r,i,o=Xt(t),s="function"==typeof this?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,l=void 0!==u,c=0,h=Le(o);if(l&&(u=Kt(u,a>2?arguments[2]:void 0,2)),null==h||s==Array&&Ne(h))for(n=new s(e=ht(o.length));e>c;c++)De(n,c,l?u(o[c],c):o[c]);else for(i=h.call(o),n=new s;!(r=i.next()).done;c++)De(n,c,l?Ie(i,u,[r.value,c],!0):r.value);return n.length=c,n}});var qe,ze=V.f,Be=d.DataView,He=Be&&Be.prototype,Ge=d.Int8Array,We=Ge&&Ge.prototype,Ke=d.Uint8ClampedArray,Qe=Ke&&Ke.prototype,Ye=Ge&&ne(Ge),Je=We&&ne(We),$e=Object.prototype,Xe=$e.isPrototypeOf,Ze=Lt("toStringTag"),tn=K("TYPED_ARRAY_TAG"),en=!(!d.ArrayBuffer||!Be),nn=en&&!!_e&&"Opera"!==Re(d.opera),rn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(qe in rn)d[qe]||(nn=!1);if((!nn||"function"!=typeof Ye||Ye===Function.prototype)&&(Ye=function(){throw TypeError("Incorrect invocation")},nn))for(qe in rn)d[qe]&&_e(d[qe],Ye);if((!nn||!Je||Je===$e)&&(Je=Ye.prototype,nn))for(qe in rn)d[qe]&&_e(d[qe].prototype,Je);if(nn&&ne(Qe)!==Je&&_e(Qe,Je),v&&!x(Je,Ze))for(qe in ze(Je,Ze,{get:function(){return T(this)?this[tn]:void 0}}),rn)d[qe]&&j(d[qe],tn,qe);en&&_e&&ne(He)!==$e&&_e(He,$e);var on=Lt("species"),sn=[].slice;!function(t,e,n){if(v){if(n)for(var r in rn){var i=d[r];i&&x(i.prototype,t)&&delete i.prototype[t]}Je[t]&&!n||rt(Je,t,n?e:nn&&We[t]||e)}}("slice",(function(t,e){for(var n=sn.call(function(t){if(function(t){return T(t)&&x(rn,Re(t))}(t))return t;throw TypeError("Target is not a typed array")}(this),t,e),r=function(t,e){var n,r=L(t).constructor;return void 0===r||null==(n=L(r)[on])?e:Wt(n)}(this,this.constructor),i=0,o=n.length,s=new(function(t){if(_e){if(Xe.call(Ye,t))return t}else for(var e in rn)if(x(rn,qe)){var n=d[e];if(n&&(t===n||Xe.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")}(r))(o);o>i;)s[i]=n[i++];return s}),p((function(){new Int8Array(1).slice()})));var an=Lt("unscopables"),un=Array.prototype;null==un[an]&&j(un,an,fe(null));var ln=vt.includes;function cn(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}Ot({target:"Array",proto:!0},{includes:function(t){return ln(this,t,arguments.length>1?arguments[1]:void 0)}}),un[an].includes=!0,Yt("Array","includes"),Ot({target:"String",proto:!0,forced:!Ut("includes")},{includes:function(t){return!!~String(E(this)).indexOf(Vt(t),arguments.length>1?arguments[1]:void 0)}}),Yt("String","includes");var hn=setTimeout;function fn(t){return Boolean(t&&void 0!==t.length)}function dn(){}function pn(t){if(!(this instanceof pn))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],bn(t,this)}function vn(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,pn._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void mn(e.promise,t)}yn(e.promise,r)}else(1===t._state?yn:mn)(e.promise,t._value)}))):t._deferreds.push(e)}function yn(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof pn)return t._state=3,t._value=e,void gn(t);if("function"==typeof n)return void bn((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,gn(t)}catch(e){mn(t,e)}var r,i}function mn(t,e){t._state=2,t._value=e,gn(t)}function gn(t){2===t._state&&0===t._deferreds.length&&pn._immediateFn((function(){t._handled||pn._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)vn(t,t._deferreds[e]);t._deferreds=null}function _n(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function bn(t,e){var n=!1;try{t((function(t){n||(n=!0,yn(e,t))}),(function(t){n||(n=!0,mn(e,t))}))}catch(t){if(n)return;n=!0,mn(e,t)}}pn.prototype.catch=function(t){return this.then(null,t)},pn.prototype.then=function(t,e){var n=new this.constructor(dn);return vn(this,new _n(t,e,n)),n},pn.prototype.finally=cn,pn.all=function(t){return new pn((function(e,n){if(!fn(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},pn.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pn?t:new pn((function(e){e(t)}))},pn.reject=function(t){return new pn((function(e,n){n(t)}))},pn.race=function(t){return new pn((function(e,n){if(!fn(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)pn.resolve(t[r]).then(e,n)}))},pn._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){hn(t,0)},pn._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var wn=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in wn?wn.Promise.prototype.finally||(wn.Promise.prototype.finally=cn):wn.Promise=pn,function(t){function e(t){if("utf-8"!==(t=void 0===t?"utf-8":t))throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+t+"') is invalid.")}function n(t,e){if(e=void 0===e?{fatal:!1}:e,"utf-8"!==(t=void 0===t?"utf-8":t))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(t.TextEncoder&&t.TextDecoder)return!1;Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,i=Math.max(32,n+(n>>1)+7),o=new Uint8Array(i>>3<<3);e<n;){var s=t.charCodeAt(e++);if(55296<=s&&56319>=s){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&56319>=s)continue}if(r+4>o.length&&(i+=8,i=(i*=1+e/t.length*2)>>3<<3,(a=new Uint8Array(i)).set(o),o=a),0==(4294967168&s))o[r++]=s;else{if(0==(4294965248&s))o[r++]=s>>6&31|192;else if(0==(4294901760&s))o[r++]=s>>12&15|224,o[r++]=s>>6&63|128;else{if(0!=(4292870144&s))continue;o[r++]=s>>18&7|240,o[r++]=s>>12&63|128,o[r++]=s>>6&63|128}o[r++]=63&s|128}}return o.slice(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");e=0;for(var n=(t=new Uint8Array(t)).length,r=[];e<n;){var i=t[e++];if(0===i)break;if(0==(128&i))r.push(i);else if(192==(224&i)){var o=63&t[e++];r.push((31&i)<<6|o)}else if(224==(240&i)){o=63&t[e++];var s=63&t[e++];r.push((31&i)<<12|o<<6|s)}else 240==(248&i)&&(65535<(i=(7&i)<<18|(o=63&t[e++])<<12|(s=63&t[e++])<<6|63&t[e++])&&(r.push((i-=65536)>>>10&1023|55296),i=56320|1023&i),r.push(i))}return String.fromCharCode.apply(null,r)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:o);var kn=a((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var r=t.locked.get(e);void 0===r?t.locked.set(e,void 0===n?[]:[n]):void 0!==n&&(r.unshift(n),t.locked.set(e,r))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,r){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var r=n.pop();t.locked.set(e,n),void 0!==r&&setTimeout(r,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));s(kn);var Cn=s(a((function(t,e){var n=o&&o.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},r=o&&o.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var i="browser-tabs-lock-key";function s(t){return new Promise((function(e){return setTimeout(e,t)}))}function a(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}var u=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(t,e){return void 0===e&&(e=5e3),n(this,void 0,void 0,(function(){var n,o,u,c,h,f;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+a(4),o=Date.now()+e,u=i+"-"+t,c=window.localStorage,r.label=1;case 1:return Date.now()<o?null!==c.getItem(u)?[3,4]:(h=this.id+"-"+t+"-"+n,[4,s(Math.floor(25*Math.random()))]):[3,7];case 2:return r.sent(),c.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:h,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 3:return r.sent(),null!==(f=c.getItem(u))&&(f=JSON.parse(f)).id===this.id&&f.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,6];case 4:return l(),[4,this.waitForSomethingToChange(o)];case 5:r.sent(),r.label=6;case 6:return n=Date.now()+a(4),[3,1];case 7:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,kn.default().lock(e)];case 1:return r.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(i=n.getItem(t))?(kn.default().unlock(e),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(i)),kn.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(kn.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function s(){if(o||(window.removeEventListener("storage",s),t.removeFromWaiting(s),clearTimeout(a),o=!0),!r){r=!0;var e=50-(Date.now()-i);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",s),t.addToWaiting(s);var a=setTimeout(s,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,o,s;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,null===(s=n.getItem(o=i+"-"+e))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,kn.default().lock(s.iat)];case 1:r.sent(),this.acquiredIatSet.delete(s.iat),n.removeItem(o),kn.default().unlock(s.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},t.waiters=void 0,t}();function l(){for(var t=Date.now()-5e3,e=window.localStorage,n=Object.keys(e),r=!1,o=0;o<n.length;o++){var s=n[o];if(s.includes(i)){var a=e.getItem(s);null!==a&&(void 0===(a=JSON.parse(a)).timeRefreshed&&a.timeAcquired<t||void 0!==a.timeRefreshed&&a.timeRefreshed<t)&&(e.removeItem(s),r=!0)}}r&&u.notifyWaiters()}e.default=u})));function En(t,e){return e=e||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={};for(var u in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),s.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),n(function t(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:t,headers:{keys:function(){return o},entries:function(){return s},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}}())},i.onerror=r,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)}))}var Sn={},Tn=function(t){return t.filter((function(e,n){return t.indexOf(e)===n}))},In={error:"timeout",error_description:"Timeout"},An=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean).join();return Tn(n.replace(/\s/g,",").split(",")).join(" ").trim()},xn=function(t,e,n){return void 0===n&&(n=60),new Promise((function(r,i){var o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";var s=setTimeout((function(){i(In),window.document.body.removeChild(o)}),1e3*n);window.addEventListener("message",(function t(n){n.origin==e&&n.data&&"authorization_response"===n.data.type&&(n.source.close(),n.data.response.error?i(n.data.response):r(n.data.response),clearTimeout(s),window.removeEventListener("message",t,!1),window.document.body.removeChild(o))}),!1),window.document.body.appendChild(o),o.setAttribute("src",t)}))},Nn=function(){var t=window.open("","auth0:authorize:popup","left=100,top=100,width=400,height=600,resizable,scrollbars=yes,status=1");if(!t)throw new Error("Could not open popup");return t},Dn=function(t,n,r){return t.location.href=n,new Promise((function(n,i){var o=setTimeout((function(){i(e(e({},In),{popup:t}))}),1e3*(r.timeoutInSeconds||60));window.addEventListener("message",(function(e){if(e.data&&"authorization_response"===e.data.type){if(clearTimeout(o),t.close(),e.data.response.error)return i(e.data.response);n(e.data.response)}}))}))},On=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(Un().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},Pn=function(t){return btoa(t)},Rn=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},Mn=function(t){return r(void 0,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return e=qn().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},Ln=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},Fn=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[\+\/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},Vn=function(t,e){return r(void 0,void 0,void 0,(function(){var r,o,s,a,u,l,c;return i(this,(function(i){switch(i.label){case 0:return[4,En(t,e)];case 1:return[4,(r=i.sent()).json()];case 2:if(o=i.sent(),s=o.error,a=o.error_description,u=n(o,["error","error_description"]),!r.ok)throw l=a||"HTTP error. Unable to fetch "+t,(c=new Error(l)).error=s||"request_error",c.error_description=l,c;return[2,u]}}))}))},jn=function(t){return r(void 0,void 0,void 0,(function(){var r=t.baseUrl,o=n(t,["baseUrl"]);return i(this,(function(t){switch(t.label){case 0:return[4,Vn(r+"/oauth/token",{method:"POST",body:JSON.stringify(e({grant_type:"authorization_code",redirect_uri:window.location.origin},o)),headers:{"Content-type":"application/json"}})];case 1:return[2,t.sent()]}}))}))},Un=function(){return window.crypto||window.msCrypto},qn=function(){var t=Un();return t.subtle||t.webkitSubtle},zn=function(t){return t.audience+"::"+t.scope},Bn=function(){function t(){this.cache={}}return t.prototype.save=function(t){var e=this,n=zn(t);this.cache[n]=t;var r,i,o=(r=t.expires_in,i=(new Date(1e3*t.decodedToken.claims.exp).getTime()-(new Date).getTime())/1e3,1e3*Math.min(r,i)*.8);setTimeout((function(){delete e.cache[n]}),o)},t.prototype.get=function(t){return this.cache[zn(t)]},t}(),Hn=a((function(t,e){var n=o&&o.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function r(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function i(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return r("Expires",t.expires?t.expires.toUTCString():"")+r("Domain",t.domain)+r("Path",t.path)+r("Secure",t.secure)+r("SameSite",t.sameSite)}(n)}function s(t){for(var e={},n=t?t.split("; "):[],r=/(%[0-9A-Z]{2})+/g,i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{e[o[0].replace(r,decodeURIComponent)]=s.replace(r,decodeURIComponent)}catch(t){}}return e}function a(){return s(document.cookie)}function u(t,e,r){document.cookie=i(t,e,n({path:"/"},r))}e.__esModule=!0,e.encode=i,e.parse=s,e.getAll=a,e.get=function(t){return a()[t]},e.set=u,e.remove=function(t,e){u(t,"",n({},e,{expires:-1}))}}));s(Hn);var Gn=Hn.getAll,Wn=Hn.get,Kn=Hn.set,Qn=Hn.remove,Yn=function(t){var e=Wn(t);if(void 0!==e)return JSON.parse(e)},Jn=function(t,e,n){Kn(t,JSON.stringify(e),{expires:n.daysUntilExpire})},$n=function(t){Qn(t)},Xn="a0.spajs.txs.",Zn=function(t){return""+Xn+t},tr=function(){function t(){var t=this;this.transactions={},Object.keys(Gn()||{}).filter((function(t){return t.startsWith(Xn)})).forEach((function(e){var n=e.replace(Xn,"");t.transactions[n]=Yn(e)}))}return t.prototype.create=function(t,e){this.transactions[t]=e,Jn(Zn(t),e,{daysUntilExpire:1})},t.prototype.get=function(t){return this.transactions[t]},t.prototype.remove=function(t){delete this.transactions[t],$n(Zn(t))},t}(),er=function(t){return"number"==typeof t},nr=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],rr=function(e){function n(t,r,i,o){void 0===o&&(o=null);var s=e.call(this,r)||this;return s.error=t,s.error_description=r,s.state=i,s.appState=o,Object.setPrototypeOf(s,n.prototype),s}return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(n,e),n}(Error),ir=new Cn,or=function(){function t(t){this.options=t,this.DEFAULT_SCOPE="openid profile email",this.cache=new Bn,this.transactionManager=new tr,this.domainUrl="https://"+this.options.domain,this.tokenIssuer=this.options.issuer?"https://"+this.options.issuer+"/":this.domainUrl+"/"}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify({name:"auth0-spa-js",version:"1.6.4"})));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,r,i,o,s){var a=n(this.options,["domain","leeway"]);return e(e(e({},a),t),{scope:An(this.DEFAULT_SCOPE,this.options.scope,t.scope),response_type:"code",response_mode:"query",state:r,nonce:i,redirect_uri:s||this.options.redirect_uri,code_challenge:o,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+Rn(t))},t.prototype._verifyIdToken=function(t,e){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(3!==e.length||!n||!r||!i)throw new Error("ID token could not be decoded");var o=JSON.parse(Ln(r)),s={__raw:t},a={};return Object.keys(o).forEach((function(t){s[t]=o[t],nr.includes(t)||(a[t]=o[t])})),{encoded:{header:n,payload:r,signature:i},header:JSON.parse(Ln(n)),claims:s,user:a}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!er(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!er(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!er(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date,i=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds((parseInt(e.claims.auth_time)+t.max_age)/1e3+n),i.setUTCSeconds(e.claims.exp+n),o.setUTCSeconds(e.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(er(e.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(er(e.claims.auth_time)&&r>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+s);return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,r,o,s,a,u,l,c,h,f,d;return i(this,(function(i){switch(i.label){case 0:return e=t.redirect_uri,r=t.appState,o=n(t,["redirect_uri","appState"]),s=Pn(On()),a=On(),u=On(),[4,Mn(u)];case 1:return l=i.sent(),c=Fn(l),h=t.fragment?"#"+t.fragment:"",f=this._getParams(o,s,a,c,e),d=this._authorizeUrl(f),this.transactionManager.create(s,{nonce:a,code_verifier:u,appState:r,scope:f.scope,audience:f.audience||"default",redirect_uri:f.redirect_uri}),[2,d+h]}}))}))},t.prototype.loginWithPopup=function(t,o){return void 0===t&&(t={}),void 0===o&&(o=Sn),r(this,void 0,void 0,(function(){var r,s,a,u,l,c,h,f,d,p,v,y,m;return i(this,(function(i){switch(i.label){case 0:return[4,Nn()];case 1:return r=i.sent(),s=n(t,[]),a=Pn(On()),u=On(),l=On(),[4,Mn(l)];case 2:return c=i.sent(),h=Fn(c),f=this._getParams(s,a,u,h,this.options.redirect_uri||window.location.origin),d=this._authorizeUrl(e(e({},f),{response_mode:"web_message"})),[4,Dn(r,d,e(e({},o),{timeoutInSeconds:o.timeoutInSeconds||this.options.authorizeTimeoutInSeconds}))];case 3:if(p=i.sent(),a!==p.state)throw new Error("Invalid state");return[4,jn({baseUrl:this.domainUrl,audience:t.audience||this.options.audience,client_id:this.options.client_id,code_verifier:l,code:p.code,redirect_uri:f.redirect_uri})];case 4:return v=i.sent(),y=this._verifyIdToken(v.id_token,u),m=e(e({},v),{decodedToken:y,scope:f.scope,audience:f.audience||"default"}),this.cache.save(m),Jn("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={audience:this.options.audience||"default",scope:this.options.scope||this.DEFAULT_SCOPE}),r(this,void 0,void 0,(function(){var e;return i(this,(function(n){return t.scope=An(this.DEFAULT_SCOPE,t.scope),[2,(e=this.cache.get(t))&&e.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={audience:this.options.audience||"default",scope:this.options.scope||this.DEFAULT_SCOPE}),r(this,void 0,void 0,(function(){var e;return i(this,(function(n){return t.scope=An(this.DEFAULT_SCOPE,t.scope),[2,(e=this.cache.get(t))&&e.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(t)];case 1:return e=n.sent(),window.location.assign(e),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),r(this,void 0,void 0,(function(){var n,r,o,s,a,u,l,c,h,f;return i(this,(function(i){switch(i.label){case 0:if(0===(n=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(r=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var n=t.split("&"),r={};return n.forEach((function(t){var e=t.split("=");r[e[0]]=decodeURIComponent(e[1])})),e(e({},r),{expires_in:parseInt(r.expires_in)})}(n.join("")),s=r.code,a=r.error,u=r.error_description,!(l=this.transactionManager.get(o=r.state)))throw new Error("Invalid state");if(a)throw this.transactionManager.remove(o),new rr(a,u,o,l.appState);return this.transactionManager.remove(o),[4,jn({baseUrl:this.domainUrl,audience:this.options.audience,client_id:this.options.client_id,code_verifier:l.code_verifier,code:s,redirect_uri:l.redirect_uri})];case 1:return c=i.sent(),h=this._verifyIdToken(c.id_token,l.nonce),f=e(e({},c),{decodedToken:h,audience:l.audience,scope:l.scope}),this.cache.save(f),Jn("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:l.appState}]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={audience:this.options.audience,scope:this.options.scope||this.DEFAULT_SCOPE,ignoreCache:!1}),r(this,void 0,void 0,(function(){var r,o,s,a,u,l,c,h,f,d,p,v,y,m,g,_,b,w;return i(this,(function(i){switch(i.label){case 0:t.scope=An(this.DEFAULT_SCOPE,t.scope),i.label=1;case 1:return i.trys.push([1,6,7,9]),r=t.audience,o=t.scope,s=t.ignoreCache,a=t.timeoutInSeconds,u=n(t,["audience","scope","ignoreCache","timeoutInSeconds"]),!s&&(l=this.cache.get({scope:o,audience:r||"default"}))?[2,l.access_token]:[4,ir.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return i.sent(),c=Pn(On()),h=On(),f=On(),[4,Mn(f)];case 3:return d=i.sent(),p=Fn(d),v=e({audience:r,scope:o},u),y=this._getParams(v,c,h,p,this.options.redirect_uri||window.location.origin),m=this._authorizeUrl(e(e({},y),{prompt:"none",response_mode:"web_message"})),[4,xn(m,this.domainUrl,a||this.options.authorizeTimeoutInSeconds)];case 4:if(g=i.sent(),c!==g.state)throw new Error("Invalid state");return[4,jn({baseUrl:this.domainUrl,audience:t.audience||this.options.audience,client_id:this.options.client_id,code_verifier:f,code:g.code,redirect_uri:y.redirect_uri})];case 5:return _=i.sent(),b=this._verifyIdToken(_.id_token,h),w=e(e({},_),{decodedToken:b,scope:y.scope,audience:y.audience||"default"}),this.cache.save(w),Jn("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,_.access_token];case 6:throw i.sent();case 7:return[4,ir.releaseLock("auth0.lock.getTokenSilently")];case 8:return i.sent(),[7];case 9:return[2]}}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={audience:this.options.audience,scope:this.options.scope||this.DEFAULT_SCOPE}),void 0===e&&(e=Sn),r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return t.scope=An(this.DEFAULT_SCOPE,this.options.scope,t.scope),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[2,this.cache.get({scope:t.scope,audience:t.audience||"default"}).access_token]}}))}))},t.prototype.isAuthenticated=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.logout=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id,$n("auth0.is.authenticated");var e=t.federated,r=n(t,["federated"]),i=e?"&federated":"",o=this._url("/v2/logout?"+Rn(r));window.location.assign(""+o+i)},t}();return function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:if(function(){if(!Un())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===qn())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),e=new or(t),!Yn("auth0.is.authenticated"))return[2,e];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.getTokenSilently({audience:t.audience,scope:t.scope,ignoreCache:!0})];case 2:case 3:return n.sent(),[3,4];case 4:return[2,e]}}))}))}}()},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.10.0","app"),t.exports=i},gWCv:function(t){t.exports=JSON.parse('{"a":"0KJeb3VfxI3qndG4FJAWmjnGJaY6SuGT","b":"dev-8inylkcf.auth0.com"}')},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return g})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return k})),n.d(e,"__importDefault",(function(){return C}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){a("next",t)}function l(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return u})),n.d(e,"setLogLevel",(function(){return l}));var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=o.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+s+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function l(t){i.forEach((function(e){e.logLevel=t}))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),c=new s.ErrorFactory("app","Firebase",l),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),p=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&l.push("and"),s&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.9.2",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(a){var u,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(y){u={error:y}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,t)};var _=v;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.5.5",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return ur})),n.d(e,"WebChannel",(function(){return lr})),n.d(e,"XhrIo",(function(){return cr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function l(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==h(t)}function d(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[v]||(this[v]=++y))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var x,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function O(t,e){return t<e?-1:t>e?1:0}t:{var P=s.navigator;if(P){var R=P.userAgent;if(R){x=R;break t}}x=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var U,q,z=D(x,"Opera"),B=D(x,"Trident")||D(x,"MSIE"),H=D(x,"Edge"),G=H||B,W=D(x,"Gecko")&&!(D(x.toLowerCase(),"webkit")&&!D(x,"Edge"))&&!(D(x,"Trident")||D(x,"MSIE"))&&!D(x,"Edge"),K=D(x.toLowerCase(),"webkit")&&!D(x,"Edge");function Q(){var t=s.document;return t?t.documentMode:void 0}t:{var Y="",J=(q=x,W?/rv:([^\);]+)(\)|;)/.exec(q):H?/Edge\/([\d\.]+)/.exec(q):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):z?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(J&&(Y=J?J[1]:""),B){var $=Q();if(null!=$&&$>parseFloat(Y)){U=String($);break t}}U=Y}var X,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(U)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;X=et&&B?Q()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!B||9<=Number(X),rt=B&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},k(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++lt,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),yt={};function mt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ut]?e.Aa(n,r,p(i)?!!i.capture:!!i,o):gt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ut]?t.za(e,n,p(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=kt(t);if(a||(t[vt]=a=new ft(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])dt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(dt(n,t),0==n.b&&(n.src=null,e[vt]=null)):ht(t)}}}function bt(t){return t in yt?yt[t]:yt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&_t(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||l("window.event"),this))}function kt(t){return(t=t[vt])instanceof ft?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==h(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function St(){C.call(this),this.c=new ft(this),this.J=this,this.B=null}function Tt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&dt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}k(St,C),St.prototype[ut]=!0,(r=St.prototype).addEventListener=function(t,e,n,r){mt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Et(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=kt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&_t(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;V(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Tt(s,r,!0,t)&&i}if(i=Tt(s=t.a=n,r,!0,t)&&i,i=Tt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tt(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=s.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function xt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nt,Dt=new At((function(){return new Pt}),(function(t){t.reset()}));function Ot(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Rt(t){s.setTimeout((function(){throw t}),0)}function Mt(t,e){Nt||function(){var t=s.Promise.resolve(void 0);Nt=function(){t.then(Vt)}}(),Lt||(Nt(),Lt=!0),Ft.add(t,e)}xt.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new xt;function Vt(){for(var t;t=Ot();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function jt(t,e){St.call(this),this.b=t||1,this.a=e||s,this.f=_(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function zt(t,e,n){C.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function Bt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){C.call(this),this.b=t,this.a={}}k(jt,St),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),Ut(this),delete this.a},k(zt,C),(r=zt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:Bt(this)},r.G=function(){zt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,Bt(this))},k(Ht,C);var Gt=[];function Wt(t,e,n,r){f(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Qt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Kt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new St;function Jt(t){ot.call(this,"serverreachability",t)}function $t(t){Yt.dispatchEvent(new Jt(Yt,t))}function Xt(t){ot.call(this,"statevent",t)}function Zt(t){Yt.dispatchEvent(new Xt(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}k(Jt,ot),k(Xt,ot),k(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ue(){ot.call(this,"d")}function le(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=fe,this.P=new jt(t=G?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}k(ue,ot),k(le,ot),k(ce,ie),se=new ce;var fe=45e3,de={},pe={};function ve(t,e,n){t.F=1,t.f=Ue(Pe(e)),t.l=n,t.H=!0,me(t,null)}function ye(t,e,n,r){t.F=1,t.f=Ue(Pe(e)),t.l=null,t.H=n,me(t,r)}function me(t,e){t.v=w(),be(t),t.D=Pe(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new zt(_(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),$t(1)}function ge(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=_e(t,n);if(i==pe){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==de){t.c=4,Zt(15),r=!1;break}Se(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(Ee(t),Ce(t))}function _e(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function ke(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ce(t){t.g.Ca()||t.m||t.g.na(t)}function Ee(t){ke(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Kt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Se(t,e){try{t.g.Fa(t,e),$t(4)}catch(n){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||a(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(d(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ae(t,e){Ne(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t))}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ne(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ne(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ne(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Pn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Pn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!G&&!this.a.aa())){this.m||4!=e||7==n||$t(8==n||0>=r?3:2),ke(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Rn(this.a,"X-HTTP-Initial-Response");if(s&&!A(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Zt(12),Ee(this),Ce(this);break t}this.s=!0,Se(this,a)}this.H?(ge(this,e,o),G&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Se(this,o),4==e&&Ee(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ee(this),Ce(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Pn(this.a),e=this.a.aa();this.A<e.length&&(ke(this),ge(this,t,e),this.b&&4!=t&&be(this))}},r.cancel=function(){this.m=!0,Ee(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&($t(3),Zt(17)),Ee(this),this.c=2,Ce(this)):we(this,this.R-t)},(r=Ie.prototype).C=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return xe(this),this.a.concat()},r.get=function(t,e){return Ne(this.b,t)?this.b[t]:e},r.set=function(t,e){Ne(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Oe?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=qe(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Pe(t){return new Oe(t)}function Re(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?qe(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Je(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=ze(e,Ke)),t.c=new Ye(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function je(t,e,n){f(n)||(n=[String(n)]),Ze(t.c,e,n)}function Ue(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return a(t)?(t=encodeURI(t).replace(e,Be),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Be(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ze(n,Qe)),t.join("")},Oe.prototype.resolve=function(t){var e=Pe(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,Ke=/[#\?@]/g,Qe=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Je(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){Je(t),e=en(t,e),Ne(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Xe(t,e){return Je(t),e=en(t,e),Ne(t.a.b,e)}function Ze(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Wn(t.a,t,!1)):(Zt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=$n(e=t.a,e.Y()?t.f:null,t.i),Zt(4),je(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),ye(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Ie}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[v]||(t[v]=++y)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function ln(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Je(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Je(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Je(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Je(this);var e=[];if(a(t))Xe(this,t)&&(e=T(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},r.set=function(t,e){return Je(this),this.c=null,Xe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},k((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!B||10<=Number(X))&&(this.c=200,this.b.cancel(),Zt(11),Wn(this.a,this,!0))):(Zt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Wn(this.a,this,!0)):(Zt(10),Wn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(vn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function dn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ne(t.a.a.b,e)):t=!1,t}function vn(t,e){t.a?t.a.add(e):t.b=e}function yn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ne(t.a.a.b,n)),n&&Ae(t.a.a,an(e)))}function mn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return I(t.c)}function gn(){}function _n(){this.a=new gn}function bn(t,e,n){var r=n||"";try{Te(t,(function(t,n){var i=t;p(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ln.prototype.cancel=function(){this.c=mn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},gn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},gn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var kn=s.JSON.parse;function Cn(t){St.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}k(Cn,St);var En="",Sn=/^https?$/i,Tn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),Dn(t)}function xn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Nn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Pn(t)||2!=t.T()))if(t.l&&4==Pn(t))qt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Pn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Sn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Pn(t)?t.a.statusText:""}catch(c){l=""}t.f=l+" ["+t.T()+"]",xn(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.a){On(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Pn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!l("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=l("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=l("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=l("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=l("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new ln(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Vn(t),3==t.u){var e=t.P++,n=Pe(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),zn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Pe(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Jn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Kn(t),t.b.cancel(),t.h&&(u(t.h)&&s.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new un(t.Qa++,e)),3==t.u&&Un(t)}function Un(t){fn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=Pe(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),zn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Bn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),vn(t.b,n),ve(n,r,e)}function zn(t,e){t.c&&Te({},(function(t,n){Ve(e,n,t)}))}function Bn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?_(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),a=!1;else try{bn(c,s,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),Qn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=$n(t,null,t.ha),Un(t)}function Kn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=_(t.eb,t);n||(n=new Oe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new Qt;if(s.Image){var r=new Image;r.onload=b(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=b(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Jn(t),Vn(t)}function Jn(t){t.u=0,t.m=-1,t.c&&(0==mn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function $n(t,e,n){var r=function(t){return t instanceof Oe?Pe(t):new Oe(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Oe(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){Ve(r,e,t)})),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),zn(t,r),r}function Xn(){}function Zn(){if(B&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(t,e){St.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){le.call(this),this.status=1}function rr(t){this.a=t}(r=Cn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var i=new Ie(this.headers);r&&Te(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=In,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=E(Tn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(t){return B&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),Cn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Nn(this):this.Za())},r.Za=function(){Nn(this)},r.T=function(){try{return 2<Pn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),kn(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Bn(this,n,e),Ve(i=Pe(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),zn(this,i),this.g&&r&&Mn(i,this.g,r),vn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,ve(n,i,null)):ve(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||fn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Pe(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),zn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ye(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Kn(this),this.a.cancel(),this.a=null}Gn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Kn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=$n(this,this.Y()?this.ga:null,this.ha),r.s?(yn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(ke(r),be(r)),this.a=r):Hn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),Zt(19))},r.na=function(t){var e=null;if(this.a==t){Kn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,yn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Un(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(dn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.eb=function(t){Zt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Cn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Xn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Zn.prototype.a=function(t,e){return new tr(t,e)},k(tr,St),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Zt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=$n(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ye(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=It(t),jn(this.a,e)):jn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},k(er,ue),k(nr,le),k(rr,Xn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",St.prototype.listen=St.prototype.za,Cn.prototype.listenOnce=Cn.prototype.Aa,Cn.prototype.getLastError=Cn.prototype.Xa,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getResponseJson=Cn.prototype.Ua,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Cn},sr=or.createWebChannelTransport,ar=or.ErrorCode,ur=or.EventType,lr=or.WebChannel,cr=or.XhrIo;e.default=or},yLV6:function(t,e,n){var r;!function(i,o,s,a){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function v(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function m(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var g=m((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=m((function(t,e){return g(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function E(t,e,n){y(A(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){y(A(e),(function(e){t.removeEventListener(e,n,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];x(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function O(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}}var P=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var M="ontouchstart"in i,L=void 0!==O(i,"PointerEvent"),F=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=["x","y"],j=["clientX","clientY"];function U(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&n.handler(e)},this.init()}function q(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,s=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=z(e)),i>1&&!n.firstMultiple?n.firstMultiple=z(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=B(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=K(a,u),e.distance=W(a,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=G(e.deltaX,e.deltaY);var l,c,h=H(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=s?(l=s.pointers,W((c=r)[0],c[1],j)/W(l[0],l[1],j)):1,e.rotation=s?function(t,e){return K(e[1],e[0],j)+K(t[1],t[0],j)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(a>25||void 0===s.velocity)){var u=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,c=H(a,u,l);r=c.x,i=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=G(u,l),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var p=t.element;T(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:B(e),deltaX:t.deltaX,deltaY:t.deltaY}}function B(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function G(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function W(t,e,n){n||(n=V);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){return n||(n=V),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4};function Y(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}b(Y,U,{handler:function(t){var e=Q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var J={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},$={2:"touch",3:"pen",4:"mouse",5:"kinect"},X="pointerdown",Z="pointermove pointerup pointercancel";function tt(){this.evEl=X,this.evWin=Z,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(X="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,U,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=J[r],o=$[t.pointerType]||t.pointerType,s="touch"==o,a=x(e,t.pointerId,"pointerId");1&i&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function rt(t,e){var n=N(t.touches),r=N(t.changedTouches);return 12&e&&(n=D(n.concat(r),"identifier",!0)),[n,r]}b(nt,U,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function st(t,e){var n=N(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=N(t.changedTouches),a=[],u=this.target;if(o=n.filter((function(t){return T(t.target,u)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[D(o.concat(a),"identifier",!0),a]:void 0}function at(){U.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new Y(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}b(ot,U,{handler:function(t){var e=it[t.type],n=st.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),b(at,U,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=O(c.style,"touchAction"),ft=void 0!==ht,dt=function(){if(!ft)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function vt(t){this.options=u({},this.defaults,t||{}),this.id=P++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function mt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function gt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){vt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function wt(){_t.apply(this,arguments)}function kt(){vt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){_t.apply(this,arguments)}function Et(){_t.apply(this,arguments)}function St(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Tt(t,e){return(e=e||{}).recognizers=C(e.recognizers,Tt.defaults.preset),new It(t,e)}function It(t,e){var n;this.options=u({},Tt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:F?ot:M?at:Y))(n,q),this.touchAction=new pt(this,this.options.touchAction),At(this,!0),y(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function At(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,(function(i,o){n=O(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,(function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(I(t,"none"))return"none";var e=I(t,"pan-x"),n=I(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":I(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=I(r,"none")&&!dt.none,o=I(r,"pan-y")&&!dt["pan-y"],s=I(r,"pan-x")&&!dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return i||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},vt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=gt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)?this:(t=gt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=gt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=gt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+yt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+yt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?1:s<0?8:16,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=mt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(wt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),b(kt,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(Ct,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=mt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(St,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Tt.VERSION="2.0.7",Tt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},It.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return y(A(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return y(A(t),(function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:It,Input:U,TouchAction:pt,TouchInput:ot,MouseInput:Y,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:vt,AttrRecognizer:_t,Tap:St,Pan:bt,Swipe:Et,Pinch:wt,Rotate:Ct,Press:kt,on:E,off:S,each:y,merge:_,extend:g,assign:u,inherit:b,bindFn:w,prefixed:O}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Tt,void 0===(r=(function(){return Tt}).call(e,n,e,t))||(t.exports=r)}(window,document)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e),n("yLV6");var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},u=Array.isArray||function(t){return t&&"number"==typeof t.length};function l(t){return null!==t&&"object"==typeof t}var c,h=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=((c=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(r(i))try{i.call(this)}catch(p){e=p instanceof h?d(p.errors):[p]}if(u(o))for(var a=-1,c=o.length;++a<c;){var f=o[a];if(l(f))try{f.unsubscribe()}catch(p){e=e||[],p instanceof h?e=e.concat(d(p.errors)):e.push(p)}}if(e)throw new h(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new c),c);function d(t){return t.reduce((function(t,e){return t.concat(e instanceof h?e.errors:e)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(t){function e(t,n,r){var i;switch(_classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!t){i.destination=a;break}if("object"==typeof t){t instanceof e?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new y(_assertThisInitialized(i),t));break}default:i.syncErrorThrowable=!0,i.destination=new y(_assertThisInitialized(i),t,n,r)}return i}return _inherits(e,t),_createClass(e,[{key:p,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(e.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i}}]),e}(f),y=function(t){function e(t,n,i,o){var s,u;_classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentSubscriber=t;var l=_assertThisInitialized(s);return r(n)?u=n:n&&(u=n.next,i=n.error,o=n.complete,n!==a&&(r((l=Object.create(n)).unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(_assertThisInitialized(s)))),s._context=l,s._next=u,s._error=i,s._complete=o,s}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),e}(v),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(){}function _(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b(e)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:g}var w,k=((w=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof v)return t;if(t[p])return t[p]()}return t||e||n?new v(t,e,n):new v(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof v?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=C(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:m,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:b(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=C(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new w(t)},w);function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var E,S=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),T=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).subject=t,r.subscriber=n,r.closed=!1,r}return _inherits(e,t),_createClass(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),e}(f),I=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).destination=t,n}return _inherits(e,t),e}(v),A=((E=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _inherits(e,t),_createClass(e,[{key:p,value:function(){return new I(this)}},{key:"lift",value:function(t){var e=new x(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new S;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new S;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new S;return _get(_getPrototypeOf(e.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new T(this,t))}},{key:"asObservable",value:function(){var t=new k;return t.source=this,t}}]),e}(k)).create=function(t,e){return new x(t,e)},E),x=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).destination=t,r.source=n,r}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):f.EMPTY}}]),e}(A);function N(t){return t&&"function"==typeof t.schedule}var D=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(v),O=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var P="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function M(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var L=function(t){if(t&&"function"==typeof t[m])return r=t,function(t){var e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return O(t);if(M(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,s),t};if(t&&"function"==typeof t[P])return e=t,function(t){for(var n=e[P]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=l(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function F(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new D(t,n,r);if(!i.closed)return e instanceof k?e.subscribe(i):L(e)(i)}var V=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),e}(v);function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(t,e))}}var U=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}]),t}(),q=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(v);function z(t,e){return new k((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){var i=t[m]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(M(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(R(t))return z(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[P](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof k?t:new k(L(t))}function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(H((function(n,r){return B(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new G(t,n))})}var G=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new W(t,this.project,this.concurrent))}}]),t}(),W=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=new D(this,e,n),i=this.destination;i.add(r);var o=F(this,t,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(V);function K(t){return t}function Q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return H(K,t)}function Y(t,e){return e?z(t,e):new k(O(t))}function J(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return N(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof k?e[0]:Q(r)(Y(e,i))}function $(){return function(t){return t.lift(new Z(t))}}var X,Z=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new tt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),tt=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,r}return _inherits(e,t),_createClass(e,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),e}(v),et={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(X=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new nt(this.getSubject(),this))),t.closed&&(this._connection=null,t=f.EMPTY)),t}},{key:"refCount",value:function(){return $()(this)}}]),e}(k).prototype)._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}},nt=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,r}return _inherits(e,t),_createClass(e,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),e}(I);function rt(){return new A}function it(){return function(t){return $()((e=rt,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,et);return r.source=t,r.subjectFactory=n,r})(t));var e}}function ot(t,e,n){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var st=ot("Inject",(function(t){return{token:t}})),at=ot("Optional"),ut=ot("Self"),lt=ot("SkipSelf"),ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(var e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){var e=t[pt];return e&&e.token===t?e:null}var pt=ht({ngInjectableDef:ht});function vt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var yt=ht({__forward_ref__:ht});function mt(t){return t.__forward_ref__=mt,t.toString=function(){return vt(this())},t}function gt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(yt)&&e.__forward_ref__===mt?e():t}var _t="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global,Ct=_t||kt||bt||wt,Et=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=ft({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),St=new Et("INJECTOR",-1),Tt=new Object,It=/\n/gm,At=ht({provide:String,useValue:ht}),xt=void 0;function Nt(t){var e=xt;return xt=t,e}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.Default;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct.Default;if(void 0===xt)throw new Error("inject() must be called from an injection context");return null===xt?function(t,e,n){var r=dt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ct.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(vt(t),"]"))}(t,0,e):xt.get(t,e&ct.Optional?null:void 0,e)}(t,e)}var Ot=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;if(e===Tt){var n=new Error("NullInjectorError: No provider for ".concat(vt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function Pt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=vt(e);if(e instanceof Array)i=e.map(vt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):vt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(It,"\n  "))}var Rt=function t(){_classCallCheck(this,t)},Mt=function t(){_classCallCheck(this,t)};function Lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Vt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),jt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct);function Ut(t){return t.ngDebugContext}function qt(t){return t.ngOriginalError}function zt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Bt=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Ut(t)?Ut(t):this._findContext(qt(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=qt(t);e&&qt(e);)e=qt(e);return e}}]),t}(),Ht=!0,Gt=!1;function Wt(){return Gt=!0,Ht}var Kt=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Yt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jt(t){return(t=String(t)).match(Qt)||t.match(Yt)?t:(Wt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function $t(t){var e={},n=!0,r=!1,i=void 0;try{for(var o,s=t.split(",")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){e[o.value]=!0}}catch(a){r=!0,i=a}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}function Xt(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(t[a]=!0)}return t}var Zt,te=$t("area,br,col,hr,img,wbr"),ee=$t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ne=$t("rp,rt"),re=Xt(ne,ee),ie=Xt(te,Xt(ee,$t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xt(ne,$t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re),oe=$t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),se=$t("srcset"),ae=Xt(oe,se,$t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ue=$t("script,style,template"),le=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ie.hasOwnProperty(e))return this.sanitizedSomething=!0,!ue.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(ae.hasOwnProperty(a)){var u=o.value;oe[a]&&(u=Jt(u)),se[a]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Jt(t.trim())})).join(", ")),this.buf.push(" ",s,'="',fe(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ie.hasOwnProperty(e)&&!te.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(fe(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,he=/([^\#-~ |!])/g;function fe(t){return t.replace(/&/g,"&amp;").replace(ce,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(he,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function de(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pe=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ve=function t(){_classCallCheck(this,t)},ye=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),me=/^url\(([^)]+)\)$/,ge=/([A-Z])/g;function _e(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var be=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return we()},t}(),we=function(){},ke=new Et("The presence of this token marks an injector as being the root injector."),Ce=function(t,e,n){return new xe(t,e,n)},Ee=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ce(t,e,""):Ce(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Tt,t.NULL=new Ot,t.ngInjectableDef=ft({token:t,providedIn:"any",factory:function(){return Dt(St)}}),t.__NG_ELEMENT_ID__=-1,t}(),Se=function(t){return t},Te=[],Ie=Se,Ae=function(){return Array.prototype.slice.call(arguments)},xe=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Ee,{token:Ee,fn:Se,deps:Te,value:this,useNew:!1}),i.set(St,{token:St,fn:Se,deps:Te,value:this,useNew:!1}),function t(e,n){if(n)if((n=gt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw De("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw De("Unexpected provider",n);var i=gt(n.provide),o=function(t){var e=function(t){var e=Te,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=gt(n[r]);if(o instanceof Array)for(var s=0,a=o;s<a.length;s++){var u=a[s];u instanceof at||u==at?i|=1:u instanceof lt||u==lt?i&=-3:u instanceof ut||u==ut?i&=-5:o=u instanceof st?u.token:gt(u)}e.push({token:o,options:i})}}else if(t.useExisting)e=[{token:gt(t.useExisting),options:6}];else if(!(n||At in t))throw De("'deps' required",t);return e}(t),n=Se,r=Te,i=!1,o=gt(t.provide);if(At in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=gt(t.useClass);else{if("function"!=typeof o)throw De("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var s=e.get(i);if(s){if(s.fn!==Ae)throw Ne(i)}else e.set(i,s={token:n.provide,deps:[],useNew:!1,fn:Ae,value:Te});i=n,s.deps.push({token:i,options:6})}var a=e.get(i);if(a&&a.fn==Ae)throw Ne(i);e.set(i,o)}}(i,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ct.Default,r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){var a;if(!n||s&ct.SkipSelf)s&ct.Self||(a=i.get(e,o,ct.Default));else{if((a=n.value)==Ie)throw Error("\u0275Circular dependency");if(a===Te){n.value=Ie;var u=n.useNew,l=n.fn,c=n.deps,h=Te;if(c.length){h=[];for(var f=0;f<c.length;f++){var d=c[f],p=d.options,v=2&p?r.get(d.token):void 0;h.push(t(d.token,v,r,v||4&p?i:Ee.NULL,1&p?null:Ee.THROW_IF_NOT_FOUND,ct.Default))}}n.value=a=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Ie&&(n.value=Te),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=Pt("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(i,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(vt(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function Ne(t){return De("Cannot mix multi providers and regular providers",t)}function De(t,e){return new Error(Pt(t,e,"StaticInjectorError"))}var Oe=new Et("AnalyzeForEntryComponents"),Pe=null;function Re(){if(!Pe){var t=Ct.Symbol;if(t&&t.iterator)Pe=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Pe=r)}}return Pe}function Me(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Le(t,e){var n=Ve(t),r=Ve(e);return n&&r?function(t,e,n){for(var r=t[Re()](),i=e[Re()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,Le):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||Me(t,e)}var Fe=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ve(t){return!!je(t)&&(Array.isArray(t)||!(t instanceof Map)&&Re()in t)}function je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ue(t){return!!t&&"function"==typeof t.then}function qe(t){return!!t&&"function"==typeof t.subscribe}var ze=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),Be=function t(){_classCallCheck(this,t)};function He(t){var e=Error("No component factory found for ".concat(vt(t),". Did you add it to @NgModule.entryComponents?"));return e[Ge]=t,e}var Ge="ngComponent",We=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw He(t)}}]),t}(),Ke=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new We,t}(),Qe=function(){function t(e,n,r){_classCallCheck(this,t),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<e.length;i++){var o=e[i];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw He(t);return new Ye(e,this._ngModule)}}]),t}(),Ye=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}]),e}(Be);function Je(){}var $e=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Xe(t)},t}(),Xe=Je,Ze=function t(){_classCallCheck(this,t)},tn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),en=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return nn()},t}(),nn=Je,rn=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},on=new rn("8.2.14"),sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Ve(t)}},{key:"create",value:function(t){return new un(t)}}]),t}(),an=function(t,e){return e},un=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||an}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<fn(n,r,i)?e:n,s=fn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,l=a-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ve(t))throw new Error("Error trying to diff '".concat(vt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Me(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Me(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Re()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Me(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Me(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Me(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Me(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ln(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hn),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),ln=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},cn=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Me(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),hn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new cn,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function fn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var dn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||je(t)}},{key:"create",value:function(){return new pn}}]),t}(),pn=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||je(t)))throw new Error("Error trying to diff '".concat(vt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new vn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Me(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),vn=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},yn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new lt,new at]]}}}]),t}();return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:function(){return new t([new sn])}}),t}(),mn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new lt,new at]]}}}]),t}();return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:function(){return new t([new dn])}}),t}(),gn=[new dn],_n=new yn([new sn]),bn=new mn(gn),wn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return kn(t,$e)},t}(),kn=Je,Cn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return En(t,$e)},t}(),En=Je;function Sn(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Tn(n,e),n}(i,t)}function Tn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function In(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(t))}function An(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function xn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Nn(t,e){return t.nodes[e]}function Dn(t,e){return t.nodes[e]}function On(t,e){return t.nodes[e]}function Pn(t,e){return t.nodes[e]}function Rn(t,e){return t.nodes[e]}var Mn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Ln=function(){},Fn=new Map;function Vn(t){var e=Fn.get(t);return e||(e=vt(t)+"_"+Fn.size,Fn.set(t,e)),e}function jn(t,e,n,r){if(Fe.isWrapped(r)){r=Fe.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=Fe.unwrap(t.oldValues[i]);t.oldValues[i]=new Fe(o)}return r}function Un(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var qn=0;function zn(t,e,n,r){return!(!(2&t.state)&&Me(t.oldValues[e.bindingIndex+n],r))}function Bn(t,e,n,r){return!!zn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Hn(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Le(i,r)){var o=e.bindings[n].name;throw Sn(Mn.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(i),"".concat(o,": ").concat(r),0!=(1&t.state))}}function Gn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Wn(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Kn(t,e,n,r){try{return Gn(33554432&t.def.nodes[e].flags?Dn(t,e).componentView:t),Mn.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Qn(t){return t.parent?Dn(t.parent,t.parentNodeDef.nodeIndex):null}function Yn(t){return t.parent?t.parentNodeDef.parent:null}function Jn(t,e){switch(201347067&e.flags){case 1:return Dn(t,e.nodeIndex).renderElement;case 2:return Nn(t,e.nodeIndex).renderText}}function $n(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Xn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Zn(t){return 1<<t%32}function tr(t){var e={},n=0,r={};return t&&t.forEach((function(t){var i=_slicedToArray(t,2),o=i[0],s=i[1];"number"==typeof o?(e[o]=s,n|=Zn(o)):r[o]=s})),{matchedQueries:e,references:r,matchedQueryIds:n}}function er(t,e){return t.map((function(t){var n,r,i;return Array.isArray(t)?(i=(n=_slicedToArray(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,"__source",{value:e,configurable:!0}),{flags:i,token:r,tokenKey:Vn(r)}}))}function nr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Vt.Native?Dn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var rr=new WeakMap;function ir(t){var e=rr.get(t);return e||((e=t((function(){return Ln}))).factory=t,rr.set(t,e)),e}function or(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Jn(t,t.def.lastRenderRootNode))),sr(t,e,0,t.def.nodes.length-1,n,r,i)}function sr(t,e,n,r,i,o,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&ur(t,u,e,i,o,s),a+=u.childCount}}function ar(t,e,n,r,i,o){for(var s=t;s&&!$n(s);)s=s.parent;for(var a=s.parent,u=Yn(s),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=a.def.nodes[c];h.ngContentIndex===e&&ur(a,h,n,r,i,o),c+=h.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(var d=0;d<f.length;d++)lr(t,f[d],n,r,i,o)}}function ur(t,e,n,r,i,o){if(8&e.flags)ar(t,e.ngContent.index,n,r,i,o);else{var s=Jn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&lr(t,s,n,r,i,o),32&e.bindingFlags&&lr(Dn(t,e.nodeIndex).componentView,s,n,r,i,o)):lr(t,s,n,r,i,o),16777216&e.flags)for(var a=Dn(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)or(a[u],n,r,i,o);1&e.flags&&!e.element.name&&sr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function lr(t,e,n,r,i,o){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}var cr=/^:([^:]+):(.+)$/;function hr(t){if(":"===t[0]){var e=t.match(cr);return[e[1],e[2]]}return["",t]}function fr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}var dr=new Object,pr=Vn(Ee),vr=Vn(St),yr=Vn(Rt);function mr(t,e,n,r){return n=gt(n),{index:-1,deps:er(r,vt(e)),flags:t,token:e,value:n}}function gr(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee.THROW_IF_NOT_FOUND,o=Nt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(i=null),1&e.flags)return t._parent.get(e.token,i);var s=e.tokenKey;switch(s){case pr:case vr:case yr:return t}var a,u=t._def.providersByKey[s];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=_r(t,u)),l===dr?void 0:l}if((a=dt(e.token))&&(n=t,null!=(r=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:e.token},t._providers[c]=dr,t._providers[c]=_r(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?i:t._parent.get(e.token,i)}finally{Nt(o)}}function _r(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(gr(t,n[0]));case 2:return new e(gr(t,n[0]),gr(t,n[1]));case 3:return new e(gr(t,n[0]),gr(t,n[1]),gr(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=gr(t,n[o]);return _construct(e,i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(gr(t,n[0]));case 2:return e(gr(t,n[0]),gr(t,n[1]));case 3:return e(gr(t,n[0]),gr(t,n[1]),gr(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=gr(t,n[o]);return e.apply(void 0,i)}}(t,e.value,e.deps);break;case 2048:n=gr(t,e.deps[0]);break;case 256:n=e.value}return n===dr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?dr:n}function br(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Ft(n,e),Mn.dirtyParentQueries(r),kr(r),r}function wr(t,e,n){var r=e?Jn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);or(n,2,i,o,void 0)}function kr(t){or(t,3,null,null,void 0)}var Cr=new Object;function Er(t,e,n,r,i,o){return new Sr(t,e,n,r,i,o)}var Sr=function(t){function e(t,n,r,i,o,s){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).selector=t,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=ir(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Mn.createRootView(t,e||[],n,i,r,Cr),a=On(s,o).instance;return n&&s.renderer.setAttribute(Dn(s,0).renderElement,"ng-version",on.full),new Tr(s,new Nr(s),a)}},{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}}]),e}(Be),Tr=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._view=t,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return _inherits(e,t),_createClass(e,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}},{key:"location",get:function(){return new $e(Dn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Rr(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),e}(function(){return function t(){_classCallCheck(this,t)}}());function Ir(t,e,n){return new Ar(t,e,n)}var Ar=function(){function t(e,n,r){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(t,[{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=br(this._data,t);Mn.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new Nr(e);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ye||(i=o.get(Rt));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,s,a=t;return n=this._view,r=this._data,i=e,o=a._view,s=r.viewContainer._embeddedViews,null==i&&(i=s.length),o.viewContainerParent=n,Lt(s,i,o),function(t,e){var n=Qn(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(r,o),Mn.dirtyParentQueries(o),wr(r,i>0?s[i-1]:null,o),a.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,s,a=this._embeddedViews.indexOf(t._view);return n=this._data,r=a,i=e,o=n.viewContainer._embeddedViews,s=o[r],Ft(o,r),null==i&&(i=o.length),Lt(o,i,s),Mn.dirtyParentQueries(s),kr(s),wr(n,i>0?o[i-1]:null,s),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=br(this._data,t);e&&Mn.destroyView(e)}},{key:"detach",value:function(t){var e=br(this._data,t);return e?new Nr(e):null}},{key:"element",get:function(){return new $e(this._data.renderElement)}},{key:"injector",get:function(){return new Rr(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Yn(t),t=t.parent;return t?new Rr(t,e):new Rr(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),t}();function xr(t){return new Nr(t)}var Nr=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"markForCheck",value:function(){Gn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Mn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){Mn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Mn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,kr(this._view),Mn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"rootNodes",get:function(){return or(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),t}();function Dr(t,e){return new Or(t,e)}var Or=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentView=t,r._def=n,r}return _inherits(e,t),_createClass(e,[{key:"createEmbeddedView",value:function(t){return new Nr(Mn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new $e(Dn(this._parentView,this._def.nodeIndex).renderElement)}}]),e}(wn);function Pr(t,e){return new Rr(t,e)}var Rr=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.THROW_IF_NOT_FOUND;return Mn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Vn(t)},e)}}]),t}();function Mr(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Dn(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Nn(t,n.nodeIndex).renderText;if(20240&n.flags)return On(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(e))}function Lr(t){return new Fr(t.renderer)}var Fr=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(hr(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var r=_slicedToArray(hr(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function Vr(t,e,n,r){return new jr(t,e,n,r)}var jr=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=_r(t,i))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ct.Default,r=0;return n&ct.SkipSelf?r|=1:n&ct.Self&&(r|=4),gr(this,{token:t,tokenKey:Vn(t),flags:r},e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(vt(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==dr){var s=o.ngOnDestroy;"function"!=typeof s||r.has(o)||(s.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Ke)}}]),t}(),Ur=Vn((function t(){_classCallCheck(this,t)})),qr=Vn(en),zr=Vn($e),Br=Vn(Cn),Hr=Vn(wn),Gr=Vn(be),Wr=Vn(Ee),Kr=Vn(St);function Qr(t,e,n,r,i,o,s,a){var u=[];if(s)for(var l in s){var c=_slicedToArray(s[l],2),h=c[0],f=c[1];u[h]={flags:8,name:l,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var p in a)d.push({type:1,propName:p,target:null,eventName:a[p]});return $r(t,e|=16384,n,r,i,i,o,u,d)}function Yr(t,e,n){return $r(-1,t|=16,null,0,e,e,n)}function Jr(t,e,n,r,i){return $r(-1,t,e,0,n,r,i)}function $r(t,e,n,r,i,o,s,a,u){var l=tr(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),a||(a=[]),o=gt(o);var d=er(s,vt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:fr(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Xr(t,e){return ni(t,e)}function Zr(t,e){for(var n=t;n.parent&&!$n(n);)n=n.parent;return ri(n.parent,Yn(n),!0,e.provider.value,e.provider.deps)}function ti(t,e){var n=ri(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!qe(o))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var s=o.subscribe(ei(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=s.unsubscribe.bind(s)}return n}function ei(t,e,n){return function(r){return Kn(t,e,n,r)}}function ni(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ri(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(oi(t,e,n,i[0]));case 2:return r(oi(t,e,n,i[0]),oi(t,e,n,i[1]));case 3:return r(oi(t,e,n,i[0]),oi(t,e,n,i[1]),oi(t,e,n,i[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=oi(t,e,n,i[a]);return r.apply(void 0,s)}}(t,e.parent,n,r.value,r.deps);case 2048:return oi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ri(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(oi(t,e,n,i[0]));case 2:return new r(oi(t,e,n,i[0]),oi(t,e,n,i[1]));case 3:return new r(oi(t,e,n,i[0]),oi(t,e,n,i[1]),oi(t,e,n,i[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=oi(t,e,n,i[a]);return _construct(r,s)}}var ii={};function oi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ee.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var s=r.tokenKey;s===Gr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case Ur:return Lr(si(a,e,n));case qr:return si(a,e,n).renderer;case zr:return new $e(Dn(a,e.nodeIndex).renderElement);case Br:return Dn(a,e.nodeIndex).viewContainer;case Hr:if(e.element.template)return Dn(a,e.nodeIndex).template;break;case Gr:return xr(si(a,e,n));case Wr:case Kr:return Pr(a,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var l=On(a,u.nodeIndex);return l||(l={instance:ni(a,u)},a.nodes[u.nodeIndex]=l),l.instance}}n=$n(a),e=Yn(a),a=a.parent,4&r.flags&&(a=null)}var c=o.root.injector.get(r.token,ii);return c!==ii||i===ii?c:o.root.ngModule.injector.get(r.token,i)}function si(t,e,n){var r;if(n)r=Dn(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!$n(r);)r=r.parent;return r}function ai(t,e,n,r,i,o){if(32768&n.flags){var s=Dn(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=Fe.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new ze(a,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function ui(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],s=o.parent;for(!s&&o.flags&e&&ci(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=li(t,s,e,r)),s=s.parent}}function li(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&ci(t,i,o.flags&n,r++),i+=o.childCount}return r}function ci(t,e,n,r){var i=On(t,e);if(i){var o=i.instance;o&&(Mn.setCurrentNode(t,e),1048576&n&&xn(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&xn(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var hi=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return jt}}),fi={},di=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),pi=void 0,vi=["en",[["a","p"],["AM","PM"],pi],[["AM","PM"],pi,pi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pi,"{1} 'at' {0}",pi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function yi(t){var e=t.toLowerCase().replace(/_/g,"-"),n=fi[e];if(n)return n;var r=e.split("-")[0];if(n=fi[r])return n;if("en"===r)return vi;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}var mi=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).__isAsync=n,t}return _inherits(e,t),_createClass(e,[{key:"emit",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,n,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},n&&(o=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var a=_get(_getPrototypeOf(e.prototype),"subscribe",this).call(this,i,o,s);return t instanceof f&&t.add(a),a}}]),e}(A);function gi(){return this._results[Re()]()}var _i=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new mi,this.length=0;var e=Re(),n=t.prototype;n[e]||(n[e]=gi)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),bi=new Et("Application Initializer"),wi=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ue(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),ki=new Et("AppId");function Ci(){return"".concat(Ei()).concat(Ei()).concat(Ei())}function Ei(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Si=new Et("Platform Initializer"),Ti=new Et("Platform ID"),Ii=new Et("appBootstrapListener"),Ai=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),xi=new Et("LocaleId");function Ni(){throw new Error("Runtime compiler is not loaded")}var Di,Oi,Pi=Ni,Ri=Ni,Mi=Ni,Li=Ni,Fi=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Pi,this.compileModuleAsync=Ri,this.compileModuleAndAllComponentsSync=Mi,this.compileModuleAndAllComponentsAsync=Li}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),Vi=function t(){_classCallCheck(this,t)};var ji,Ui=!(!(ji=Ct.wtf)||(Di=ji.trace,!Di)||(Oi=Di.events,0));function qi(t,e){return null}var zi=Ui?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Oi.createScope(t,e)}:function(t,e){return qi},Bi=Ui?function(t,e){return Di.leaveScope(t,e),e}:function(t,e){return e},Hi=Promise.resolve(0);function Gi(t){"undefined"==typeof Zone?Hi.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Wi=function(){function t(e){var n,r=e.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mi(!1),this.onMicrotaskEmpty=new mi(!1),this.onStable=new mi(!1),this.onError=new mi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,i,o,s){try{return Ji(n),t.invokeTask(r,i,o,s)}finally{$i(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return Ji(n),t.invoke(r,i,o,s,a)}finally{$i(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Yi(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Qi,Ki,Ki);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Ki(){}var Qi={};function Yi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Ji(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $i(t){t._nesting--,Yi(t)}var Xi,Zi=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mi,this.onMicrotaskEmpty=new mi,this.onStable=new mi,this.onError=new mi}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),to=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Wi.assertNotInAngularZone(),Gi((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Gi((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),eo=function(){function t(){_classCallCheck(this,t),this._applications=new Map,no.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return no.findTestabilityInTree(this,t,e)}}]),t}(),no=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ro=new Et("AllowMultipleToken"),io=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function oo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new Et(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=so();if(!o||o.injector.get(ro,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Xi&&!Xi.destroyed&&!Xi.injector.get(ro,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xi=t.get(ao);var e=t.get(Si,null);e&&e.forEach((function(t){return t()}))}(Ee.create({providers:s,name:r}))}return function(t){var e=so();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function so(){return Xi&&!Xi.destroyed?Xi:null}var ao=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Zi:("zone.js"===n?void 0:n)||new Wi({enableLongStackTrace:Wt()}),o=[{provide:Wi,useValue:i}];return i.run((function(){var e=Ee.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(Bt,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return ho(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(t){s.handleError(t)}})})),function(t,e,i){try{var o=((s=n.injector.get(wi)).runInitializers(),s.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return Ue(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(s,i)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=uo({},n);return function(t,e,n){return t.get(Vi).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(co);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(vt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function uo(t,e){return Array.isArray(e)?e.reduce(uo,t):Object.assign({},t,e)}var lo,co=((lo=function(){function t(e,n,r,i,o,s){var a=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new k((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),l=new k((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){Wi.assertNotInAngularZone(),Gi((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Wi.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=J(u,l.pipe(it()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Be?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Ye?null:this._injector.get(Rt),o=n.create(Ee.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(to,null);return s&&o.injector.get(eo).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Wt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var r=!0,i=!1,o=void 0;try{for(var s,a=this._views[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)s.value.detectChanges()}catch(d){i=!0,o=d}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}if(this._enforceNoNewChanges){var u=!0,l=!1,c=void 0;try{for(var h,f=this._views[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)h.value.checkNoChanges()}catch(d){l=!0,c=d}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}}}catch(p){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(p)}))}finally{this._runningTick=!1,Bi(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;ho(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ii,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),ho(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}())._tickScope=zi("ApplicationRef#tick()"),lo);function ho(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var fo=function t(){_classCallCheck(this,t)},po=function t(){_classCallCheck(this,t)},vo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},yo=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||vo}return _createClass(t,[{key:"load",value:function(t){return this._compiler instanceof Fi?this.loadFactory(t):this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return mo(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return mo(t,r,i)}))}}]),t}();function mo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var go=function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n},_o=function(){function t(e,n,r){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=e,n&&n instanceof bo&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),bo=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,r))).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return _inherits(e,t),_createClass(e,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var n=[];return function t(n,r,i){n.childNodes.forEach((function(n){n instanceof e&&(r(n)&&i.push(n),t(n,r,i))}))}(this,t,n),n}},{key:"queryAllNodes",value:function(t){var n=[];return function t(n,r,i){n instanceof e&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof e&&t(n,r,i)}))}(this,t,n),n}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof e}))}}]),e}(_o),wo=new Map,ko=function(t){return wo.get(t)||null};function Co(t){wo.set(t.nativeNode,t)}var Eo=oo(null,"core",[{provide:Ti,useValue:"unknown"},{provide:ao,deps:[Ee]},{provide:eo,deps:[]},{provide:Ai,deps:[]}]);function So(){return _n}function To(){return bn}function Io(t){return t||"en-US"}function Ao(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var xo=function t(e){_classCallCheck(this,t)};function No(t,e,n,r,i,o){t|=1;var s=tr(e),a=s.matchedQueries,u=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ir(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Ln},provider:null,text:null,query:null,ngContent:null}}function Do(t,e,n,r,i,o){var s,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;c||(c=Ln);var d=tr(n),p=d.matchedQueries,v=d.references,y=d.matchedQueryIds,m=null,g=null;o&&(m=(s=_slicedToArray(hr(o),2))[0],g=s[1]),u=u||[];for(var _=new Array(u.length),b=0;b<u.length;b++){var w=_slicedToArray(u[b],3),k=w[0],C=w[1],E=w[2],S=hr(C),T=_slicedToArray(S,2),I=T[0],A=T[1],x=void 0,N=void 0;switch(15&k){case 4:N=E;break;case 1:case 8:x=E}_[b]={flags:k,ns:I,name:A,nonMinifiedName:A,securityContext:x,suffix:N}}l=l||[];for(var D=new Array(l.length),O=0;O<l.length;O++){var P=_slicedToArray(l[O],2),R=P[0],M=P[1];D[O]={type:0,target:R,eventName:M,propName:null}}var L=(a=a||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=_slicedToArray(hr(n),2);return[i[0],i[1],r]}));return f=function(t){if(t&&"$$undefined"===t.id){var e=null!=t.encapsulation&&t.encapsulation!==Vt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c".concat(qn++):"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:y,references:v,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:fr(_),outputs:D,element:{ns:m,name:g,attrs:L,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Ln},provider:null,text:null,query:null,ngContent:null}}function Oo(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=nr(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o,!!i.componentRendererType&&i.componentRendererType.encapsulation===Vt.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],f=l[2];s.setAttribute(r,h,f,c)}return r}function Po(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=Ro(t,n.nodeIndex,(h=o.eventName,(c=o.target)?"".concat(c,":").concat(h):h)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var l=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=l}var c,h}function Ro(t,e,n){return function(r){return Kn(t,e,n,r)}}function Mo(t,e,n,r){if(!Bn(t,e,n,r))return!1;var i=e.bindings[n],o=Dn(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(pe.STYLE,i);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Lo(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Zn(e),bindings:r},ngContent:null}}function Fo(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Xn(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var o=t.def.nodes[i];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Rn(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var s=0;s<t.def.nodes.length;s++){var a=t.def.nodes[s];134217728&a.flags&&536870912&a.flags&&Rn(t,s).setDirty(),s+=a.childCount}}function Vo(t,e){var n=Rn(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=jo(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=On(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=jo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var l=s[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[l.propName]=c}a&&n.notifyOnChanges()}}function jo(t,e,n,r,i){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(Uo(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Dn(t,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(jo(t,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Qn(h);f&&f===u&&jo(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(var p=0;p<d.length;p++){var v=d[p];jo(v,0,v.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function Uo(t,e,n){if(null!=n)switch(n){case 1:return Dn(t,e.nodeIndex).renderElement;case 0:return new $e(Dn(t,e.nodeIndex).renderElement);case 2:return Dn(t,e.nodeIndex).template;case 3:return Dn(t,e.nodeIndex).viewContainer;case 4:return On(t,e.nodeIndex).instance}}function qo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function zo(t,e,n){var r=nr(t,e,n);r&&ar(t,n.ngContent.index,1,r,null,void 0)}function Bo(t,e){return Wo(128,t,new Array(e+1))}function Ho(t,e){return Wo(32,t,new Array(e))}function Go(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var s=n[o];i[e[s]]=s}return Wo(64,t,i)}function Wo(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:fr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ko(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Qo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=nr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Yo(t,e){return(null!=t?t.toString():"")+e.suffix}function Jo(t,e,n,r){for(var i=0,o=0,s=0,a=0,u=0,l=null,c=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var v=e[p];if(v.nodeIndex=p,v.parent=l,v.bindingIndex=i,v.outputIndex=o,v.renderParent=c,s|=v.flags,u|=v.matchedQueryIds,v.element){var y=v.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Xo(l,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?l.element.publicProviders[Vn(v.provider.token)]=v:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Vn(v.provider.token)]=v),m&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)l=v,$o(v)||(c=v);else for(;l&&p===l.nodeIndex+l.childCount;){var g=l.parent;g&&(g.childFlags|=l.childFlags,g.childMatchedQueries|=l.childMatchedQueries),c=(l=g)&&$o(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Ln,updateRenderer:r||Ln,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function $o(t){return 0!=(1&t.flags)&&null===t.element.name}function Xo(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function Zo(t,e,n,r){var i=ns(t.root,t.renderer,t,e,n);return rs(i,t.component,r),is(i),i}function ts(t,e,n){var r=ns(t,t.renderer,null,null,e);return rs(r,n,n),is(r),r}function es(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,ns(t.root,i,t,e.element.componentProvider,n)}function ns(t,e,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function rs(t,e,n){t.component=e,t.context=n}function is(t){var e;$n(t)&&(e=Dn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i],s=void 0;switch(Mn.setCurrentNode(t,i),201347067&o.flags){case 1:var a=Oo(t,e,o),u=void 0;if(33554432&o.flags){var l=ir(o.element.componentView);u=Mn.createComponentView(t,o,l,a)}Po(t,u,o,a),s={renderElement:a,componentView:u,viewContainer:null,template:o.element.template?Dr(t,o):void 0},16777216&o.flags&&(s.viewContainer=Ir(t,o,s));break;case 2:s=Qo(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Xr(t,o)});break;case 16:s={instance:Zr(t,o)};break;case 16384:(s=r[i])||(s={instance:ti(t,o)}),32768&o.flags&&rs(Dn(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new _i;break;case 8:zo(t,e,o),s=void 0}r[i]=s}ds(t,fs.CreateViewNodes),ms(t,201326592,268435456,0)}function os(t){us(t),Mn.updateDirectives(t,1),ps(t,fs.CheckNoChanges),Mn.updateRenderer(t,1),ds(t,fs.CheckNoChanges),t.state&=-97}function ss(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,An(t,0,256),us(t),Mn.updateDirectives(t,0),ps(t,fs.CheckAndUpdate),ms(t,67108864,536870912,0);var e=An(t,256,512);ui(t,2097152|(e?1048576:0)),Mn.updateRenderer(t,0),ds(t,fs.CheckAndUpdate),ms(t,134217728,536870912,0),ui(t,8388608|((e=An(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,An(t,768,1024)}function as(t,e,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=e.bindings.length,d=!1;return f>0&&Mo(t,e,0,n)&&(d=!0),f>1&&Mo(t,e,1,r)&&(d=!0),f>2&&Mo(t,e,2,i)&&(d=!0),f>3&&Mo(t,e,3,o)&&(d=!0),f>4&&Mo(t,e,4,s)&&(d=!0),f>5&&Mo(t,e,5,a)&&(d=!0),f>6&&Mo(t,e,6,u)&&(d=!0),f>7&&Mo(t,e,7,l)&&(d=!0),f>8&&Mo(t,e,8,c)&&(d=!0),f>9&&Mo(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,s,a,u,l,c,h);case 2:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&Bn(t,e,0,n)&&(f=!0),p>1&&Bn(t,e,1,r)&&(f=!0),p>2&&Bn(t,e,2,i)&&(f=!0),p>3&&Bn(t,e,3,o)&&(f=!0),p>4&&Bn(t,e,4,s)&&(f=!0),p>5&&Bn(t,e,5,a)&&(f=!0),p>6&&Bn(t,e,6,u)&&(f=!0),p>7&&Bn(t,e,7,l)&&(f=!0),p>8&&Bn(t,e,8,c)&&(f=!0),p>9&&Bn(t,e,9,h)&&(f=!0),f){var v=e.text.prefix;p>0&&(v+=Yo(n,d[0])),p>1&&(v+=Yo(r,d[1])),p>2&&(v+=Yo(i,d[2])),p>3&&(v+=Yo(o,d[3])),p>4&&(v+=Yo(s,d[4])),p>5&&(v+=Yo(a,d[5])),p>6&&(v+=Yo(u,d[6])),p>7&&(v+=Yo(l,d[7])),p>8&&(v+=Yo(c,d[8])),p>9&&(v+=Yo(h,d[9]));var y=Nn(t,e.nodeIndex).renderText;t.renderer.setValue(y,v)}return f}(t,e,n,r,i,o,s,a,u,l,c,h);case 16384:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=On(t,e.nodeIndex),d=f.instance,p=!1,v=void 0,y=e.bindings.length;return y>0&&zn(t,e,0,n)&&(p=!0,v=ai(t,f,e,0,n,v)),y>1&&zn(t,e,1,r)&&(p=!0,v=ai(t,f,e,1,r,v)),y>2&&zn(t,e,2,i)&&(p=!0,v=ai(t,f,e,2,i,v)),y>3&&zn(t,e,3,o)&&(p=!0,v=ai(t,f,e,3,o,v)),y>4&&zn(t,e,4,s)&&(p=!0,v=ai(t,f,e,4,s,v)),y>5&&zn(t,e,5,a)&&(p=!0,v=ai(t,f,e,5,a,v)),y>6&&zn(t,e,6,u)&&(p=!0,v=ai(t,f,e,6,u,v)),y>7&&zn(t,e,7,l)&&(p=!0,v=ai(t,f,e,7,l,v)),y>8&&zn(t,e,8,c)&&(p=!0,v=ai(t,f,e,8,c,v)),y>9&&zn(t,e,9,h)&&(p=!0,v=ai(t,f,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&xn(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,s,a,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,l,c,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&Bn(t,e,0,n)&&(d=!0),p>1&&Bn(t,e,1,r)&&(d=!0),p>2&&Bn(t,e,2,i)&&(d=!0),p>3&&Bn(t,e,3,o)&&(d=!0),p>4&&Bn(t,e,4,s)&&(d=!0),p>5&&Bn(t,e,5,a)&&(d=!0),p>6&&Bn(t,e,6,u)&&(d=!0),p>7&&Bn(t,e,7,l)&&(d=!0),p>8&&Bn(t,e,8,c)&&(d=!0),p>9&&Bn(t,e,9,h)&&(d=!0),d){var v,y=Pn(t,e.nodeIndex);switch(201347067&e.flags){case 32:v=new Array(f.length),p>0&&(v[0]=n),p>1&&(v[1]=r),p>2&&(v[2]=i),p>3&&(v[3]=o),p>4&&(v[4]=s),p>5&&(v[5]=a),p>6&&(v[6]=u),p>7&&(v[7]=l),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[f[0].name]=n),p>1&&(v[f[1].name]=r),p>2&&(v[f[2].name]=i),p>3&&(v[f[3].name]=o),p>4&&(v[f[4].name]=s),p>5&&(v[f[5].name]=a),p>6&&(v[f[6].name]=u),p>7&&(v[f[7].name]=l),p>8&&(v[f[8].name]=c),p>9&&(v[f[9].name]=h);break;case 128:var m=n;switch(p){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,i);break;case 4:v=m.transform(r,i,o);break;case 5:v=m.transform(r,i,o,s);break;case 6:v=m.transform(r,i,o,s,a);break;case 7:v=m.transform(r,i,o,s,a,u);break;case 8:v=m.transform(r,i,o,s,a,u,l);break;case 9:v=m.transform(r,i,o,s,a,u,l,c);break;case 10:v=m.transform(r,i,o,s,a,u,l,c,h)}}y.value=v}return d}(t,e,n,r,i,o,s,a,u,l,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,l,c,h,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Mo(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Bn(t,e,o,n[o])&&(i=!0);if(i){for(var s="",a=0;a<n.length;a++)s+=Yo(n[a],r[a]);s=e.text.prefix+s;var u=Nn(t,e.nodeIndex).renderText;t.renderer.setValue(u,s)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=On(t,e.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)zn(t,e,a,n[a])&&(o=!0,s=ai(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&xn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Bn(t,e,o,n[o])&&(i=!0);if(i){var s,a=Pn(t,e.nodeIndex);switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(var u=0;u<n.length;u++)s[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);s=l.transform.apply(l,_toConsumableArray(c))}a.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function us(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Dn(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,Wn(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ls(t,e,n,r,i,o,s,a,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,s,a,u,l,c,h){var f=e.bindings.length;f>0&&Hn(t,e,0,n),f>1&&Hn(t,e,1,r),f>2&&Hn(t,e,2,i),f>3&&Hn(t,e,3,o),f>4&&Hn(t,e,4,s),f>5&&Hn(t,e,5,a),f>6&&Hn(t,e,6,u),f>7&&Hn(t,e,7,l),f>8&&Hn(t,e,8,c),f>9&&Hn(t,e,9,h)}(t,e,r,i,o,s,a,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Hn(t,e,r,n[r])}(t,e,r),!1}function cs(t,e){if(Rn(t,e.nodeIndex).dirty)throw Sn(Mn.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function hs(t){if(!(128&t.state)){if(ps(t,fs.Destroy),ds(t,fs.Destroy),ui(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Qn(t);if(e){var n=e.template._projectedViews;n&&(Ft(n,n.indexOf(t)),Mn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Dn(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Nn(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Rn(t,n).destroy()}}(t),$n(t)&&t.renderer.destroy(),t.state|=128}}var fs=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ds(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?vs(Dn(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ps(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Dn(t,r).viewContainer._embeddedViews,s=0;s<o.length;s++)vs(o[s],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function vs(t,e){var n=t.state;switch(e){case fs.CheckNoChanges:0==(128&n)&&(12==(12&n)?os(t):64&n&&ys(t,fs.CheckNoChangesProjectedViews));break;case fs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?os(t):64&n&&ys(t,e));break;case fs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ss(t):64&n&&ys(t,fs.CheckAndUpdateProjectedViews));break;case fs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ss(t):64&n&&ys(t,e));break;case fs.Destroy:hs(t);break;case fs.CreateViewNodes:is(t)}}function ys(t,e){ps(t,e),ds(t,e)}function ms(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(Mn.setCurrentNode(t,s.nodeIndex),r){case 0:Vo(t,s);break;case 1:cs(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}var gs=!1;function _s(t,e,n,r,i,o){var s=i.injector.get(Ze);return ts(ws(t,i,s,e,n),r,o)}function bs(t,e,n,r,i,o){var s=i.injector.get(Ze),a=ws(t,i,new Zs(s),e,n),u=Ds(r);return $s(Us.create,ts,null,[a,u,o])}function ws(t,e,n,r,i){var o=e.injector.get(ve),s=e.injector.get(Bt),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ks(t,e,n,r){var i=Ds(n);return $s(Us.create,Zo,null,[t,e,i,r])}function Cs(t,e,n,r){return n=Is.get(e.element.componentProvider.provider.token)||Ds(n),$s(Us.create,es,null,[t,e,n,r])}function Es(t,e,n,r){return Vr(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Ss.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var r=Ss.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)})),t.modules.forEach((function(t){Ts.forEach((function(r,i){dt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=Ss.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=er(i.deps),n.value=i.value)}if(Ts.size>0){var o=new Set(t.modules);Ts.forEach((function(e,n){if(o.has(dt(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:er(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Vn(n)]=i}}))}}(t=t.factory((function(){return Ln}))),t):t}(r))}var Ss=new Map,Ts=new Map,Is=new Map;function As(t){var e;Ss.set(t.token,t),"function"==typeof t.token&&(e=dt(t.token))&&"function"==typeof e.providedIn&&Ts.set(t.token,t)}function xs(t,e){var n=ir(e.viewDefFactory),r=ir(n.nodes[0].element.componentView);Is.set(t,r)}function Ns(){Ss.clear(),Ts.clear(),Is.clear()}function Ds(t){if(0===Ss.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Ss.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Ln}));for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Ss.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=er(o.deps),i.value=o.value)}}}}function Os(t,e,n,r,i,o,s,a,u,l,c,h,f){var d=t.def.nodes[e];return as(t,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Pn(t,e).value:void 0}function Ps(t,e,n,r,i,o,s,a,u,l,c,h,f){var d=t.def.nodes[e];return ls(t,d,n,r,i,o,s,a,u,l,c,h,f),224&d.flags?Pn(t,e).value:void 0}function Rs(t){return $s(Us.detectChanges,ss,null,[t])}function Ms(t){return $s(Us.checkNoChanges,os,null,[t])}function Ls(t){return $s(Us.destroy,hs,null,[t])}var Fs,Vs,js,Us=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function qs(t,e){Vs=t,js=e}function zs(t,e,n,r){return qs(t,e),$s(Us.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Bs(t,e){if(128&t.state)throw In(Us[Fs]);return qs(t,Ks(t,0)),t.def.updateDirectives((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return 0===e?Gs(t,i,r,s):Ws(t,i,r,s),16384&i.flags&&qs(t,Ks(t,n)),224&i.flags?Pn(t,i.nodeIndex).value:void 0}),t)}function Hs(t,e){if(128&t.state)throw In(Us[Fs]);return qs(t,Qs(t,0)),t.def.updateRenderer((function(t,n,r){for(var i=t.def.nodes[n],o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return 0===e?Gs(t,i,r,s):Ws(t,i,r,s),3&i.flags&&qs(t,Qs(t,n)),224&i.flags?Pn(t,i.nodeIndex).value:void 0}),t)}function Gs(t,e,n,r){if(as.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=i[s];8&a.flags&&(o[(d=a.nonMinifiedName,p=void 0,p=d.replace(/[$@]/g,"_"),"ng-reflect-".concat(d=p.replace(ge,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()}))))]=_e(u))}var l=e.parent,c=Dn(t,l.nodeIndex).renderElement;if(l.element.name)for(var h in o){var f=o[h];null!=f?t.renderer.setAttribute(c,h,f):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}var d,p}function Ws(t,e,n,r){ls.apply(void 0,[t,e,n].concat(_toConsumableArray(r)))}function Ks(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Qs(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ys=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var r=this.nodeDef,i=e;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=Yn(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(t,[{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i,o;2&this.nodeDef.flags?(i=this.view.def,o=this.nodeDef.nodeIndex):(i=this.elView.def,o=this.elDef.nodeIndex);var s=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(i,o),a=-1;i.factory((function(){var e;return++a===s?(e=t.error).bind.apply(e,[t].concat(n)):Ln})),a<s&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}},{key:"elOrCompView",get:function(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Pr(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){Js(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Js(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!$n(t);)t=t.parent;return t.parent?Dn(t.parent,Yn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?Jn(this.view,this.nodeDef):Jn(this.elView,this.elDef)}}]),t}();function Js(t,e,n){for(var r in e.references)n[r]=Uo(t,e,e.references[r])}function $s(t,e,n,r){var i,o,s=Fs,a=Vs,u=js;try{Fs=t;var l=e.apply(n,r);return Vs=a,js=u,Fs=s,l}catch(c){if(Ut(c)||!Vs)throw c;throw i=c,o=Xs(),i instanceof Error||(i=new Error(i.toString())),Tn(i,o),i}}function Xs(){return Vs?new Ys(Vs,js):null}var Zs=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new ta(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),ta=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=Xs,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=ko(t);!function(t){wo.delete(t.nativeNode)}(e),e instanceof _o&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new bo(n,null,r);i.name=t,Co(i)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Co(new _o(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Co(new _o(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=ko(t),r=ko(e);n&&r&&n instanceof bo&&n.addChild(r),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var r=ko(t),i=ko(e),o=ko(n);r&&i&&r instanceof bo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=ko(t),r=ko(e);n&&r&&n instanceof bo&&n.removeChild(r),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),r=Xs();return r&&Co(new bo(n,null,r)),n}},{key:"setAttribute",value:function(t,e,n,r){var i=ko(t);i&&i instanceof bo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){var r=ko(t);r&&r instanceof bo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=ko(t);n&&n instanceof bo&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=ko(t);n&&n instanceof bo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){var i=ko(t);i&&i instanceof bo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){var r=ko(t);r&&r instanceof bo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var r=ko(t);r&&r instanceof bo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var r=ko(t);r&&r.listeners.push(new go(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();var ea=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).moduleType=t,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t){!function(){if(!gs){gs=!0;var t=Wt()?{setCurrentNode:qs,createRootView:bs,createEmbeddedView:ks,createComponentView:Cs,createNgModuleRef:Es,overrideProvider:As,overrideComponentView:xs,clearOverrides:Ns,checkAndUpdateView:Rs,checkNoChangesView:Ms,destroyView:Ls,createDebugContext:function(t,e){return new Ys(t,e)},handleEvent:zs,updateDirectives:Bs,updateRenderer:Hs}:{setCurrentNode:function(){},createRootView:_s,createEmbeddedView:Zo,createComponentView:es,createNgModuleRef:Vr,overrideProvider:Ln,overrideComponentView:Ln,clearOverrides:Ln,checkAndUpdateView:ss,checkNoChangesView:os,destroyView:hs,createDebugContext:function(t,e){return new Ys(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Os:Ps,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Os:Ps,t)}};Mn.setCurrentNode=t.setCurrentNode,Mn.createRootView=t.createRootView,Mn.createEmbeddedView=t.createEmbeddedView,Mn.createComponentView=t.createComponentView,Mn.createNgModuleRef=t.createNgModuleRef,Mn.overrideProvider=t.overrideProvider,Mn.overrideComponentView=t.overrideComponentView,Mn.clearOverrides=t.clearOverrides,Mn.checkAndUpdateView=t.checkAndUpdateView,Mn.checkNoChangesView=t.checkNoChangesView,Mn.destroyView=t.destroyView,Mn.resolveDep=oi,Mn.createDebugContext=t.createDebugContext,Mn.handleEvent=t.handleEvent,Mn.updateDirectives=t.updateDirectives,Mn.updateRenderer=t.updateRenderer,Mn.dirtyParentQueries=Fo}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(ir(this._ngModuleDefFactory));return Mn.createNgModuleRef(this.moduleType,t||Ee.NULL,this._bootstrapComponents,e)}}]),e}(Mt);n("6Joi");var na=function t(){_classCallCheck(this,t)},ra=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"onActivate",value:function(t){window.scroll(0,0)}}]),t}(),ia=function t(){_classCallCheck(this,t)},oa=new Et("Location Initialized"),sa=function t(){_classCallCheck(this,t)},aa=new Et("appBaseHref"),ua=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new mi,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(la(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+t.normalizeQueryParams(n))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,la(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}],[{key:"normalizeQueryParams",value:function(t){return t&&"?"!==t[0]?"?"+t:t}},{key:"joinWithSlash",value:function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}},{key:"stripTrailingSlash",value:function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}]),t}();function la(t){return t.replace(/\/index.html$/,"")}var ca=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=ua.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+ua.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+ua.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(sa),ha=function(t){function e(t,n){var r;if(_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return ua.joinWithSlash(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+ua.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+ua.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+ua.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(sa),fa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),da=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),pa=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),va=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),ya=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function ma(t,e,n){var r=yi(t),i=Ea([r[di.DaysFormat],r[di.DaysStandalone]],e);return Ea(i,n)}function ga(t,e,n){var r=yi(t),i=Ea([r[di.MonthsFormat],r[di.MonthsStandalone]],e);return Ea(i,n)}function _a(t,e){return Ea(yi(t)[di.DateFormat],e)}function ba(t,e){return Ea(yi(t)[di.TimeFormat],e)}function wa(t,e){return Ea(yi(t)[di.DateTimeFormat],e)}function ka(t,e){var n=yi(t),r=n[di.NumberSymbols][e];if(void 0===r){if(e===ya.CurrencyDecimal)return n[di.NumberSymbols][ya.Decimal];if(e===ya.CurrencyGroup)return n[di.NumberSymbols][ya.Group]}return r}function Ca(t){if(!t[di.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[di.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Ea(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Sa(t){var e=_slicedToArray(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}var Ta=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ia={},Aa=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xa=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Na=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Da=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Oa(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Pa(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var s=String(t);s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Ra(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(t,e){switch(t){case Na.FullYear:return e.getFullYear();case Na.Month:return e.getMonth();case Na.Date:return e.getDate();case Na.Hours:return e.getHours();case Na.Minutes:return e.getMinutes();case Na.Seconds:return e.getSeconds();case Na.FractionalSeconds:return e.getMilliseconds();case Na.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===Na.Hours)0===u&&-12===n&&(u=12);else if(t===Na.FractionalSeconds)return a=e,Pa(u,3).substr(0,a);var l=ka(s,ya.MinusSign);return Pa(u,e,l,r,i)}}function Ma(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:da.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(t,e,n,r,i,o){switch(n){case Da.Months:return ga(e,i,r)[t.getMonth()];case Da.Days:return ma(e,i,r)[t.getDay()];case Da.DayPeriods:var s=t.getHours(),a=t.getMinutes();if(o){var u,l=function(t){var e=yi(t);return Ca(e),(e[di.ExtraData][2]||[]).map((function(t){return"string"==typeof t?Sa(t):[Sa(t[0]),Sa(t[1])]}))}(e),c=function(t,e,n){var r=yi(t);Ca(r);var i=Ea([r[di.ExtraData][0],r[di.ExtraData][1]],e)||[];return Ea(i,n)||[]}(e,i,r);if(l.forEach((function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],l=o.hours,h=o.minutes;s>=r&&a>=i&&(s<l||s===l&&a<h)&&(u=c[e])}else{var f=t.hours,d=t.minutes;f===s&&d===a&&(u=c[e])}})),u)return u}return function(t,e,n){var r=yi(t),i=Ea([r[di.DayPeriodsFormat],r[di.DayPeriodsStandalone]],e);return Ea(i,n)}(e,i,r)[s<12?0:1];case Da.Eras:return function(t,e){return Ea(yi(t)[di.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,t,e,n,r)}}function La(t){return function(e,n,r){var i=-1*r,o=ka(n,ya.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case xa.Short:return(i>=0?"+":"")+Pa(s,2,o)+Pa(Math.abs(i%60),2,o);case xa.ShortGMT:return"GMT"+(i>=0?"+":"")+Pa(s,1,o);case xa.Long:return"GMT"+(i>=0?"+":"")+Pa(s,2,o)+":"+Pa(Math.abs(i%60),2,o);case xa.Extended:return 0===r?"Z":(i>=0?"+":"")+Pa(s,2,o)+":"+Pa(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Fa(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s,a;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(o=n.getFullYear(),s=new Date(o,0,1).getDay(),new Date(o,0,1+(s<=4?4:11)-s)),h=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return Pa(i,t,ka(r,ya.MinusSign))}}var Va={};function ja(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ua=new Et("UseV4Plurals"),qa=function t(){_classCallCheck(this,t)},za=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).locale=t,r.deprecatedPluralFn=n,r}return _inherits(e,t),_createClass(e,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return yi(t)[di.PluralCase]}(e||this.locale)(t)){case fa.Zero:return"zero";case fa.One:return"one";case fa.Two:return"two";case fa.Few:return"few";case fa.Many:return"many";default:return"other"}}}]),e}(qa);function Ba(t,e){e=encodeURIComponent(e);var n=!0,r=!1,i=void 0;try{for(var o,s=t.split(";")[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=a.indexOf("="),l=_slicedToArray(-1==u?[a,""]:[a.slice(0,u),a.slice(u+1)],2),c=l[0],h=l[1];if(c.trim()===e)return decodeURIComponent(h)}}catch(f){r=!0,i=f}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return null}var Ha=function t(){_classCallCheck(this,t)},Ga=function(){function t(e,n,r,i){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass(t,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ve(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(vt(t.item)));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}}]),t}(),Wa=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(t){this._delegate.setClass(t)}},{key:"ngClass",set:function(t){this._delegate.setNgClass(t)}}]),e}(function(){var t=function(){function t(e){_classCallCheck(this,t),this._delegate=e}return _createClass(t,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),t}();return t.ngDirectiveDef=void 0,t}()),Ka=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Qa=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Ka(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new Ya(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new Ya(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Wt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),Ya=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},Ja=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new $a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Xa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Xa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}]),t}(),$a=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function Xa(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(vt(e),"'."))}var Za=function(){function t(e){_classCallCheck(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(t,[{key:"ngOnChanges",value:function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r=!0,i=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;if(-1===e.indexOf(u))return!0}}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}(),tu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),eu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),nu=new tu,ru=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Me(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Fe.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Ue(e))return eu;if(qe(e))return nu;throw Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(vt(t),"'"))}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}(),iu=function t(){_classCallCheck(this,t)},ou=new Et("DocumentToken");function su(t){return"server"===t}var au,uu=((au=function t(){_classCallCheck(this,t)}).ngInjectableDef=ft({token:au,providedIn:"root",factory:function(){return new lu(Dt(ou),window,Dt(Bt))}}),au),lu=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),cu=null;function hu(){return cu}var fu,du={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},pu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yu=function(){if(Ct.Node)return Ct.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),mu=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(t,e){return yu.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,r){t.setAttributeNS(e,n,r)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vu.hasOwnProperty(e)&&(e=vu[e]))}return pu[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=gu||(gu=document.querySelector("base"))?gu.getAttribute("href"):null;return null==n?null:(e=n,fu||(fu=document.createElement("a")),fu.setAttribute("href",e),"/"===fu.pathname.charAt(0)?fu.pathname:"/"+fu.pathname)}},{key:"resetBaseElement",value:function(){gu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Ba(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}},{key:"attrToPropMap",get:function(){return du}}],[{key:"makeCurrent",value:function(){var t;t=new e,cu||(cu=t)}}]),e}(function(t){function e(){var t;_classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=t.getStyle(n,r[i]+"AnimationName")){t._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])}))}catch(s){t._animationPrefix=null,t._transitionEnd=null}return t}return _inherits(e,t),_createClass(e,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),e}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}())),gu=null;function _u(){return!!window.history.pushState}var bu=new Et("TRANSITION_ID"),wu=[{provide:bi,useFactory:function(t,e,n){return function(){n.get(wi).donePromise.then((function(){var n=hu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[bu,ou,Ee],multi:!0}],ku=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Ct.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ct.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Ct.getAllAngularRootElements=function(){return t.getAllRootElements()},Ct.frameworkStabilizers||(Ct.frameworkStabilizers=[]),Ct.frameworkStabilizers.push((function(t){var e=Ct.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?hu().isShadowRoot(e)?this.findTestabilityInTree(t,hu().getHost(e),!0):this.findTestabilityInTree(t,hu().parentElement(e),!0):null}}],[{key:"init",value:function(){var e;e=new t,no=e}}]),t}();function Cu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Ct.ng=Ct.ng||{})[t]=e)}var Eu={ApplicationRef:co,NgZone:Wi};function Su(t){return ko(t)}var Tu=new Et("EventManagerPlugins"),Iu=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}(),Au=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=hu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),xu=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),Nu=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return _inherits(e,t),_createClass(e,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return hu().remove(t)}))}}]),e}(xu),Du={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ou=/%COMP%/g;function Pu(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Pu(t,i,n):(i=i.replace(Ou,t),n.push(i))}return n}function Ru(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Mu=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Lu(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Vt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ju(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Vt.Native:case Vt.ShadowDom:return new Uu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Pu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),Lu=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(Du[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=Du[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=Du[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&tn.DashCase?t.style.setProperty(e,n,r&tn.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&tn.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){Vu(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return Vu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ru(n)):this.eventManager.addEventListener(t,e,Ru(n))}}]),t}(),Fu="@".charCodeAt(0);function Vu(t,e){if(t.charCodeAt(0)===Fu)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var ju=function(t){function e(t,n,r,i){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).component=r;var s,a=Pu(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr="_ngcontent-%COMP%".replace(Ou,i+"-"+r.id),o.hostAttr=(s=i+"-"+r.id,"_nghost-%COMP%".replace(Ou,s)),o}return _inherits(e,t),_createClass(e,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,n){var r=_get(_getPrototypeOf(e.prototype),"createElement",this).call(this,t,n);return _get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),e}(Lu),Uu=function(t){function e(t,n,r,i){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===Vt.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Pu(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return _inherits(e,t),_createClass(e,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"insertBefore",value:function(t,n,r){return _get(_getPrototypeOf(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),n,r)}},{key:"removeChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),e}(Lu),qu="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},zu=qu("addEventListener"),Bu=qu("removeEventListener"),Hu={},Gu="__zone_symbol__propagationStopped",Wu=function(){var t="undefined"!=typeof Zone&&Zone[qu("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),Ku=function(t){return!!Wu&&Wu.hasOwnProperty(t)},Qu=function(t){var e=Hu[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var o=n.slice(),s=0;s<o.length&&!0!==t[Gu];s++){var a=o[s];a.zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Yu=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).ngZone=n,r&&su(r)||i.patchEvent(),i}return _inherits(e,t),_createClass(e,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Gu]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this,i=n;if(!t[zu]||Wi.isInAngularZone()&&!Ku(e))t.addEventListener(e,i,!1);else{var o=Hu[e];o||(o=Hu[e]=qu("ANGULAR"+e+"FALSE"));var s=t[o],a=s&&s.length>0;s||(s=t[o]=[]);var u=Ku(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:i});else{for(var l=!1,c=0;c<s.length;c++)if(s[c].handler===i){l=!0;break}l||s.push({zone:u,handler:i})}a||t[zu](e,Qu,!1)}return function(){return r.removeEventListener(t,e,i)}}},{key:"removeEventListener",value:function(t,e,n){var r=t[Bu];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Hu[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,Qu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),e}(Au),Ju={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},$u=new Et("HammerGestureConfig"),Xu=new Et("HammerLoader"),Zu=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}(),tl=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._config=n,o.console=r,o.loader=i,o}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return!(!Ju.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=r.addEventListener(t,e,n))})).catch((function(){r.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),s=function(){}})),function(){s()}}return i.runOutsideAngular((function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded((function(){n(t)}))};return o.on(e,s),function(){o.off(e,s),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),e}(Au),el=["alt","control","meta","shift"],nl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},rl=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return null!=e.parseEventName(t)}},{key:"addEventListener",value:function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return hu().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(el.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=i,0!=n.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=hu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),el.forEach((function(r){r!=n&&(0,nl[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded((function(){return n(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),e}(Au),il=function t(){_classCallCheck(this,t)},ol=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n}return _inherits(e,t),_createClass(e,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case pe.NONE:return e;case pe.HTML:return e instanceof al?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{Zt=Zt||new Kt(t);var r=e?String(e):"";n=Zt.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Zt.getInertBodyElement(r)}while(r!==o);var s=new le,a=s.sanitizeChildren(de(n)||n);return Wt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=de(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(e)));case pe.STYLE:return e instanceof ul?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(me);return e&&Jt(e[1])===e[1]||t.match(ye)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Wt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e));case pe.SCRIPT:if(e instanceof ll)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case pe.URL:return e instanceof hl||e instanceof cl?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Jt(String(e)));case pe.RESOURCE_URL:if(e instanceof hl)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof sl)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(t){return new al(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new ul(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new ll(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new cl(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new hl(t)}}]),e}(il),sl=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),al=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"HTML"}}]),e}(sl),ul=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Style"}}]),e}(sl),ll=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Script"}}]),e}(sl),cl=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"URL"}}]),e}(sl),hl=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),e}(sl),fl=oo(Eo,"browser",[{provide:Ti,useValue:"browser"},{provide:Si,useValue:function(){mu.makeCurrent(),ku.init()},multi:!0},{provide:ia,useClass:function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._init(),n}return _inherits(e,t),_createClass(e,[{key:"_init",value:function(){this.location=hu().getLocation(),this._history=hu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return hu().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){hu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){hu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){_u()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){_u()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),e}(ia),deps:[ou]},{provide:ou,useFactory:function(){return document},deps:[]}]);function dl(){return new Bt}var pl=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:ki,useValue:e.appId},{provide:bu,useExisting:ki},wu]}}}]),t}();function vl(t,e){return new k((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=B(t[a]),l=!1;n.add(u.subscribe({next:function(t){l||(l=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&l||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}"undefined"!=typeof window&&window;var yl=new Et("NgValueAccessor"),ml=new Et("CompositionEventMode"),gl=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=hu()?hu().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}(),_l=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}(),bl=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(_l);function wl(){throw new Error("unimplemented")}var kl=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _inherits(e,t),_createClass(e,[{key:"validator",get:function(){return wl()}},{key:"asyncValidator",get:function(){return wl()}}]),e}(_l),Cl=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),El=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(Cl),Sl=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(Cl);function Tl(t){return null==t||0===t.length}var Il=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Al=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Tl(e.value)||Tl(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Tl(e.value)||Tl(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Tl(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Tl(t.value)?null:Il.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Tl(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Tl(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(xl);return 0==e.length?null:function(t){return Dl(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(xl);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(u(r))return vl(r,null);if(l(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return vl(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return vl(e=1===e.length&&u(e[0])?e[0]:e,null).pipe(j((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return vl(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Nl)).pipe(j(Dl))}}}]),t}();function xl(t){return null!=t}function Nl(t){var e=Ue(t)?B(t):t;if(!qe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Dl(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function Ol(t){return t.validate?function(e){return t.validate(e)}:t}function Pl(t){return t.validate?function(e){return t.validate(e)}:t}var Rl=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}(),Ml='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Ll='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Fl='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Vl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Ml))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Ll,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Fl))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(Ml))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Ll))}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}();function jl(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var Ul=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(jl(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}();function ql(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var zl=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(ql(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(ql(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}();function Bl(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Hl(t,e){t||Ql(e,"Cannot find control with"),e.valueAccessor||Ql(e,"No value accessor for form control with"),t.validator=Al.compose([t.validator,e.validator]),t.asyncValidator=Al.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Gl(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Gl(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Gl(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Wl(t,e){null==t&&Ql(e,"Cannot find control with"),t.validator=Al.compose([t.validator,e.validator]),t.asyncValidator=Al.composeAsync([t.asyncValidator,e.asyncValidator])}function Kl(t){return Ql(t,"There is no FormControl instance attached to form control element with")}function Ql(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Yl(t){return null!=t?Al.compose(t.map(Ol)):null}function Jl(t){return null!=t?Al.composeAsync(t.map(Pl)):null}function $l(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Me(e,n.currentValue)}var Xl=[function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Me}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=jl(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Me}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=e._getOptionValue(c.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(kl),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()];function Zl(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function tc(t,e){if(!e)return null;Array.isArray(e)||Ql(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===gl?n=e:(o=e,Xl.some((function(t){return o.constructor===t}))?(r&&Ql(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Ql(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Ql(t,"No valid value accessor for form control with"),null)}function ec(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function nc(t){var e=ic(t)?t.validators:t;return Array.isArray(e)?Yl(e):e||null}function rc(t,e){var n=ic(e)?e.asyncValidators:t;return Array.isArray(n)?Jl(n):n||null}function ic(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var oc=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=nc(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=rc(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Nl(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof ac?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof uc&&t.at(e)||null}),t))}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new mi,this.statusChanges=new mi}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){ic(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),sc=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,nc(r),rc(i,r))))._onChange=[],t._applyFormState(n),t._setUpdateStrategy(r),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _inherits(e,t),_createClass(e,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),e}(oc),ac=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,nc(n),rc(r,n)))).controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(e,t),_createClass(e,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof sc?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),e}(oc),uc=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,nc(n),rc(r,n)))).controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(e,t),_createClass(e,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof sc?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.controls[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){if(r.value.enabled)return!1}}catch(o){e=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),e}(oc),lc=Promise.resolve(null),cc=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).submitted=!1,r._directives=[],r.ngSubmit=new mi,r.form=new ac({},Yl(t),Jl(n)),r}return _inherits(e,t),_createClass(e,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;lc.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Hl(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;lc.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),ec(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;lc.then((function(){var n=e._findContainer(t.path),r=new ac({});Wl(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;lc.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;lc.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Zl(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),e}(bl),hc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Ml,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Ll,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Fl))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Ll,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Fl))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),t}(),fc=new Et("NgFormSelectorWarning"),dc=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Bl(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Yl(this._validators)}},{key:"asyncValidator",get:function(){return Jl(this._asyncValidators)}}]),e}(bl),pc=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,i._validators=n,i._asyncValidators=r,i}return _inherits(e,t),_createClass(e,[{key:"_checkParentType",value:function(){this._parent instanceof e||this._parent instanceof cc||hc.modelGroupParentException()}}]),e}(dc),vc=Promise.resolve(null),yc=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).control=new sc,o._registered=!1,o.update=new mi,o._parent=t,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=tc(_assertThisInitialized(o),i),o}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),$l(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Hl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof pc)&&this._parent instanceof dc?hc.formGroupNameException():this._parent instanceof pc||this._parent instanceof cc||hc.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||hc.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;vc.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;vc.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?Bl(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Yl(this._rawValidators)}},{key:"asyncValidator",get:function(){return Jl(this._rawAsyncValidators)}}]),e}(kl),mc=function t(){_classCallCheck(this,t)},gc=new Et("NgModelWithFormControlWarning"),_c=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._validators=t,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new mi,r}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Hl(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){ec(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Wl(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Wl(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Zl(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Kl(e)})),e.valueAccessor.registerOnTouched((function(){return Kl(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Hl(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Yl(this._validators);this.form.validator=Al.compose([this.form.validator,t]);var e=Jl(this._asyncValidators);this.form.asyncValidator=Al.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||Vl.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),e}(bl),bc=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,i._validators=n,i._asyncValidators=r,i}return _inherits(e,t),_createClass(e,[{key:"_checkParentType",value:function(){kc(this._parent)&&Vl.groupParentException()}}]),e}(dc),wc=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,i._validators=n,i._asyncValidators=r,i}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){kc(this._parent)&&Vl.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Bl(this.name,this._parent)}},{key:"validator",get:function(){return Yl(this._validators)}},{key:"asyncValidator",get:function(){return Jl(this._asyncValidators)}}]),e}(bl);function kc(t){return!(t instanceof bc||t instanceof _c||t instanceof wc)}var Cc,Ec=((Cc=function(t){function e(t,n,r,i,o){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._ngModelWarningConfig=o,s._added=!1,s.update=new mi,s._ngModelWarningSent=!1,s._parent=t,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=tc(_assertThisInitialized(s),i),s}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){var n,r;this._added||this._setUpControl(),$l(t,this.viewModel)&&(n=e,r=this._ngModelWarningConfig,Wt()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Vl.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){!(this._parent instanceof bc)&&this._parent instanceof dc?Vl.ngModelGroupException():this._parent instanceof bc||this._parent instanceof _c||this._parent instanceof wc||Vl.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){Vl.disabledAttrWarning()}},{key:"path",get:function(){return Bl(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Yl(this._rawValidators)}},{key:"asyncValidator",get:function(){return Jl(this._rawAsyncValidators)}}]),e}(kl))._ngModelWarningSentOnce=!1,Cc),Sc=function t(){_classCallCheck(this,t)},Tc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ac(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new sc(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new uc(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof sc||t instanceof ac||t instanceof uc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}(),Ic=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:fc,useValue:e.warnOnDeprecatedNgFormSelector}]}}}]),t}(),Ac=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:gc,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}(),xc=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._value=t,n}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){var n=_get(_getPrototypeOf(e.prototype),"_subscribe",this).call(this,t);return n&&!n.closed&&t.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),e}(A),Nc={};function Dc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return N(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),Y(e,i).lift(new Oc(r))}var Oc=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Pc(t,this.resultSelector))}}]),t}(),Pc=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.values.push(Nc),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(F(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,s=this.toRespond?o[n]===Nc?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(V),Rc=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,r.work=n,r.pending=!1,r}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),e}(function(t){function e(t,n){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),e}(f)),Mc=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Lc=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mc.now;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,(function(){return e.delegate&&e.delegate!==_assertThisInitialized(n)?e.delegate.now():r()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,r):_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),e}(Mc),Fc=new Lc(Rc);function Vc(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Vc(t,e,n).pipe(j((function(t){return u(t)?i.apply(void 0,_toConsumableArray(t)):i(t)}))):new k((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),s=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var jc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Uc(t))}}]),t}(),Uc=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=F(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)}}]),e}(V);function qc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return N(r)?(e.pop(),z(e,r)):Y(e)}function zc(){return Q(1)}function Bc(){return zc()(qc.apply(void 0,arguments))}function Hc(t,e){return"function"==typeof e?function(n){return n.pipe(Hc((function(n,r){return B(t(n,r)).pipe(j((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Gc(t))}}var Gc=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Wc(t,this.project))}}]),t}(),Wc=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new D(this,e,n),o=this.destination;o.add(i),this.innerSubscription=F(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),e}(V);function Kc(t){return function(e){return e.lift(new Qc(t))}}var Qc=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Yc(t),r=F(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Yc=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).seenValue=!1,n}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),e}(V);function Jc(t,e){return function(n){return n.lift(new $c(t,e))}}var $c=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xc(t,this.predicate,this.thisArg))}}]),t}(),Xc=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,i.thisArg=r,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),e}(v),Zc=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),th=new k((function(t){return t.complete()}));function eh(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):th}function nh(t){return function(e){return 0===t?eh():e.lift(new rh(t))}}var rh=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Zc}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ih(t,this.total))}}]),t}(),ih=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),e}(v);function oh(t,e,n){return function(r){return r.lift(new sh(t,e,n))}}var sh=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ah(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),ah=function(t){function e(t,n,i,o){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._tapNext=g,s._tapError=g,s._tapComplete=g,s._tapError=i||g,s._tapComplete=o||g,r(n)?(s._context=_assertThisInitialized(s),s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||g,s._tapError=n.error||g,s._tapComplete=n.complete||g),s}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),e}(v);function uh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new lh(e,n))}}var lh=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ch(t,this.observables,this.project))}}]),t}(),ch=function(t){function e(t,n,r){var i;_classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(var a=0;a<o;a++){var u=n[a];i.add(F(_assertThisInitialized(i),u,u,a))}return i}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(V);function hh(t,e){return new k(e?function(n){return e.schedule(fh,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function fh(t){var e=t.error;t.subscriber.error(e)}var dh,ph=((dh=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return qc(this.value);case"E":return hh(this.error);case"C":return eh()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new dh("C"),dh.undefinedValueNotification=new dh("N",void 0),dh);function vh(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fc,r=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new yh(r,n))}}var yh=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new mh(t,this.delay,this.scheduler))}}]),t}(),mh=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return _inherits(e,t),_createClass(e,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new gh(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(ph.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(ph.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),e}(v),gh=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n};function _h(t){return parseInt("".concat(t),10)}function bh(t){return null!=t?"".concat(t):""}function wh(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function kh(t){return null!=t}function Ch(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Eh,Sh=function t(){_classCallCheck(this,t)},Th=((Eh=function t(){_classCallCheck(this,t),this.dismissible=!0,this.type="warning"}).ngInjectableDef=ft({factory:function(){return new Eh},token:Eh,providedIn:"root"}),Eh),Ih=function(){function t(e,n,r){_classCallCheck(this,t),this._renderer=n,this._element=r,this.close=new mi,this.dismissible=e.dismissible,this.type=e.type}return _createClass(t,[{key:"closeHandler",value:function(){this.close.emit(null)}},{key:"ngOnChanges",value:function(t){var e=t.type;e&&!e.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-".concat(e.previousValue)),this._renderer.addClass(this._element.nativeElement,"alert-".concat(e.currentValue)))}},{key:"ngOnInit",value:function(){this._renderer.addClass(this._element.nativeElement,"alert-".concat(this.type))}}]),t}(),Ah=function t(){_classCallCheck(this,t)},xh=function t(){_classCallCheck(this,t)},Nh=function t(){_classCallCheck(this,t)},Dh=function t(){_classCallCheck(this,t),this.collapsed=!1},Oh=function t(){_classCallCheck(this,t)},Ph=function(){function t(e,n,r){_classCallCheck(this,t),this.year=wh(e)?e:null,this.month=wh(n)?n:null,this.day=wh(r)?r:null}return _createClass(t,null,[{key:"from",value:function(e){return e instanceof t?e:e?new t(e.year,e.month,e.day):null}}]),_createClass(t,[{key:"equals",value:function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day}},{key:"before",value:function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}},{key:"after",value:function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}]),t}();function Rh(t){return new Ph(t.getFullYear(),t.getMonth()+1,t.getDate())}function Mh(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function Lh(){return new jh}var Fh,Vh=((Fh=function t(){_classCallCheck(this,t)}).ngInjectableDef=ft({factory:Lh,token:Fh,providedIn:"root"}),Fh),jh=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getDaysPerWeek",value:function(){return 7}},{key:"getMonths",value:function(){return[1,2,3,4,5,6,7,8,9,10,11,12]}},{key:"getWeeksPerMonth",value:function(){return 6}},{key:"getNext",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Mh(t),i=!0,o=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":o+=n,r.setMonth(o),(o%=12)<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==o&&r.setDate(0),Rh(r)}},{key:"getPrev",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.getNext(t,e,-n)}},{key:"getWeekday",value:function(t){var e=Mh(t).getDay();return 0===e?7:e}},{key:"getWeekNumber",value:function(t,e){7===e&&(e=0);var n=Mh(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}},{key:"getToday",value:function(){return Rh(new Date)}},{key:"isValid",value:function(t){if(!(t&&wh(t.year)&&wh(t.month)&&wh(t.day)))return!1;if(0===t.year)return!1;var e=Mh(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}}]),e}(Vh);function Uh(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function qh(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function zh(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t}function Bh(t,e){var n=e.minDate,r=e.maxDate,i=e.disabled,o=e.markDisabled;return!(!kh(t)||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}var Hh,Gh,Wh=((Hh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getDayNumerals",value:function(t){return"".concat(t.day)}},{key:"getWeekNumerals",value:function(t){return"".concat(t)}},{key:"getYearNumerals",value:function(t){return"".concat(t)}}]),t}()).ngInjectableDef=ft({factory:function(){return t=Dt(xi),new Kh(t);var t},token:Hh,providedIn:"root"}),Hh),Kh=function(t){function e(t){var n;_classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._locale=t;var r=ma(t,da.Standalone,pa.Short);return n._weekdaysShort=r.map((function(t,e){return r[(e+1)%7]})),n._monthsShort=ga(t,da.Standalone,pa.Abbreviated),n._monthsFull=ga(t,da.Standalone,pa.Wide),n}return _inherits(e,t),_createClass(e,[{key:"getWeekdayShortName",value:function(t){return this._weekdaysShort[t-1]}},{key:"getMonthShortName",value:function(t){return this._monthsShort[t-1]}},{key:"getMonthFullName",value:function(t){return this._monthsFull[t-1]}},{key:"getDayAriaLabel",value:function(t){return function(t,e,n,r){var i=function(t){if(ja(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var r=_slicedToArray(t.split("-").map((function(t){return+t})),3),i=r[0],o=r[1],s=r[2];return new Date(i,o-1,s)}if(e=t.match(Ta))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,l),e}(e)}var a=new Date(t);if(!ja(a))throw new Error('Unable to convert "'.concat(t,'" into a date'));return a}(t);e=function t(e,n){var r=function(t){return yi(t)[di.LocaleId]}(e);if(Ia[r]=Ia[r]||{},Ia[r][n])return Ia[r][n];var i="";switch(n){case"shortDate":i=_a(e,va.Short);break;case"mediumDate":i=_a(e,va.Medium);break;case"longDate":i=_a(e,va.Long);break;case"fullDate":i=_a(e,va.Full);break;case"shortTime":i=ba(e,va.Short);break;case"mediumTime":i=ba(e,va.Medium);break;case"longTime":i=ba(e,va.Long);break;case"fullTime":i=ba(e,va.Full);break;case"short":var o=t(e,"shortTime"),s=t(e,"shortDate");i=Oa(wa(e,va.Short),[o,s]);break;case"medium":var a=t(e,"mediumTime"),u=t(e,"mediumDate");i=Oa(wa(e,va.Medium),[a,u]);break;case"long":var l=t(e,"longTime"),c=t(e,"longDate");i=Oa(wa(e,va.Long),[l,c]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=Oa(wa(e,va.Full),[h,f])}return i&&(Ia[r][n]=i),i}(n,e)||e;for(var o,s=[];e;){if(!(o=Aa.exec(e))){s.push(e);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;e=a}var u=i.getTimezoneOffset(),l="";return s.forEach((function(t){var e=function(t){if(Va[t])return Va[t];var e;switch(t){case"G":case"GG":case"GGG":e=Ma(Da.Eras,pa.Abbreviated);break;case"GGGG":e=Ma(Da.Eras,pa.Wide);break;case"GGGGG":e=Ma(Da.Eras,pa.Narrow);break;case"y":e=Ra(Na.FullYear,1,0,!1,!0);break;case"yy":e=Ra(Na.FullYear,2,0,!0,!0);break;case"yyy":e=Ra(Na.FullYear,3,0,!1,!0);break;case"yyyy":e=Ra(Na.FullYear,4,0,!1,!0);break;case"M":case"L":e=Ra(Na.Month,1,1);break;case"MM":case"LL":e=Ra(Na.Month,2,1);break;case"MMM":e=Ma(Da.Months,pa.Abbreviated);break;case"MMMM":e=Ma(Da.Months,pa.Wide);break;case"MMMMM":e=Ma(Da.Months,pa.Narrow);break;case"LLL":e=Ma(Da.Months,pa.Abbreviated,da.Standalone);break;case"LLLL":e=Ma(Da.Months,pa.Wide,da.Standalone);break;case"LLLLL":e=Ma(Da.Months,pa.Narrow,da.Standalone);break;case"w":e=Fa(1);break;case"ww":e=Fa(2);break;case"W":e=Fa(1,!0);break;case"d":e=Ra(Na.Date,1);break;case"dd":e=Ra(Na.Date,2);break;case"E":case"EE":case"EEE":e=Ma(Da.Days,pa.Abbreviated);break;case"EEEE":e=Ma(Da.Days,pa.Wide);break;case"EEEEE":e=Ma(Da.Days,pa.Narrow);break;case"EEEEEE":e=Ma(Da.Days,pa.Short);break;case"a":case"aa":case"aaa":e=Ma(Da.DayPeriods,pa.Abbreviated);break;case"aaaa":e=Ma(Da.DayPeriods,pa.Wide);break;case"aaaaa":e=Ma(Da.DayPeriods,pa.Narrow);break;case"b":case"bb":case"bbb":e=Ma(Da.DayPeriods,pa.Abbreviated,da.Standalone,!0);break;case"bbbb":e=Ma(Da.DayPeriods,pa.Wide,da.Standalone,!0);break;case"bbbbb":e=Ma(Da.DayPeriods,pa.Narrow,da.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ma(Da.DayPeriods,pa.Abbreviated,da.Format,!0);break;case"BBBB":e=Ma(Da.DayPeriods,pa.Wide,da.Format,!0);break;case"BBBBB":e=Ma(Da.DayPeriods,pa.Narrow,da.Format,!0);break;case"h":e=Ra(Na.Hours,1,-12);break;case"hh":e=Ra(Na.Hours,2,-12);break;case"H":e=Ra(Na.Hours,1);break;case"HH":e=Ra(Na.Hours,2);break;case"m":e=Ra(Na.Minutes,1);break;case"mm":e=Ra(Na.Minutes,2);break;case"s":e=Ra(Na.Seconds,1);break;case"ss":e=Ra(Na.Seconds,2);break;case"S":e=Ra(Na.FractionalSeconds,1);break;case"SS":e=Ra(Na.FractionalSeconds,2);break;case"SSS":e=Ra(Na.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=La(xa.Short);break;case"ZZZZZ":e=La(xa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=La(xa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=La(xa.Long);break;default:return null}return Va[t]=e,e}(t);l+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}]),e}(Wh),Qh=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._calendar=e,this._i18n=n,this._VALIDATORS={dayTemplateData:function(t){if(r._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:function(t){if(wh(t=_h(t))&&t>0&&r._state.displayMonths!==t)return{displayMonths:t}},disabled:function(t){if(r._state.disabled!==t)return{disabled:t}},firstDayOfWeek:function(t){if(wh(t=_h(t))&&t>=0&&r._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:function(t){if(r._state.focusVisible!==t&&!r._state.disabled)return{focusVisible:t}},markDisabled:function(t){if(r._state.markDisabled!==t)return{markDisabled:t}},maxDate:function(t){var e=r.toValidDate(t,null);if(Uh(r._state.maxDate,e))return{maxDate:e}},minDate:function(t){var e=r.toValidDate(t,null);if(Uh(r._state.minDate,e))return{minDate:e}},navigation:function(t){if(r._state.navigation!==t)return{navigation:t}},outsideDays:function(t){if(r._state.outsideDays!==t)return{outsideDays:t}}},this._model$=new A,this._dateSelect$=new A,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return _createClass(t,[{key:"set",value:function(t){var e=this,n=Object.keys(t).map((function(n){return e._VALIDATORS[n](t[n])})).reduce((function(t,e){return Object.assign({},t,e)}),{});Object.keys(n).length>0&&this._nextState(n)}},{key:"focus",value:function(t){!this._state.disabled&&this._calendar.isValid(t)&&Uh(this._state.focusDate,t)&&this._nextState({focusDate:t})}},{key:"focusSelect",value:function(){Bh(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}},{key:"open",value:function(t){var e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!qh(this._state.firstDate,t)||this._nextState({firstDate:e})}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toValidDate(t,null);this._state.disabled||(Uh(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&Bh(n,this._state)&&this._dateSelect$.next(n))}},{key:"toValidDate",value:function(t,e){var n=Ph.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}},{key:"getMonth",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this._state.months[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;if(t.month===s.number&&t.year===s.year)return s}}catch(a){n=!0,r=a}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}throw new Error("month ".concat(t.month," of year ").concat(t.year," not found"))}},{key:"_nextState",value:function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}},{key:"_patchContexts",value:function(t){var e=t.months,n=t.displayMonths,r=t.selectedDate,i=t.focusDate,o=t.focusVisible,s=t.disabled,a=t.outsideDays;t.months.forEach((function(t){t.weeks.forEach((function(u){u.days.forEach((function(u){i&&(u.context.focused=i.equals(u.date)&&o),u.tabindex=!s&&u.date.equals(i)&&i.month===t.number?0:-1,!0===s&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===a||"collapsed"===a||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))}))}))}))}},{key:"_updateState",value:function(t){var e,n,r,i,o=Object.assign({},this._state,t),s=o.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' ".concat(e," should be greater than 'minDate' ").concat(t))}(o.minDate,o.maxDate),o.focusDate=zh(o.focusDate,o.minDate,o.maxDate),o.firstDate=zh(o.firstDate,o.minDate,o.maxDate),s=o.focusDate),"disabled"in t&&(o.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(s=o.selectedDate),"focusVisible"in t)return o;if("focusDate"in t&&(o.focusDate=zh(o.focusDate,o.minDate,o.maxDate),s=o.focusDate,0!==o.months.length&&!o.focusDate.before(o.firstDate)&&!o.focusDate.after(o.lastDate)))return o;if("firstDate"in t&&(o.firstDate=zh(o.firstDate,o.minDate,o.maxDate),s=o.firstDate),s){var a=function(t,e,n,r,i){var o=n.displayMonths,s=n.months,a=s.splice(0,s.length);return Array.from({length:o},(function(n,r){var o=Object.assign(t.getNext(e,"m",r),{day:1});if(s[r]=null,!i){var u=a.findIndex((function(t){return t.firstDate.equals(o)}));-1!==u&&(s[r]=a.splice(u,1)[0])}return o})).forEach((function(e,i){null===s[i]&&(s[i]=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=n.dayTemplateData,s=n.minDate,a=n.maxDate,u=n.firstDayOfWeek,l=n.markDisabled,c=n.outsideDays,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){var r=t.getDaysPerWeek(),i=new Ph(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}(t,e,u);for(var f=0;f<t.getWeeksPerMonth();f++){var d=i.weeks[f];d||(d=i.weeks[f]={number:0,days:[],collapsed:!0});for(var p=d.days,v=0;v<t.getDaysPerWeek();v++){0===f&&(i.weekdays[v]=t.getWeekday(e));var y=new Ph(e.year,e.month,e.day),m=t.getNext(y),g=r.getDayAriaLabel(y),_=!!(s&&y.before(s)||a&&y.after(a));!_&&l&&(_=l(y,{month:i.number,year:i.year}));var b=y.equals(h),w=o?o(y,{month:i.number,year:i.year}):void 0;null===i.firstDate&&y.month===i.number&&(i.firstDate=y),y.month===i.number&&m.month!==i.number&&(i.lastDate=y);var k=p[v];k||(k=p[v]={}),k.date=y,k.context=Object.assign(k.context||{},{$implicit:y,date:y,data:w,currentMonth:i.number,currentYear:i.year,disabled:_,focused:!1,selected:!1,today:b}),k.tabindex=-1,k.ariaLabel=g,k.hidden=!1,e=m}d.number=t.getWeekNumber(p.map((function(t){return t.date})),u),d.collapsed="collapsed"===c&&p[0].date.month!==i.number&&p[p.length-1].date.month!==i.number}return i}(t,e,n,r,a.shift()||{}))})),s}(this._calendar,s,o,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);o.months=a,o.firstDate=a.length>0?a[0].firstDate:void 0,o.lastDate=a.length>0?a[a.length-1].lastDate:void 0,"selectedDate"in t&&!Bh(o.selectedDate,o)&&(o.selectedDate=null),"firstDate"in t&&(void 0===o.focusDate||o.focusDate.before(o.firstDate)||o.focusDate.after(o.lastDate))&&(o.focusDate=s);var u=!this._state.firstDate||this._state.firstDate.year!==o.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==o.firstDate.month;"select"===o.navigation?(("minDate"in t||"maxDate"in t||0===o.selectBoxes.years.length||u)&&(o.selectBoxes.years=function(t,e,n){if(!t)return[];for(var r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,o=Array(i),s=0;s<i;s++)o[s]=r+s;return o}(o.firstDate,o.minDate,o.maxDate)),("minDate"in t||"maxDate"in t||0===o.selectBoxes.months.length||u)&&(o.selectBoxes.months=function(t,e,n,r){if(!e)return[];var i=t.getMonths(e.year);if(n&&e.year===n.year){var o=i.findIndex((function(t){return t===n.month}));i=i.slice(o)}if(r&&e.year===r.year){var s=i.findIndex((function(t){return t===r.month}));i=i.slice(0,s+1)}return i}(this._calendar,o.firstDate,o.minDate,o.maxDate))):o.selectBoxes={years:[],months:[]},"arrows"!==o.navigation&&"select"!==o.navigation||!(l||u||"minDate"in t||"maxDate"in t||"disabled"in t)||(o.prevDisabled=o.disabled||(e=this._calendar,n=o.firstDate,r=o.minDate,i=Object.assign(e.getPrev(n,"m"),{day:1}),r&&(i.year===r.year&&i.month<r.month||i.year<r.year&&1===r.month)),o.nextDisabled=o.disabled||function(t,e,n){var r=Object.assign(t.getNext(e,"m"),{day:1});return n&&r.after(n)}(this._calendar,o.lastDate,o.maxDate))}return o}},{key:"model$",get:function(){return this._model$.pipe(Jc((function(t){return t.months.length>0})))}},{key:"dateSelect$",get:function(){return this._dateSelect$.pipe(Jc((function(t){return null!==t})))}}]),t}(),Yh=function(){var t={PREV:0,NEXT:1};return t[t.PREV]="PREV",t[t.NEXT]="NEXT",t}(),Jh=((Gh=function t(){_classCallCheck(this,t),this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}).ngInjectableDef=ft({factory:function(){return new Gh},token:Gh,providedIn:"root"}),Gh);function $h(){return new ef}var Xh,Zh,tf=((Xh=function t(){_classCallCheck(this,t)}).ngInjectableDef=ft({factory:$h,token:Xh,providedIn:"root"}),Xh),ef=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"fromModel",value:function(t){return t&&wh(t.year)&&wh(t.month)&&wh(t.day)?{year:t.year,month:t.month,day:t.day}:null}},{key:"toModel",value:function(t){return t&&wh(t.year)&&wh(t.month)&&wh(t.day)?{year:t.year,month:t.month,day:t.day}:null}}]),e}(tf),nf=function(){function t(e,n,r,i,o,s,a,u){var l=this;_classCallCheck(this,t),this._service=e,this._calendar=n,this.i18n=r,this._elementRef=s,this._ngbDateAdapter=a,this._ngZone=u,this._destroyed$=new A,this._publicState={},this.navigate=new mi,this.dateSelect=new mi,this.select=this.dateSelect,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach((function(t){return l[t]=i[t]})),e.dateSelect$.pipe(Kc(this._destroyed$)).subscribe((function(t){l.dateSelect.emit(t)})),e.model$.pipe(Kc(this._destroyed$)).subscribe((function(t){var e=t.firstDate,n=l.model?l.model.firstDate:null;l._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map((function(t){return t.firstDate}))};var r=!1;if(e.equals(n)||(l.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:function(){return r=!0}}),!r||null===n)){var i=t.selectedDate,s=t.focusDate,a=l.model?l.model.focusDate:null;l.model=t,Uh(i,l._controlValue)&&(l._controlValue=i,l.onTouched(),l.onChange(l._ngbDateAdapter.toModel(i))),Uh(s,a)&&a&&t.focusVisible&&l.focus(),o.markForCheck()}else l._service.open(n)}))}return _createClass(t,[{key:"focusDate",value:function(t){this._service.focus(Ph.from(t))}},{key:"focusSelect",value:function(){this._service.focusSelect()}},{key:"focus",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(nh(1)).subscribe((function(){var e=t._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()}))}},{key:"navigateTo",value:function(t){this._service.open(Ph.from(t?t.day?t:Object.assign({},t,{day:1}):null))}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=Vc(t._contentEl.nativeElement,"focusin"),n=Vc(t._contentEl.nativeElement,"focusout"),r=t._elementRef.nativeElement;J(e,n).pipe(Jc((function(t){var e=t.target,n=t.relatedTarget;return!(Ch(e,"ngb-dp-day")&&Ch(n,"ngb-dp-day")&&r.contains(e)&&r.contains(n))})),Kc(t._destroyed$)).subscribe((function(e){var n=e.type;return t._ngZone.run((function(){return t._service.set({focusVisible:"focusin"===n})}))}))}))}},{key:"ngOnDestroy",value:function(){this._destroyed$.next()}},{key:"ngOnInit",value:function(){var t=this;if(void 0===this.model){var e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach((function(n){return e[n]=t[n]})),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}},{key:"ngOnChanges",value:function(t){var e=this,n={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter((function(e){return e in t})).forEach((function(t){return n[t]=e[t]})),this._service.set(n),"startDate"in t){var r=t.startDate,i=r.currentValue;qh(r.previousValue,i)&&this.navigateTo(this.startDate)}}},{key:"onDateSelect",value:function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}},{key:"onNavigateDateSelect",value:function(t){this._service.open(t)}},{key:"onNavigateEvent",value:function(t){switch(t){case Yh.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Yh.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._service.set({disabled:t})}},{key:"writeValue",value:function(t){this._controlValue=Ph.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}},{key:"state",get:function(){return this._publicState}},{key:"calendar",get:function(){return this._calendar}}]),t}(),rf=function(){var t={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return t[t.Tab]="Tab",t[t.Enter]="Enter",t[t.Escape]="Escape",t[t.Space]="Space",t[t.PageUp]="PageUp",t[t.PageDown]="PageDown",t[t.End]="End",t[t.Home]="Home",t[t.ArrowLeft]="ArrowLeft",t[t.ArrowUp]="ArrowUp",t[t.ArrowRight]="ArrowRight",t[t.ArrowDown]="ArrowDown",t}(),of=((Zh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"processKey",value:function(t,e){var n=e.state,r=e.calendar;switch(t.which){case rf.PageUp:e.focusDate(r.getPrev(n.focusedDate,t.shiftKey?"y":"m",1));break;case rf.PageDown:e.focusDate(r.getNext(n.focusedDate,t.shiftKey?"y":"m",1));break;case rf.End:e.focusDate(t.shiftKey?n.maxDate:n.lastDate);break;case rf.Home:e.focusDate(t.shiftKey?n.minDate:n.firstDate);break;case rf.ArrowLeft:e.focusDate(r.getPrev(n.focusedDate,"d",1));break;case rf.ArrowUp:e.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case rf.ArrowRight:e.focusDate(r.getNext(n.focusedDate,"d",1));break;case rf.ArrowDown:e.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case rf.Enter:case rf.Space:e.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}]),t}()).ngInjectableDef=ft({factory:function(){return new Zh},token:Zh,providedIn:"root"}),Zh),sf=function(){function t(e,n,r,i){_classCallCheck(this,t),this.i18n=e,this.datepicker=n,this._keyboardService=r,this._service=i}return _createClass(t,[{key:"onKeyDown",value:function(t){this._keyboardService.processKey(t,this.datepicker)}},{key:"doSelect",value:function(t){t.context.disabled||t.hidden||this.datepicker.onDateSelect(t.date)}},{key:"month",set:function(t){this.viewModel=this._service.getMonth(t)}}]),t}(),af=function(){function t(e){_classCallCheck(this,t),this.i18n=e,this.navigation=Yh,this.months=[],this.navigate=new mi,this.select=new mi}return _createClass(t,[{key:"onClickPrev",value:function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}},{key:"onClickNext",value:function(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}]),t}(),uf=function(t,e){return!!e&&e.some((function(e){return e.contains(t)}))},lf=function(t,e){return!e||null!=function(t,e){return e?t.closest(e):null}(t,e)},cf="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function hf(t,e,n,r,i,o,s,a){var l;n&&t.runOutsideAngular((l=function(){var l=Vc(e,"keydown").pipe(Kc(i),Jc((function(t){return t.which===rf.Escape})),oh((function(t){return t.preventDefault()}))),c=Vc(e,"mousedown").pipe(j((function(t){var e=t.target;return 2!==t.button&&!uf(e,s)&&("inside"===n?uf(e,o)&&lf(e,a):"outside"===n?!uf(e,o):lf(e,a)||!uf(e,o))})),Kc(i));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!u(e[0]))return e[0];e=e[0]}return Y(e,void 0).lift(new jc)})([l,Vc(e,"mouseup").pipe(uh(c),Jc((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),vh(0),Kc(i))]).subscribe((function(){return t.run(r)}))},cf?function(){return setTimeout((function(){return l()}),100)}:l))}var ff=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function df(t){var e=Array.from(t.querySelectorAll(ff)).filter((function(t){return-1!==t.tabIndex}));return[e[0],e[e.length-1]]}var pf=/\s+/,vf=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,e,n,r){var i=_slicedToArray(n.split("-"),2),o=i[0],s=void 0===o?"top":o,a=i[1],u=void 0===a?"center":a,l=r?this.offset(t,!1):this.position(t,!1),c=this.getAllStyles(e),h=parseFloat(c.marginTop),f=parseFloat(c.marginBottom),d=parseFloat(c.marginLeft),p=parseFloat(c.marginRight),v=0,y=0;switch(s){case"top":v=l.top-(e.offsetHeight+h+f);break;case"bottom":v=l.top+l.height;break;case"left":y=l.left-(e.offsetWidth+d+p);break;case"right":y=l.left+l.width}switch(u){case"top":v=l.top;break;case"bottom":v=l.top+l.height-e.offsetHeight;break;case"left":y=l.left;break;case"right":y=l.left+l.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?y=l.left+l.width/2-e.offsetWidth/2:v=l.top+l.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(y),"px, ").concat(Math.round(v),"px)");var m=e.getBoundingClientRect(),g=document.documentElement,_=window.innerHeight||g.clientHeight,b=window.innerWidth||g.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=_}}]),t}());function yf(t,e,n,r,i){var o=Array.isArray(n)?n:n.split(pf),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,u=function(t){var e=_slicedToArray(t.split("-"),2),n=e[0],r=e[1],o=[];return i&&(o.push("".concat(i,"-").concat(n)),r&&o.push("".concat(i,"-").concat(n,"-").concat(r)),o.forEach((function(t){a.add(t)}))),o};i&&s.forEach((function(t){a.remove("".concat(i,"-").concat(t))}));var l=o.findIndex((function(t){return"auto"===t}));l>=0&&s.forEach((function(t){null==o.find((function(e){return-1!==e.search("^"+t)}))&&o.splice(l++,1,t)}));var c,h=e.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";var f=!1,d=!0,p=!1,v=void 0;try{for(var y,m=o[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var g=u(c=y.value);if(vf.positionElements(t,e,c,r)){f=!0;break}i&&g.forEach((function(t){a.remove(t)}))}}catch(_){p=!0,v=_}finally{try{d||null==m.return||m.return()}finally{if(p)throw v}}return f||(u(c=o[0]),vf.positionElements(t,e,c,r)),c}var mf,gf,_f,bf,wf,kf,Cf=function(){function t(e){_classCallCheck(this,t),this.i18n=e}return _createClass(t,[{key:"isMuted",value:function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}]),t}(),Ef=function(){function t(e,n){_classCallCheck(this,t),this.i18n=e,this._renderer=n,this.select=new mi,this._month=-1,this._year=-1}return _createClass(t,[{key:"changeMonth",value:function(t){this.select.emit(new Ph(this.date.year,_h(t),1))}},{key:"changeYear",value:function(t){this.select.emit(new Ph(_h(t),this.date.month,1))}},{key:"ngAfterViewChecked",value:function(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}]),t}(),Sf=function t(){_classCallCheck(this,t)},Tf=((mf=function t(){_classCallCheck(this,t),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).ngInjectableDef=ft({factory:function(){return new mf},token:mf,providedIn:"root"}),mf),If=function t(){_classCallCheck(this,t)},Af=function t(e){_classCallCheck(this,t),this.dropdown=e,this.placement="bottom",this.isOpen=!1},xf=function(){function t(e,n){_classCallCheck(this,t),this.dropdown=e,this._elementRef=n,this.anchorEl=n.nativeElement}return _createClass(t,[{key:"getNativeElement",value:function(){return this._elementRef.nativeElement}}]),t}(),Nf=function(t){function e(t,n){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))}return _inherits(e,t),e}(xf),Df=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this._changeDetector=e,this._document=r,this._ngZone=i,this._elementRef=o,this._renderer=s,this._closed$=new A,this._open=!1,this.openChange=new mi,this.placement=n.placement,this.container=n.container,this.autoClose=n.autoClose,this.display=a?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe((function(){u._positionMenu()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._ngZone.onStable.pipe(nh(1)).subscribe((function(){t._applyPlacementClasses(),t._open&&t._setCloseHandlers()}))}},{key:"ngOnChanges",value:function(t){t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses()}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers())}},{key:"_setCloseHandlers",value:function(){var t=this,e=this._anchor;hf(this._ngZone,this._document,this.autoClose,(function(){return t.close()}),this._closed$,this._menu?[this._menuElement.nativeElement]:[],e?[e.getNativeElement()]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(t){var e=this,n=t.which,r=this._getMenuElements(),i=-1,o=!1,s=null,a=this._isEventFromToggle(t);if(!a&&r.length&&r.forEach((function(n,r){n.contains(t.target)&&(o=!0,s=n),n===e._document.activeElement&&(i=r)})),n!==rf.Space&&n!==rf.Enter){if(a||o){if(this.open(),r.length){switch(n){case rf.ArrowDown:i=Math.min(i+1,r.length-1);break;case rf.ArrowUp:if(this._isDropup()&&-1===i){i=r.length-1;break}i=Math.max(i-1,0);break;case rf.Home:i=0;break;case rf.End:i=r.length-1}r[i].focus()}t.preventDefault()}}else!o||!0!==this.autoClose&&"inside"!==this.autoClose||Vc(s,"click").pipe(nh(1)).subscribe((function(){return e.close()}))}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(t){return this._anchor.getNativeElement().contains(t.target)}},{key:"_getMenuElements",value:function(){var t=this._menu;return null==t?[]:t.menuItems.filter((function(t){return!t.disabled})).map((function(t){return t.elementRef.nativeElement}))}},{key:"_positionMenu",value:function(){var t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?yf(this._anchor.anchorEl,this._bodyContainer||this._menuElement.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}},{key:"_resetContainer",value:function(){var t=this._renderer,e=this._menuElement;if(e){var n=e.nativeElement;t.appendChild(this._elementRef.nativeElement,n),t.removeStyle(n,"position"),t.removeStyle(n,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===t){var e=this._renderer,n=this._menuElement.nativeElement,r=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(r,"position","absolute"),e.setStyle(n,"position","static"),e.setStyle(r,"z-index","1050"),e.appendChild(r,n),e.appendChild(this._document.body,r)}}},{key:"_applyPlacementClasses",value:function(t){var e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));var n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;var i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);var o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}}]),t}(),Of=function t(){_classCallCheck(this,t)},Pf=((gf=function t(){_classCallCheck(this,t),this.backdrop=!0,this.keyboard=!0}).ngInjectableDef=ft({factory:function(){return new gf},token:gf,providedIn:"root"}),gf),Rf=function t(e,n,r){_classCallCheck(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},Mf=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this._type=e,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=o,this._applicationRef=s}return _createClass(t,[{key:"open",value:function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef}},{key:"close",value:function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}},{key:"_getContentRef",value:function(t,e){if(t){if(t instanceof wn){var n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new Rf([n.rootNodes],n)}return new Rf([[this._renderer.createText("".concat(t))]])}return new Rf([])}}]),t}(),Lf=function(){},Ff=((_f=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Lf}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}()).ngInjectableDef=ft({factory:function(){return new _f(Dt(ou))},token:_f,providedIn:"root"}),_f),Vf=function t(){_classCallCheck(this,t)},jf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),Uf=function(){function t(e,n,r,i){var o=this;_classCallCheck(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,e.instance.dismissEvent.subscribe((function(t){o.dismiss(t)})),this.result=new Promise((function(t,e){o._resolve=t,o._reject=e})),this.result.then(null,(function(){}))}return _createClass(t,[{key:"close",value:function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&e._dismiss(t)}),(function(){})):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),t}(),qf=function(){var t={BACKDROP_CLICK:0,ESC:1};return t[t.BACKDROP_CLICK]="BACKDROP_CLICK",t[t.ESC]="ESC",t}(),zf=function(){function t(e,n,r){_classCallCheck(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new A,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new mi}return _createClass(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var t=this,e=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){Vc(e,"keydown").pipe(Kc(t._closed$),Jc((function(e){return e.which===rf.Escape&&t.keyboard}))).subscribe((function(e){return requestAnimationFrame((function(){e.defaultPrevented||t._zone.run((function(){return t.dismiss(qf.ESC)}))}))}));var n=!1;Vc(t._dialogEl.nativeElement,"mousedown").pipe(Kc(t._closed$),oh((function(){return n=!1})),Hc((function(){return Vc(e,"mouseup").pipe(Kc(t._closed$),nh(1))})),Jc((function(t){var n=t.target;return e===n}))).subscribe((function(){n=!0})),Vc(e,"click").pipe(Kc(t._closed$)).subscribe((function(r){var i=r.target;!0!==t.backdrop||e!==i||n||t._zone.run((function(){return t.dismiss(qf.BACKDROP_CLICK)})),n=!1}))})),!e.contains(document.activeElement)){var n=e.querySelector("[ngbAutofocus]"),r=df(e)[0];(n||r||e).focus()}}},{key:"ngOnDestroy",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return t.focus()})),e._elWithFocus=null})),this._closed$.next()}}]),t}(),Bf=((wf=function(){function t(e,n,r,i,o,s){var a=this;_classCallCheck(this,t),this._applicationRef=e,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new A,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(a._windowCmpts.length){var t=a._windowCmpts[a._windowCmpts.length-1];(function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a._ngZone.runOutsideAngular((function(){var t=Vc(e,"focusin").pipe(Kc(n),j((function(t){return t.target})));Vc(e,"keydown").pipe(Kc(n),Jc((function(t){return t.which===rf.Tab})),uh(t)).subscribe((function(t){var n=_slicedToArray(t,2),r=n[0],i=n[1],o=_slicedToArray(df(e),2),s=o[0],a=o[1];i!==s&&i!==e||!r.shiftKey||(a.focus(),r.preventDefault()),i!==a||r.shiftKey||(s.focus(),r.preventDefault())})),r&&Vc(e,"click").pipe(Kc(n),uh(t),j((function(t){return t[1]}))).subscribe((function(t){return t.focus()}))}))})(0,t.location.nativeElement,a._activeWindowCmptHasChanged),a._revertAriaHidden(),a._setAriaHidden(t.location.nativeElement)}}))}return _createClass(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:kh(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(s.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var l=new jf,c=this._getContentRef(t,r.injector||e,n,l,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):null,f=this._attachWindowComponent(t,o,c),d=new Uf(f,c,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(a,a),d.result.then(u,u),l.close=function(t){d.close(t)},l.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"dismissAll",value:function(t){this._modalRefs.forEach((function(e){return e.dismiss(t)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(Vf).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(zf).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach((function(n){kh(e[n])&&(t[n]=e[n])}))}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach((function(n){kh(e[n])&&(t[n]=e[n])}))}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof wn?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new Rf([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Rf([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new Rf([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),s=Ee.create({providers:[{provide:jf,useValue:r}],parent:e}),a=o.create(s),u=a.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Rf([[u]],a.hostView,a)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&e._modalRefs.splice(n,1)};this._modalRefs.push(t),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy((function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())}))}}]),t}()).ngInjectableDef=ft({factory:function(){return new wf(Dt(co),Dt(St),Dt(ou),Dt(Ff),Dt(Ze),Dt(Wi))},token:wf,providedIn:"root"}),wf),Hf=((bf=function(){function t(e,n,r,i){_classCallCheck(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}()).ngInjectableDef=ft({factory:function(){return new bf(Dt(Ke),Dt(St),Dt(Bf),Dt(Pf))},token:bf,providedIn:"root"}),bf),Gf=function t(){_classCallCheck(this,t)},Wf=function t(){_classCallCheck(this,t)},Kf=function t(){_classCallCheck(this,t)},Qf=function(){function t(e,n){_classCallCheck(this,t),this.open=e,this.close=n,n||(this.close=e)}return _createClass(t,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),t}(),Yf={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Jf=function(t){return t>0?vh(t):function(t){return t}},$f=((kf=function t(){_classCallCheck(this,t),this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}).ngInjectableDef=ft({factory:function(){return new kf},token:kf,providedIn:"root"}),kf),Xf=0,Zf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isTitleTemplate",value:function(){return this.title instanceof wn}}]),t}(),td=function(){function t(e,n,r,i,o,s,a,u,l,c){var h=this;_classCallCheck(this,t),this._elementRef=e,this._renderer=n,this._ngZone=a,this._document=u,this._changeDetector=l,this.shown=new mi,this.hidden=new mi,this._ngbPopoverWindowId="ngb-popover-".concat(Xf++),this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new Mf(Zf,r,o,n,i,c),this._zoneSubscription=a.onStable.subscribe((function(){h._windowRef&&yf(h._elementRef.nativeElement,h._windowRef.location.nativeElement,h.placement,"body"===h.container,"bs-popover")}))}return _createClass(t,[{key:"_isDisabled",value:function(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}},{key:"open",value:function(t){var e=this;this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,t),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=t,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),hf(this._ngZone,this._document,this.autoClose,(function(){return e.close()}),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yf,n=(t||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map((function(t){return t.split(":")})).map((function(t){var n=e[t[0]]||t;return new Qf(n[0],n[1])})),i=r.filter((function(t){return t.isManual()}));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===u.length&&u[0].isManual())return function(){};var l=function(t,e,n,r){return new k((function(i){var o=[],s=function(){return i.next(!0)},a=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach((function(n){n.open===n.close?o.push(t.listen(e,n.open,u)):o.push(t.listen(e,n.open,s),t.listen(e,n.close,a))})),function(){o.forEach((function(t){return t()}))}}))}(t,e,u,r).pipe(function(t,e,n){return function(r){var i=null,o=r.pipe(j((function(t){return{open:t}})),Jc((function(t){var e=n();return e===t.open||i&&i.open!==e?(i&&i.open!==t.open&&(i=null),!1):(i=t,!0)})),it());return J(o.pipe(Jc((function(t){return t.open})),Jf(t)),o.pipe(Jc((function(t){return!t.open})),Jf(e))).pipe(Jc((function(t){return t===i&&(i=null,t.open!==n())})),j((function(t){return t.open})))}}(s,a,r)).subscribe((function(t){return t?i():o()}));return function(){return l.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(t){var e=t.ngbPopover,n=t.popoverTitle,r=t.disablePopover,i=t.popoverClass;i&&this.isOpen()&&(this._windowRef.instance.popoverClass=i.currentValue),(e||n||r)&&this._isDisabled()&&this.close()}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),t}(),ed=function t(){_classCallCheck(this,t)},nd=function t(){_classCallCheck(this,t)},rd=function t(){_classCallCheck(this,t)},id=function t(){_classCallCheck(this,t)},od=function t(){_classCallCheck(this,t)},sd=function t(){_classCallCheck(this,t)},ad=function t(){_classCallCheck(this,t)},ud=function t(){_classCallCheck(this,t)},ld=function(){function t(){_classCallCheck(this,t),this.highlightClass="ngb-highlight"}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=bh(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map((function(t){return bh(t).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).filter((function(t){return t}));this.parts=n.length?e.split(new RegExp("(".concat(n.join("|"),")"),"gmi")):[e]}}]),t}(),cd=function(){function t(){_classCallCheck(this,t),this.activeIdx=0,this.focusFirst=!0,this.formatter=bh,this.selectEvent=new mi,this.activeChangeEvent=new mi}return _createClass(t,[{key:"hasActive",value:function(){return this.activeIdx>-1&&this.activeIdx<this.results.length}},{key:"getActive",value:function(){return this.results[this.activeIdx]}},{key:"markActive",value:function(t){this.activeIdx=t,this._activeChanged()}},{key:"next",value:function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}},{key:"prev",value:function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}},{key:"resetActive",value:function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}},{key:"select",value:function(t){this.selectEvent.emit(t)}},{key:"ngOnInit",value:function(){this.resetActive()}},{key:"_activeChanged",value:function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}]),t}(),hd=function t(){_classCallCheck(this,t)},fd=function t(){_classCallCheck(this,t)},dd=Un({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function pd(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.closeHandler()&&r),r}),null,null)),(t()(),Do(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Ko(-1,null,["\xd7"]))],null,null)}function vd(t){return Jo(2,[qo(null,0),(t()(),No(16777216,null,null,1,null,pd)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.dismissible)}),null)}var yd=Er("ngb-alert",Ih,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,vd,dd)),Qr(1,638976,null,0,Ih,[Th,en,$e],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Mr(e,1).dismissible)}))}),{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),md=Un({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function gd(t){return Jo(2,[(t()(),Ko(0,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n.i18n.getDayNumerals(n.date))}))}var _d=Un({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function bd(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.select.emit(n)&&r),r}),xd,Td)),Qr(1,8437760,null,0,Ef,[Wh,en],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function wd(t){return Jo(0,[(t()(),Do(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function kd(t){return Jo(0,[(t()(),Do(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Cd(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,wd)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),Ko(3,null,[" "," "," "])),(t()(),No(16777216,null,null,1,null,kd)),Qr(5,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,e.context.index>0),t(e,5,0,e.context.index!==n.months.length-1)}),(function(t,e){var n=e.component;t(e,3,0,n.i18n.getMonthFullName(e.context.$implicit.number,e.context.$implicit.year),n.i18n.getYearNumerals(e.context.$implicit.year))}))}function Ed(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,Cd)),Qr(1,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),No(0,null,null,0))],(function(t,e){t(e,1,0,e.component.months)}),null)}function Sd(t){return Jo(2,[(t()(),Do(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickPrev(n)&&r),r}),null,null)),(t()(),Do(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,bd)),Qr(4,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Ed)),Qr(6,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(t()(),Do(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onClickNext(n)&&r),r}),null,null)),(t()(),Do(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.showSelect),t(e,6,0,!n.showSelect)}),(function(t,e){var n=e.component;t(e,1,0,n.prevDisabled),t(e,8,0,n.nextDisabled)}))}var Td=Un({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],data:{}});function Id(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),Qr(1,147456,null,0,Ul,[$e,en,[8,null]],{value:[0,"value"]},null),Qr(2,147456,null,0,zl,[$e,en,[8,null]],{value:[0,"value"]},null),(t()(),Ko(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)}),(function(t,e){var n=e.component;t(e,0,0,n.i18n.getMonthFullName(e.context.$implicit,null==n.date?null:n.date.year)),t(e,3,0,n.i18n.getMonthShortName(e.context.$implicit,null==n.date?null:n.date.year))}))}function Ad(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"option",[],null,null,null,null,null)),Qr(1,147456,null,0,Ul,[$e,en,[8,null]],{value:[0,"value"]},null),Qr(2,147456,null,0,zl,[$e,en,[8,null]],{value:[0,"value"]},null),(t()(),Ko(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)}),(function(t,e){t(e,3,0,e.component.i18n.getYearNumerals(e.context.$implicit))}))}function xd(t){return Jo(2,[Lo(402653184,1,{monthSelect:0}),Lo(402653184,2,{yearSelect:0}),(t()(),Do(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeMonth(n.target.value)&&r),r}),null,null)),(t()(),No(16777216,null,null,1,null,Id)),Qr(4,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Do(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeYear(n.target.value)&&r),r}),null,null)),(t()(),No(16777216,null,null,1,null,Ad)),Qr(7,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.months),t(e,7,0,n.years)}),(function(t,e){var n=e.component;t(e,2,0,n.disabled),t(e,5,0,n.disabled)}))}var Nd=Un({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function Dd(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,gd,md)),Qr(1,49152,null,0,Cf,[Wh],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(t,e){t(e,1,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)}),(function(t,e){t(e,0,0,Mr(e,1).selected,Mr(e,1).selected,Mr(e,1).isMuted(),Mr(e,1).isMuted(),Mr(e,1).focused)}))}function Od(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),Ko(1,null,[" "," "," "]))],null,(function(t,e){var n=e.component;t(e,1,0,n.i18n.getMonthFullName(e.parent.context.$implicit.number,e.parent.context.$implicit.year),n.i18n.getYearNumerals(e.parent.context.$implicit.year))}))}function Pd(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Od)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(3,0,null,null,1,"ngb-datepicker-month",[["role","grid"]],null,[[null,"keydown"]],(function(t,e,n){var r=!0;return"keydown"===e&&(r=!1!==Mr(t,4).onKeyDown(n)&&r),r}),Jd,Ud)),Qr(4,49152,null,0,sf,[Wh,nf,of,Qh],{month:[0,"month"]},null)],(function(t,e){var n=e.component;t(e,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),t(e,4,0,e.context.$implicit.firstDate)}),null)}function Rd(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,Pd)),Qr(1,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null),(t()(),No(0,null,null,0))],(function(t,e){t(e,1,0,e.component.model.months)}),null)}function Md(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(t,e,n){var r=!0,i=t.component;return"navigate"===e&&(r=!1!==i.onNavigateEvent(n)&&r),"select"===e&&(r=!1!==i.onNavigateDateSelect(n)&&r),r}),Sd,_d)),Qr(1,49152,null,0,af,[Wh],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function Ld(t){return Jo(0,[(t()(),No(0,null,null,0))],null,null)}function Fd(t){return Jo(0,[(t()(),No(0,null,null,0))],null,null)}function Vd(t){return Jo(2,[Lo(402653184,1,{_defaultDayTemplate:0}),Lo(402653184,2,{_contentEl:0}),(t()(),No(0,[[1,2],["defaultDayTemplate",2]],null,0,null,Dd)),(t()(),No(0,[["defaultContentTemplate",2]],null,0,null,Rd)),(t()(),Do(4,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Md)),Qr(6,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(7,0,[[2,0],["content",1]],null,2,"div",[["class","ngb-dp-content"]],[[2,"ngb-dp-months",null]],null,null,null,null)),(t()(),No(16777216,null,null,1,null,Ld)),Qr(9,540672,null,0,Za,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),No(16777216,null,null,1,null,Fd)),Qr(11,540672,null,0,Za,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){var n=e.component;t(e,6,0,"none"!==n.navigation),t(e,9,0,(null==n.contentTemplate?null:n.contentTemplate.templateRef)||Mr(e,3)),t(e,11,0,n.footerTemplate)}),(function(t,e){t(e,7,0,!e.component.contentTemplate)}))}var jd=Er("ngb-datepicker",nf,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"ngb-datepicker",[],null,null,null,Vd,Nd)),Jr(5120,null,yl,(function(t){return[t]}),[nf]),Jr(512,null,Qh,Qh,[Vh,Wh]),Qr(3,4964352,null,1,nf,[Qh,Vh,Wh,Jh,be,$e,tf,Wi],null,null),Lo(335544320,1,{contentTemplate:0})],(function(t,e){t(e,3,0)}),null)}),{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",dateSelect:"dateSelect",select:"select"},[]),Ud=Un({encapsulation:2,styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function qd(t){return Jo(0,[(t()(),Do(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function zd(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(t()(),Ko(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))}))}function Bd(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,qd)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,zd)),Qr(4,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.datepicker.showWeekNumbers),t(e,4,0,n.viewModel.weekdays)}),null)}function Hd(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(t()(),Ko(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.i18n.getWeekNumerals(e.parent.parent.context.$implicit.number))}))}function Gd(t){return Jo(0,[(t()(),No(0,null,null,0))],null,null)}function Wd(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,Gd)),Qr(1,540672,null,0,Za,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),No(0,null,null,0))],(function(t,e){t(e,1,0,e.parent.context.$implicit.context,e.component.datepicker.dayTemplate)}),null)}function Kd(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(t.component.doSelect(t.context.$implicit),r=!1!==n.preventDefault()&&r),r}),null,null)),(t()(),No(16777216,null,null,1,null,Wd)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,!e.context.$implicit.hidden)}),(function(t,e){t(e,0,0,e.context.$implicit.context.disabled,e.context.$implicit.tabindex,e.context.$implicit.hidden,e.context.$implicit.context.today,e.context.$implicit.ariaLabel)}))}function Qd(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Hd)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Kd)),Qr(4,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.datepicker.showWeekNumbers),t(e,4,0,e.parent.context.$implicit.days)}),null)}function Yd(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,Qd)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(0,null,null,0))],(function(t,e){t(e,1,0,!e.context.$implicit.collapsed)}),null)}function Jd(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,Bd)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,Yd)),Qr(3,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.datepicker.showWeekdays),t(e,3,0,n.viewModel.weeks)}),null)}var $d=Un({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function Xd(t){return Jo(0,[(t()(),Ko(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.title)}))}function Zd(t){return Jo(0,[(t()(),No(0,null,null,0))],null,null)}function tp(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),No(0,[["simpleTitle",2]],null,0,null,Xd)),(t()(),No(16777216,null,null,1,null,Zd)),Qr(3,540672,null,0,Za,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.context,n.isTitleTemplate()?n.title:Mr(e,1))}),null)}function ep(t){return Jo(2,[(t()(),Do(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,tp)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),qo(null,0)],(function(t,e){t(e,2,0,null!=e.component.title)}),null)}var np=Er("ngb-popover-window",Zf,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,ep,$d)),Qr(1,49152,null,0,Zf,[],null,null)],null,(function(t,e){t(e,0,0,"popover"+(Mr(e,1).popoverClass?" "+Mr(e,1).popoverClass:""),Mr(e,1).id)}))}),{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),rp=Un({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function ip(t){return Jo(2,[(t()(),Do(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),qo(null,0)],null,null)}var op=Er("ngb-tooltip-window",ad,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,ip,rp)),Qr(1,49152,null,0,ad,[],null,null)],null,(function(t,e){t(e,0,0,"tooltip show"+(Mr(e,1).tooltipClass?" "+Mr(e,1).tooltipClass:""),Mr(e,1).id)}))}),{id:"id",tooltipClass:"tooltipClass"},{},["*"]),sp=Un({encapsulation:2,styles:[],data:{}});function ap(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-highlight",[],null,null,null,yp,fp)),Qr(1,573440,null,0,ld,[],{result:[0,"result"],term:[1,"term"]},null)],(function(t,e){var n=e.context.formatter(e.context.result);t(e,1,0,n,e.context.term)}),null)}function up(t){return Jo(0,[(t()(),No(0,null,null,0))],null,null)}function lp(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"mouseenter"===e&&(r=!1!==i.markActive(t.context.index)&&r),"click"===e&&(r=!1!==i.select(t.context.$implicit)&&r),r}),null,null)),(t()(),No(16777216,null,null,2,null,up)),Qr(2,540672,null,0,Za,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Go(3,{result:0,term:1,formatter:2})],(function(t,e){var n=e.component,r=t(e,3,0,e.context.$implicit,n.term,n.formatter);t(e,2,0,r,n.resultTemplate||Mr(e.parent,0))}),(function(t,e){var n=e.component;t(e,0,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)}))}function cp(t){return Jo(0,[(t()(),No(0,[["rt",2]],null,0,null,ap)),(t()(),No(16777216,null,null,1,null,lp)),Qr(2,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.results)}),null)}var hp=Er("ngb-typeahead-window",cd,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(t,e,n){var r=!0;return"mousedown"===e&&(r=!1!==n.preventDefault()&&r),r}),cp,sp)),Qr(1,114688,null,0,cd,[],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Mr(e,1).id)}))}),{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),fp=Un({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function dp(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),Ko(1,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.highlightClass),t(e,1,0,e.parent.context.$implicit)}))}function pp(t){return Jo(0,[(t()(),Ko(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.parent.context.$implicit)}))}function vp(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,dp)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),No(0,[["even",2]],null,0,null,pp))],(function(t,e){t(e,1,0,e.context.odd,Mr(e,2))}),null)}function yp(t){return Jo(2,[(t()(),No(16777216,null,null,1,null,vp)),Qr(1,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,1,0,e.component.parts)}),null)}var mp=Un({encapsulation:2,styles:[],data:{}});function gp(t){return Jo(0,[],null,null)}var _p=Er("ngb-modal-backdrop",Vf,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,gp,mp)),Qr(1,49152,null,0,Vf,[],null,null)],null,(function(t,e){t(e,0,0,"modal-backdrop fade show"+(Mr(e,1).backdropClass?" "+Mr(e,1).backdropClass:""))}))}),{backdropClass:"backdropClass"},{},[]),bp=Un({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function wp(t){return Jo(0,[Lo(402653184,1,{_dialogEl:0}),(t()(),Do(1,0,[[1,0],["dialog",1]],null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),Do(2,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),qo(null,0)],null,(function(t,e){var n=e.component;t(e,1,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}var kp=Er("ngb-modal-window",zf,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],null,null,wp,bp)),Qr(1,4440064,null,0,zf,[ou,$e,Wi],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,"modal fade show d-block"+(Mr(e,1).windowClass?" "+Mr(e,1).windowClass:""),!0,Mr(e,1).ariaLabelledBy)}))}),{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),Cp=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function Ep(t){return new k((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?B(n):eh()).subscribe(e)}))}function Sp(t){return function(e){return 0===t?eh():e.lift(new Tp(t))}}var Tp=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Zc}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ip(t,this.total))}}]),t}(),Ip=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,r.ring=new Array,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),e}(v);function Ap(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dp;return function(e){return e.lift(new xp(t))}}var xp=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Np(t,this.errorFactory))}}]),t}(),Np=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).errorFactory=n,r.hasValue=!1,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),e}(v);function Dp(){return new Cp}function Op(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Pp(t))}}var Pp=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Rp(t,this.defaultValue))}}]),t}(),Rp=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).defaultValue=n,r.isEmpty=!0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(v);function Mp(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jc((function(e,n){return t(e,n,r)})):K,Sp(1),n?Op(e):Ap((function(){return new Cp})))}}function Lp(t){return function(e){var n=new Fp(t),r=e.lift(n);return n.caught=r}}var Fp=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Vp(t,this.selector,this.caught))}}]),t}(),Vp=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).selector=n,i.caught=r,i}return _inherits(e,t),_createClass(e,[{key:"error",value:function(t){if(!this.isStopped){var n;try{n=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(e.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new D(this,void 0,void 0);this.add(r);var i=F(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}]),e}(V);function jp(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jc((function(e,n){return t(e,n,r)})):K,nh(1),n?Op(e):Ap((function(){return new Cp})))}}var Up=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qp(t,this.predicate,this.thisArg,this.source))}}]),t}(),qp=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(e,t),_createClass(e,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),e}(v);function zp(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Bp(t,e,n))}}var Bp=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Hp(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Hp=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),e}(v);function Gp(t,e){return H(t,e,1)}var Wp=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Kp(t,this.callback))}}]),t}(),Kp=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).add(new f(n)),r}return _inherits(e,t),e}(v),Qp=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Yp=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).navigationTrigger=i,r.restoredState=o,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Qp),Jp=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(Qp),$p=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).reason=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(Qp),Xp=function(t){function e(t,n,r){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).error=r,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(Qp),Zp=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Qp),tv=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Qp),ev=function(t){function e(t,n,r,i,o){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,s.state=i,s.shouldActivate=o,s}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(Qp),nv=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Qp),rv=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(Qp),iv=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),ov=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),sv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),av=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),uv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),lv=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),cv=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),hv=function t(){_classCallCheck(this,t)},fv=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function dv(t){return new fv(t)}function pv(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function vv(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var yv=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function mv(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];gv(r,_v(e,r))}}function gv(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&mv(t.children,e)}function _v(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function bv(t){var e=t.children&&t.children.map(bv),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=hv),n}function wv(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function kv(t){return Array.prototype.concat.apply([],t)}function Cv(t){return t.length>0?t[t.length-1]:null}function Ev(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sv(t){return qe(t)?t:Ue(t)?B(Promise.resolve(t)):qc(t)}function Tv(t,e,n){return n?function(t,e){return wv(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Nv(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Nv(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Nv(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Nv(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var Iv=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"toString",value:function(){return Rv.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=dv(this.queryParams)),this._queryParamMap}}]),t}(),Av=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Ev(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Mv(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),xv=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return qv(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=dv(this.parameters)),this._parameterMap}}]),t}();function Nv(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Dv(t,e){var n=[];return Ev(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Ev(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Ov=function t(){_classCallCheck(this,t)},Pv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Wv(t);return new Iv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return Mv(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Ev(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Dv(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(Mv(e),"/(").concat(o.join("//"),")")}(t.root,!0)),(n=t.queryParams,r=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat(Fv(t),"=").concat(Fv(e))})).join("&"):"".concat(Fv(t),"=").concat(Fv(e))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Rv=new Pv;function Mv(t){return t.segments.map((function(t){return qv(t)})).join("/")}function Lv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fv(t){return Lv(t).replace(/%3B/gi,";")}function Vv(t){return Lv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jv(t){return decodeURIComponent(t)}function Uv(t){return jv(t.replace(/\+/g,"%20"))}function qv(t){return"".concat(Vv(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Vv(t),"=").concat(Vv(e[t]))})).join("")));var e}var zv=/^[^\/()?;=#]+/;function Bv(t){var e=t.match(zv);return e?e[0]:""}var Hv=/^[^=?&#]+/,Gv=/^[^?&#]+/,Wv=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Av([],{}):new Av([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Av(t,e)),n}},{key:"parseSegment",value:function(){var t=Bv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new xv(jv(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Bv(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Bv(this.remaining);r&&(n=r,this.capture(n))}t[jv(e)]=jv(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Hv);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Gv);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Uv(e),o=Uv(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Bv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Av([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Kv=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Qv(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=Qv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Yv(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Yv(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function Qv(t,e){if(t===e.value)return e;var n=!0,r=!1,i=void 0;try{for(var o,s=e.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=Qv(t,o.value);if(a)return a}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return null}function Yv(t,e){if(t===e.value)return[e];var n=!0,r=!1,i=void 0;try{for(var o,s=e.children[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=Yv(t,o.value);if(a.length)return a.unshift(e),a}}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return[]}var Jv=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function $v(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Xv=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).snapshot=n,iy(_assertThisInitialized(r),t),r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(Kv);function Zv(t,e){var n=function(t,e){var n=new ny([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ry("",new Jv(n,[]))}(t,e),r=new xc([new xv("",{})]),i=new xc({}),o=new xc({}),s=new xc({}),a=new xc(""),u=new ty(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Xv(new Jv(u,[]),n)}var ty=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(j((function(t){return dv(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j((function(t){return dv(t)})))),this._queryParamMap}}]),t}();function ey(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ny=function(){function t(e,n,r,i,o,s,a,u,l,c,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=dv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=dv(this.queryParams)),this._queryParamMap}}]),t}(),ry=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).url=t,iy(_assertThisInitialized(r),n),r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return oy(this._root)}}]),e}(Kv);function iy(t,e){e.value._routerState=t,e.children.forEach((function(e){return iy(t,e)}))}function oy(t){var e=t.children.length>0?" { ".concat(t.children.map(oy).join(", ")," } "):"";return"".concat(t.value).concat(e)}function sy(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!wv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ay(t,e){var n,r;return wv(t.params,e.params)&&Nv(n=t.url,r=e.url)&&n.every((function(t,e){return wv(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||ay(t.parent,e.parent))}function uy(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ly(t,e,n,r,i){var o={};return r&&Ev(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new Iv(n.root===t?e:function t(e,n,r){var i={};return Ev(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Av(e.segments,i)}(n.root,t,e),o,i)}var cy=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&uy(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==Cv(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),hy=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function fy(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function dy(t,e,n){if(t||(t=new Av([],{})),0===t.segments.length&&t.hasChildren())return py(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=fy(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!gy(a,u,s))return o;r+=2}else{if(!gy(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Av(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Av(t.segments.slice(r.pathIndex),t.children),py(o,0,i)}return r.match&&0===i.length?new Av(t.segments,{}):r.match&&!t.hasChildren()?vy(t,e,n):r.match?py(t,0,i):vy(t,e,n)}function py(t,e,n){if(0===n.length)return new Av(t.segments,{});var r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Ev(r,(function(n,r){null!==n&&(i[r]=dy(t.children[r],e,n))})),Ev(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Av(t.segments,i)}function vy(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=yy(n[i].outlets);return new Av(r,o)}if(0===i&&uy(n[0]))r.push(new xv(t.segments[e].path,n[0])),i++;else{var s=fy(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&uy(a)?(r.push(new xv(s,my(a))),i+=2):(r.push(new xv(s,{})),i++)}}return new Av(r,{})}function yy(t){var e={};return Ev(t,(function(t,n){null!==t&&(e[n]=vy(new Av([],{}),0,t))})),e}function my(t){var e={};return Ev(t,(function(t,n){return e[n]="".concat(t)})),e}function gy(t,e,n){return t==n.path&&wv(e,n.parameters)}var _y=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),sy(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=$v(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Ev(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=$v(t),o=t.value.component?r.children:e;Ev(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=$v(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new lv(t.value.snapshot))})),t.children.length&&this.forwardEvent(new av(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(sy(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),by(a.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function by(t){sy(t.value),t.children.forEach(by)}function wy(t){return"function"==typeof t}function ky(t){return t instanceof Iv}var Cy=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Ey=function t(e){_classCallCheck(this,t),this.urlTree=e};function Sy(t){return new k((function(e){return e.error(new Cy(t))}))}function Ty(t){return new k((function(e){return e.error(new Ey(t))}))}function Iy(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Ay=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Rt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(j((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Lp((function(e){if(e instanceof Ey)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Cy)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(j((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Lp((function(t){if(t instanceof Cy)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Av([],{primary:t}):t;return new Iv(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j((function(t){return new Av([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return qc({});var o=[],s=[],a={};return Ev(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(j((function(t){return a[i]=t})));"primary"===i?o.push(c):s.push(c)})),qc.apply(null,o.concat(s)).pipe(zc(),Mp(),j((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var s=this;return qc.apply(void 0,_toConsumableArray(n)).pipe(j((function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(Lp((function(t){if(t instanceof Cy)return qc(null);throw t})))})),zc(),jp((function(t){return!!t})),Lp((function(t,n){if(t instanceof Cp||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return qc(new Av([],{}));throw new Cy(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,s){return Oy(r)!==o?Sy(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Sy(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ty(o):this.lineralizeSegments(n,o).pipe(H((function(n){var o=new Av(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var s=this,a=xy(e,r,i),u=a.matched,l=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!u)return Sy(e);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?Ty(f):this.lineralizeSegments(r,f).pipe(H((function(r){return s.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j((function(t){return n._loadedConfig=t,new Av(r,{})}))):qc(new Av(r,{}));var o=xy(e,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return Sy(e);var l=r.slice(u);return this.getChildConfig(t,n,r).pipe(H((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Dy(t,e,n)&&"primary"!==Oy(n)}))}(t,n,r)?{segmentGroup:Ny(new Av(e,function(t,e){var n={};n.primary=e;var r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;""===u.path&&"primary"!==Oy(u)&&(n[Oy(u)]=new Av([],{}))}}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(r,new Av(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Dy(t,e,n)}))}(t,n,r)?{segmentGroup:Ny(new Av(t.segments,function(t,e,n,r){var i={},o=!0,s=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;Dy(t,e,c)&&!r[Oy(c)]&&(i[Oy(c)]=new Av([],{}))}}catch(h){s=!0,a=h}finally{try{o||null==l.return||l.return()}finally{if(s)throw a}}return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,l,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(j((function(t){return new Av(a,t)}))):0===r.length&&0===u.length?qc(new Av(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(j((function(t){return new Av(a.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?qc(new yv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?qc(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?B(i).pipe(j((function(r){var i,o=t.get(r);if(function(t){return t&&wy(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!wy(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Sv(i)}))).pipe(zc(),(r=function(t){return!0===t},function(t){return t.lift(new Up(r,void 0,t))})):qc(!0)}(t.injector,e,n).pipe(H((function(n){return n?r.configLoader.load(t.injector,e).pipe(j((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(pv("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):qc(new yv([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return qc(n);if(r.numberOfChildren>1||!r.children.primary)return Iy(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Iv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ev(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return Ev(e.children,(function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)})),new Av(o,s)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;if(u.path===t.path)return e.splice(n),u;n++}}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return t}}]),t}();function xy(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||vv)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ny(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Av(t.segments.concat(e.segments),e.children)}return t}function Dy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Oy(t){return t.outlet||"primary"}var Py=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Ry=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function My(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ly(t,e,n){var r=$v(t),i=t.value;Ev(r,(function(t,r){Ly(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new Ry(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Fy=Symbol("INITIAL_VALUE");function Vy(){return Hc((function(t){return Dc.apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(nh(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return N(r)?(e.pop(),function(t){return Bc(e,t,r)}):function(t){return Bc(e,t)}}(Fy))})))).pipe(zp((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Fy)return t;if(r===Fy&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ky(r))return r}return t}),t)}),Fy),Jc((function(t){return t!==Fy})),j((function(t){return ky(t)?t:!0===t})),nh(1))}))}function jy(t,e){return null!==t&&e&&e(new uv(t)),qc(!0)}function Uy(t,e){return null!==t&&e&&e(new sv(t)),qc(!0)}function qy(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?qc(r.map((function(r){return Ep((function(){var i,o=My(r,e,n);if(function(t){return t&&wy(t.canActivate)}(o))i=Sv(o.canActivate(e,t));else{if(!wy(o))throw new Error("Invalid CanActivate guard");i=Sv(o(e,t))}return i.pipe(jp())}))}))).pipe(Vy()):qc(!0)}function zy(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Ep((function(){return qc(e.guards.map((function(i){var o,s=My(i,e.node,n);if(function(t){return t&&wy(t.canActivateChild)}(s))o=Sv(s.canActivateChild(r,t));else{if(!wy(s))throw new Error("Invalid CanActivateChild guard");o=Sv(s(r,t))}return o.pipe(jp())}))).pipe(Vy())}))}));return qc(i).pipe(Vy())}var By=function t(){_classCallCheck(this,t)},Hy=function(){function t(e,n,r,i,o,s){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(t,[{key:"recognize",value:function(){try{var t=Ky(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ny([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jv(n,e),i=new ry(this.url,r);return this.inheritParamsAndData(i._root),qc(i)}catch(o){return new k((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=ey(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Dv(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i=!0,o=!1,s=void 0;try{for(var a,u=t[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var l=a.value;try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(c){if(!(c instanceof By))throw c}}}catch(h){o=!0,s=h}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}if(this.noLeftoversInUrl(e,n,r))return[];throw new By}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new By;if((t.outlet||"primary")!==r)throw new By;var i,o=[],s=[];if("**"===t.path){var a=n.length>0?Cv(n).parameters:{};i=new ny(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jy(t),r,t.component,t,Gy(e),Wy(e)+n.length,$y(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new By;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||vv)(n,t,e);if(!r)throw new By;var i={};Ev(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new ny(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jy(t),r,t.component,t,Gy(e),Wy(e)+o.length,$y(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=Ky(e,o,s,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new Jv(i,d)]}if(0===l.length&&0===f.length)return[new Jv(i,[])];var p=this.processSegment(l,h,f,"primary");return[new Jv(i,p)]}}]),t}();function Gy(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Wy(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ky(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Qy(t,e,n)&&"primary"!==Yy(n)}))}(t,n,r)){var o=new Av(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o=!0,s=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;if(""===c.path&&"primary"!==Yy(c)){var h=new Av([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,i[Yy(c)]=h}}}catch(f){s=!0,a=f}finally{try{o||null==l.return||l.return()}finally{if(s)throw a}}return i}(t,e,r,new Av(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Qy(t,e,n)}))}(t,n,r)){var s=new Av(t.segments,function(t,e,n,r,i,o){var s={},a=!0,u=!1,l=void 0;try{for(var c,h=r[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){var f=c.value;if(Qy(t,n,f)&&!i[Yy(f)]){var d=new Av([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Yy(f)]=d}}}catch(p){u=!0,l=p}finally{try{a||null==h.return||h.return()}finally{if(u)throw l}}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var a=new Av(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}function Qy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yy(t){return t.outlet||"primary"}function Jy(t){return t.data||{}}function $y(t){return t.resolve||{}}function Xy(t,e,n,r){var i=My(t,e,r);return Sv(i.resolve?i.resolve(e,n):i(e,n))}function Zy(t){return function(e){return e.pipe(Hc((function(e){var n=t(e);return n?B(n).pipe(j((function(){return e}))):B([e])})))}}var tm=function t(){_classCallCheck(this,t)},em=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),nm=new Et("ROUTES"),rm=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new yv(kv(i.injector.get(nm)).map(bv),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?B(this.loader.load(t)):Sv(t()).pipe(H((function(t){return t instanceof Mt?qc(t):B(e.compiler.compileModuleAsync(t))})))}}]),t}(),im=function t(){_classCallCheck(this,t)},om=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function sm(t){throw t}function am(t,e,n){return e.parse("/")}function um(t,e){return qc(null)}var lm=function(){function t(e,n,r,i,o,s,a,u){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=sm,this.malformedUriErrorHandler=am,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:um,afterPreactivation:um},this.urlHandlingStrategy=new om,this.routeReuseStrategy=new em,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Rt),this.console=o.get(Ai);var c=o.get(Wi);this.isNgZoneEnabled=c instanceof Wi,this.resetConfig(u),this.currentUrlTree=new Iv(new Av([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rm(s,a,(function(t){return l.triggerEvent(new iv(t))}),(function(t){return l.triggerEvent(new ov(t))})),this.routerState=Zv(this.currentUrlTree,this.rootComponentType),this.transitions=new xc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Jc((function(t){return 0!==t.id})),j((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Hc((function(t){var r,i,o,s,a=!1,u=!1;return qc(t).pipe(oh((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Hc((function(t){var r,i,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return qc(t).pipe(Hc((function(t){var r=e.transitions.getValue();return n.next(new Yp(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?th:[t]})),Hc((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(Hc((function(t){return function(t,e,n,r,i){return new Ay(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(j((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),oh((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(H((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Hy(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(j((function(t){return Object.assign({},r,{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),oh((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),oh((function(t){var r=new Zp(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,l=t.extractedUrl,c=t.source,h=t.restoredState,f=t.extras,d=new Yp(u,e.serializeUrl(l),c,h);n.next(d);var p=Zv(l,e.rootComponentType).snapshot;return qc(Object.assign({},t,{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign({},f,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),th})),Zy((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),oh((function(t){var n=new tv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),j((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=$v(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nv(t.url,e.url)||!wv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ay(t,e)||!wv(t.queryParams,e.queryParams);case"paramsChange":default:return!ay(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Py(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Ry(u&&u.outlet&&u.outlet.component||null,a))}else a&&Ly(n,u,o),o.canActivateChecks.push(new Py(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]})),Ev(s,(function(t,e){return Ly(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(H((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?qc(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return B(t).pipe(H((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?qc(o.map((function(o){var s,a=My(o,e,i);if(function(t){return t&&wy(t.canDeactivate)}(a))s=Sv(a.canDeactivate(t,e,n,r));else{if(!wy(a))throw new Error("Invalid CanDeactivate guard");s=Sv(a(t,e,n,r))}return s.pipe(jp())}))).pipe(Vy()):qc(!0)}(t.component,t.route,n,e,r)})),jp((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(H((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return B(e).pipe(Gp((function(e){return B([Uy(e.route.parent,r),jy(e.route,r),zy(t,e.path,n),qy(t,e.route,n)]).pipe(zc(),jp((function(t){return!0!==t}),!0))})),jp((function(t){return!0!==t}),!0))}(r,s,t,e):qc(n)})),j((function(t){return Object.assign({},n,{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),oh((function(t){if(ky(t.guardsResult)){var n=pv('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),oh((function(t){var n=new ev(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Jc((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new $p(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),Zy((function(t){if(t.guards.canActivateChecks.length)return qc(t).pipe(oh((function(t){var n=new nv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(H((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?B(i).pipe(Gp((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return qc({});if(1===i.length){var o=i[0];return Xy(t[o],e,n,r).pipe(j((function(t){return _defineProperty({},o,t)})))}var s={};return B(i).pipe(H((function(i){return Xy(t[i],e,n,r).pipe(j((function(t){return s[i]=t,t})))}))).pipe(Mp(),j((function(){return s})))}(t._resolve,t,e,r).pipe(j((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,ey(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return _(zp(t,e),Sp(1),Op(e))(n)}:function(e){return _(zp((function(e,n,r){return t(e,n,r+1)})),Sp(1))(e)}}((function(t,e){return t})),j((function(e){return t}))):qc(t)})))}),oh((function(t){var n=new rv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),Zy((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),j((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i=!0,o=!1,s=void 0;try{for(var a,u=r.children[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var l=a.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(c){o=!0,s=c}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return t(e,n)}))}(e,n,r);return new Jv(i,o)}var s=e.retrieve(n.value);if(s){var a=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,a),a}var u,l=new ty(new xc((u=n.value).url),new xc(u.params),new xc(u.queryParams),new xc(u.fragment),new xc(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return t(e,n)}));return new Jv(l,c)}(t,e._root,n?n._root:void 0);return new Xv(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:n})})),oh((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},j((function(t){return new _y(o,t.targetRouterState,t.currentRouterState,s).activate(i),t}))),oh({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){e.resetUrlToCurrentUrlTree();var r=new $p(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Wp(r))}),Lp((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=ky(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new $p(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Xp(t.id,e.serializeUrl(t.extractedUrl),r);n.next(s);try{t.resolve(e.errorHandler(r))}catch(l){t.reject(l)}}var a;return th})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign({},this.getTransition(),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){mv(t),this.config=t.map(bv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.preserveQueryParams,s=e.queryParamsHandling,a=e.preserveFragment;Wt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i,c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ly(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new cy(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ev(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new cy(n,e,r)}(n);if(o.toRoot())return ly(e.root,new Av([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new hy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new hy(n.snapshot._urlSegment,!0,0);var r=uy(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new hy(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?py(s.segmentGroup,s.index,o.commands):dy(s.segmentGroup,s.index,o.commands);return ly(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,c,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Wt()&&this.isNgZoneEnabled&&!Wi.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ky(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(ky(t))return Tv(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Tv(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Jp(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise((function(t,e){o=t,s=e})),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}(),cm=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:fm(this.skipLocationChange),replaceUrl:fm(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Wt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:fm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:fm(this.preserveFragment)})}}]),t}(),hm=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof Jp&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:fm(this.skipLocationChange),replaceUrl:fm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Wt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:fm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:fm(this.preserveFragment)})}}]),t}();function fm(t){return""===t||!!t}var dm=function(){function t(e,n,r,i,o){var s=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe((function(t){t instanceof Jp&&s.update()}))}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))}}]),t}(),pm=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new vm,this.attachRef=null},vm=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new pm,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),ym=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new mi,this.deactivateEvents=new mi,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new mm(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}(),mm=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===ty?this.route:t===vm?this.childContexts:this.parent.get(t,e)}}]),t}(),gm=function t(){_classCallCheck(this,t)},_m=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Lp((function(){return qc(null)})))}}]),t}(),bm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return qc(null)}}]),t}(),wm=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new rm(n,r,(function(t){return e.triggerEvent(new iv(t))}),(function(t){return e.triggerEvent(new ov(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Jc((function(t){return t instanceof Jp})),Gp((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Rt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;n.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?n.push(this.preloadConfig(t,u)):u.children&&n.push(this.processRoutes(t,u.children))}}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return B(n).pipe(Q(),j((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(H((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}(),km=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Yp?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jp&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof cv&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new cv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}(),Cm=new Et("ROUTER_CONFIGURATION"),Em=new Et("ROUTER_FORROOT_GUARD"),Sm=[ua,{provide:Ov,useClass:Pv},{provide:lm,useFactory:Om,deps:[co,Ov,vm,ua,Ee,fo,Fi,nm,Cm,[im,new at],[tm,new at]]},vm,{provide:ty,useFactory:Pm,deps:[lm]},{provide:fo,useClass:yo},wm,bm,_m,{provide:Cm,useValue:{enableTracing:!1}}];function Tm(){return new io("Router",lm)}var Im=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Sm,Dm(e),{provide:Em,useFactory:Nm,deps:[[lm,new at,new lt]]},{provide:Cm,useValue:n||{}},{provide:sa,useFactory:xm,deps:[ia,[new st(aa),new at],Cm]},{provide:km,useFactory:Am,deps:[lm,uu,Cm]},{provide:gm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bm},{provide:io,multi:!0,useFactory:Tm},[Rm,{provide:bi,multi:!0,useFactory:Mm,deps:[Rm]},{provide:Fm,useFactory:Lm,deps:[Rm]},{provide:Ii,multi:!0,useExisting:Fm}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Dm(e)]}}}]),t}();function Am(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new km(t,e,n)}function xm(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ca(t,e):new ha(t,e)}function Nm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dm(t){return[{provide:Oe,multi:!0,useValue:t},{provide:nm,multi:!0,useValue:t}]}function Om(t,e,n,r,i,o,s,a){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},l=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new lm(null,e,n,r,i,o,s,kv(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=hu();h.events.subscribe((function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Pm(t){return t.routerState.root}var Rm=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new A}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(oa,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(lm),i=t.injector.get(Cm);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?qc(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Cm),n=this.injector.get(wm),r=this.injector.get(km),i=this.injector.get(lm),o=this.injector.get(co);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function Mm(t){return t.appInitializer.bind(t)}function Lm(t){return t.bootstrapListener.bind(t)}var Fm=new Et("Router Initializer"),Vm=Un({encapsulation:2,styles:[],data:{}});function jm(t){return Jo(0,[(t()(),Do(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Qr(1,212992,null,0,ym,[vm,Cn,Ke,[8,null],be],null,null)],(function(t,e){t(e,1,0)}),null)}var Um=Er("ng-component",hv,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"ng-component",[],null,null,null,jm,Vm)),Qr(1,49152,null,0,hv,[],null,null)],null,null)}),{},{},[]),qm=function(){function t(){_classCallCheck(this,t),this.color=!1,this.tarjetas=[{img:"assets/images/jorgeraulbastanzo.webp",titulo:"Partidas Amistosas",texto:"Muchas son las ocasiones en las que se pueden jugar partidas amistosas de ajedrez . . .",link:"/partidas-amistosas"},{img:"assets/images/Tringov_Fischer_Diagrama1.webp",titulo:"Partida Tringov vs. Fischer",texto:"Tringov vs. Fischer, Capablanca Memorial (1965): Esta partida . . .",link:"/partida-tringov-fischer"},{img:"assets/images/nuevas/estudio-david-gurgenidze.webp",titulo:"Estudio de David Gurgenidze",texto:"Juegan las blancas y ganan la partida . . .",link:"/estudio-david-gurgenidze/1"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),zm=Un({encapsulation:0,styles:[[".color[_ngcontent-%COMP%]{background-color:rgba(0,0,255,.2)}"]],data:{}});function Bm(t){return Jo(0,[(t()(),Do(0,0,null,null,12,"div",[["class","card m-3 shadow"]],null,[[null,"mouseover"],[null,"mouseleave"]],(function(t,e,n){var r=!0,i=t.component;return"mouseover"===e&&(i.color=!0,r=!1!==(i.nro=t.context.index)&&r),"mouseleave"===e&&(i.color=!1,r=!1!==(i.nro=void 0)&&r),r}),null,null)),(t()(),Do(1,0,null,null,0,"img",[["class","card-img-top"]],[[8,"src",4]],null,null,null,null)),(t()(),Do(2,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),Jr(512,null,Ha,Ga,[yn,mn,$e,en]),Qr(4,278528,null,0,Wa,[Ha],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Go(5,{color:0}),(t()(),Do(6,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Ko(7,null,[" "," "])),(t()(),Do(8,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Ko(9,null,[" "," "])),(t()(),Do(10,0,null,null,2,"button",[["class","btn btn-outline-primary btn-block"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Mr(t,11).onClick()&&r),r}),null,null)),Qr(11,16384,null,0,cm,[lm,ty,[8,null],en,$e],{routerLink:[0,"routerLink"]},null),(t()(),Ko(-1,null,["Mas..."]))],(function(t,e){var n=e.component,r=t(e,5,0,n.color&&n.nro==e.context.index);t(e,4,0,"card-body",r),t(e,11,0,e.context.$implicit.link)}),(function(t,e){t(e,1,0,e.context.$implicit.img),t(e,7,0,e.context.$implicit.titulo),t(e,9,0,e.context.$implicit.texto)}))}function Hm(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,0,"img",[["alt","Responsive image"],["class","img-fluid mb-3"],["src","assets/images/nuevas/banner.webp"],["style","width: 100%;"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,2,"div",[["class","card-group"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Bm)),Qr(4,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.component.tarjetas)}),null)}var Gm=Er("app-home",qm,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-home",[],null,null,null,Hm,zm)),Qr(1,114688,null,0,qm,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Wm=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.peticionesService=e,this.router=n,this.terminoDeBusqueda="",this.peticionesService.getPartidas().subscribe((function(t){r.partidas=t.reverse()})),this.info=!1,this.infoMessage="Ingrese un texto para buscar . . ."}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"verPartida",value:function(t){this.router.navigate(["/partida",t])}},{key:"buscarPartida",value:function(t){var e=this;if(!t.trim().length)return this.info=!0,setTimeout((function(){e.info=!1}),4e3),void(this.terminoDeBusqueda="");this.router.navigate(["/buscar",t.trim()])}},{key:"setSrcImgPop",value:function(t){this.srcImgPop="assets/images/nuevas/tooltips/".concat(t,".webp")}}]),t}(),Km=function t(){_classCallCheck(this,t)},Qm=function t(){_classCallCheck(this,t)},Ym=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),Jm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return $m(t)}},{key:"encodeValue",value:function(t){return $m(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function $m(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Xm=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Jm,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],s=i[1],a=n.get(o)||[];a.push(s),n.set(o,a)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function Zm(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function tg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function eg(t){return"undefined"!=typeof FormData&&t instanceof FormData}var ng=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ym),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Xm,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:Zm(this.body)||tg(this.body)||eg(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:eg(this.body)?null:tg(this.body)?this.body.type||null:Zm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),l)),new t(n,r,o,{params:l,headers:u,reportProgress:a,responseType:i,withCredentials:s})}}]),t}(),rg=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),ig=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new Ym,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},og=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).type=rg.ResponseHeader,t}return _inherits(e,t),_createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),e}(ig),sg=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).type=rg.Response,t.body=void 0!==n.body?n.body:null,t}return _inherits(e,t),_createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),e}(ig),ag=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,0,"Unknown Error"))).name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),n.error=t.error||null,n}return _inherits(e,t),e}(ig);function ug(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var lg,cg=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof ng)n=t;else{var o=void 0;o=i.headers instanceof Ym?i.headers:new Ym(i.headers);var s=void 0;i.params&&(s=i.params instanceof Xm?i.params:new Xm({fromObject:i.params})),n=new ng(t,e,void 0!==i.body?i.body:null,{headers:o,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var a=qc(n).pipe(Gp((function(t){return r.handler.handle(t)})));if(t instanceof ng||"events"===i.observe)return a;var u=a.pipe(Jc((function(t){return t instanceof sg})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(j((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(j((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(j((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Xm).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,ug(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,ug(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,ug(n,e))}}]),t}(),hg=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),fg=new Et("HTTP_INTERCEPTORS"),dg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}(),pg=/^\)\]\}',?\n/,vg=function t(){_classCallCheck(this,t)},yg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}(),mg=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Ym(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new og({headers:i,status:e,statusText:n,url:o})},l=function(){var e=u(),i=e.headers,o=e.status,s=e.statusText,a=e.url,l=null;204!==o&&(l=void 0===r.response?r.responseText:r.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(pg,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new sg({body:l,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new ag({error:l,headers:i,status:o,statusText:s,url:a||void 0}))},c=function(t){var e=u().url,i=new ag({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:rg.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:rg.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",l),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:rg.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}(),gg=new Et("XSRF_COOKIE_NAME"),_g=new Et("XSRF_HEADER_NAME"),bg=function t(){_classCallCheck(this,t)},wg=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ba(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}(),kg=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}(),Cg=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(fg,[]);this.chain=e.reduceRight((function(t,e){return new hg(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}(),Eg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:kg,useClass:dg}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:gg,useValue:e.cookieName}:[],e.headerName?{provide:_g,useValue:e.headerName}:[]]}}}]),t}(),Sg=function t(){_classCallCheck(this,t)},Tg=((lg=function(){function t(e){var n=this;_classCallCheck(this,t),this.httpClient=e,this.urlPartidas="assets/datos/partidas.json",this.urlAlbumes="assets/datos/albumes.json",this.urlFrases="assets/datos/frases.json",this.getPartidas().subscribe((function(t){n.partidas=t})),this.getAlbumes().subscribe((function(t){n.albumes=t}))}return _createClass(t,[{key:"getPartidas",value:function(){return this.httpClient.get(this.urlPartidas)}},{key:"getAlbumes",value:function(){return this.httpClient.get(this.urlAlbumes)}},{key:"getFrases",value:function(){return this.httpClient.get(this.urlFrases)}},{key:"buscarPartidas",value:function(t){var e=[];t=t.toLowerCase();var n=!0,r=!1,i=void 0;try{for(var o,s=this.partidas[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=a.blancas.toLowerCase(),l=a.negras.toLowerCase(),c=a.resultado,h=a.evento.toLowerCase(),f=a.fecha,d=a.numero.toString();(u.indexOf(t)>=0||l.indexOf(t)>=0||c.indexOf(t)>=0||h.indexOf(t)>=0||f.indexOf(t)>=0||d.indexOf(t)>=0)&&e.push(a)}}catch(p){r=!0,i=p}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}},{key:"buscarAlbumes",value:function(t){var e=[];t=t.toLowerCase();var n=!0,r=!1,i=void 0;try{for(var o,s=this.albumes[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value,u=a.album_id.toString(),l=a.album.toLowerCase(),c=a.lugar.toLowerCase(),h=a.fecha,f=a.cantidadFotos.toString();(u.indexOf(t)>=0||l.indexOf(t)>=0||c.indexOf(t)>=0||h.indexOf(t)>=0||f.indexOf(t)>=0)&&e.push(a)}}catch(d){r=!0,i=d}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return e}}]),t}()).ngInjectableDef=ft({factory:function(){return new lg(Dt(cg))},token:lg,providedIn:"root"}),lg),Ig=Un({encapsulation:0,styles:[[""]],data:{}});function Ag(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"ngb-alert",[["class","text-center animated fadeIn alert"],["role","alert"],["type","danger"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(t,e,n){var r=!0;return"close"===e&&(r=0!=(t.component.info=!1)&&r),r}),vd,dd)),Qr(1,638976,null,0,Ih,[Th,en,$e],{type:[0,"type"]},{close:"close"}),(t()(),Ko(2,0,["",""]))],(function(t,e){t(e,1,0,"danger")}),(function(t,e){var n=e.component;t(e,0,0,Mr(e,1).dismissible),t(e,2,0,n.infoMessage)}))}function xg(t){return Jo(0,[(t()(),Do(0,0,null,null,0,"img",[["alt","numero"],["class","img-thumbnail"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.component.srcImgPop)}))}function Ng(t){return Jo(0,[(t()(),Do(0,0,null,null,19,"tr",[],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(2,null,["",""])),(t()(),Do(3,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(4,null,["",""])),(t()(),Do(5,0,null,null,1,"td",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""])),(t()(),Do(7,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Do(8,16777216,null,null,2,"button",[["class","btn btn-outline-info"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setSrcImgPop(t.context.$implicit.numero)&&r),r}),null,null)),Qr(9,737280,null,0,td,[$e,en,Ee,Ke,Cn,$f,Wi,ou,be,co],{ngbPopover:[0,"ngbPopover"]},null),(t()(),Ko(-1,null,["Ver Final"])),(t()(),Do(11,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Do(12,0,null,null,1,"button",[["class","btn btn-outline-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verPartida(t.context.$implicit.numero)&&r),r}),null,null)),(t()(),Ko(-1,null,["Ver Partida"])),(t()(),Do(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(15,null,["",""])),(t()(),Do(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(17,null,["",""])),(t()(),Do(18,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(19,null,["",""]))],(function(t,e){t(e,9,0,Mr(e.parent,36))}),(function(t,e){t(e,2,0,e.context.$implicit.blancas),t(e,4,0,e.context.$implicit.resultado),t(e,6,0,e.context.$implicit.negras),t(e,15,0,e.context.$implicit.evento),t(e,17,0,e.context.$implicit.fecha),t(e,19,0,e.context.$implicit.numero)}))}function Dg(t){return Jo(0,[(t()(),Do(0,0,null,null,38,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h4",[["class","text-center display-4 my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Partidas"])),(t()(),Do(3,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Do(4,0,[["buscarTexto",1]],null,5,"input",[["aria-describedby","button-addon2"],["aria-label","Buscar Partida..."],["class","form-control"],["placeholder","Buscar Partida . . ."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Mr(t,5)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,5).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,5)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,5)._compositionEnd(n.target.value)&&r),"keyup.enter"===e&&(r=!1!==i.buscarPartida(Mr(t,4).value)&&r),"ngModelChange"===e&&(r=!1!==(i.terminoDeBusqueda=n)&&r),r}),null,null)),Qr(5,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(7,671744,null,0,yc,[[8,null],[8,null],[8,null],[6,yl]],{model:[0,"model"]},{update:"ngModelChange"}),Jr(2048,null,kl,null,[yc]),Qr(9,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(10,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(t()(),Do(11,0,null,null,1,"button",[["class","btn btn-outline-primary"],["id","button-addon2"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.buscarPartida(Mr(t,4).value)&&r),r}),null,null)),(t()(),Ko(-1,null,["Buscar"])),(t()(),No(16777216,null,null,1,null,Ag)),Qr(14,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(15,0,null,null,23,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Do(16,0,null,null,22,"table",[["class","table table-bordered table-hover"],["style","zoom: 80%;"]],null,null,null,null,null)),(t()(),Do(17,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Do(18,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Do(19,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Blancas"])),(t()(),Do(21,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Resultado"])),(t()(),Do(23,0,null,null,1,"th",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Negras"])),(t()(),Do(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Ver Final"])),(t()(),Do(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Ver Partida"])),(t()(),Do(29,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Evento"])),(t()(),Do(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fecha"])),(t()(),Do(33,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["ID"])),(t()(),Do(35,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),No(0,[["popContent",2]],null,0,null,xg)),(t()(),No(16777216,null,null,1,null,Ng)),Qr(38,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,7,0,n.terminoDeBusqueda),t(e,14,0,n.info),t(e,38,0,n.partidas)}),(function(t,e){t(e,4,0,Mr(e,9).ngClassUntouched,Mr(e,9).ngClassTouched,Mr(e,9).ngClassPristine,Mr(e,9).ngClassDirty,Mr(e,9).ngClassValid,Mr(e,9).ngClassInvalid,Mr(e,9).ngClassPending)}))}var Og=Er("app-partidas",Wm,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-partidas",[],null,null,null,Dg,Ig)),Qr(1,114688,null,0,Wm,[Tg,lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Pg=function(){function t(e){_classCallCheck(this,t),this.domSanitizer=e}return _createClass(t,[{key:"transform",value:function(t,e){return this.domSanitizer.bypassSecurityTrustResourceUrl(e+t)}}]),t}(),Rg=function(){function t(){_classCallCheck(this,t),this.torneos={},this.torneos.nombre="FIDE Candidates 2020",this.torneos.url=this.torneos.nombre.toLowerCase().split(" ").join("-"),this.torneos.url="".concat(this.torneos.url,"/0")}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Mg=Un({encapsulation:0,styles:[[""]],data:{}});function Lg(t){return Jo(0,[Yr(0,Pg,[il]),(t()(),Do(1,0,null,null,7,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h1",[["class","display-4 text-center my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Torneos"])),(t()(),Do(4,0,null,null,1,"h2",[["class","display-4 text-center mb-5"]],null,null,null,null,null)),(t()(),Ko(5,null,["",""])),(t()(),Do(6,0,null,null,2,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Do(7,0,null,null,1,"iframe",[["height","600"],["width","900"]],[[8,"src",5]],null,null,null,null)),Bo(8,2)],null,(function(t,e){var n=e.component;t(e,5,0,n.torneos.nombre);var r=jn(e,7,0,t(e,8,0,Mr(e,0),n.torneos.url,"https://live.chessbase.com/pgn/"));t(e,7,0,r)}))}var Fg=Er("app-torneos",Rg,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-torneos",[],null,null,null,Lg,Mg)),Qr(1,114688,null,0,Rg,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Vg=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.peticionesServices=e,this.router=n,this.terminoDeBusqueda="",this.peticionesServices.getAlbumes().subscribe((function(t){r.albumes=t.reverse()})),this.info=!1,this.infoMessage="Ingrese un texto para buscar . . ."}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"verAlbum",value:function(t){this.router.navigate(["/album",t])}},{key:"buscarAlbum",value:function(t){var e=this;if(!t.trim().length)return this.info=!0,setTimeout((function(){e.info=!1}),4e3),void(this.terminoDeBusqueda="");this.router.navigate(["/buscar-album",t.trim()])}}]),t}(),jg=Un({encapsulation:0,styles:[[""]],data:{}});function Ug(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"ngb-alert",[["class","text-center animated fadeIn alert"],["role","alert"],["type","danger"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(t,e,n){var r=!0;return"close"===e&&(r=0!=(t.component.info=!1)&&r),r}),vd,dd)),Qr(1,638976,null,0,Ih,[Th,en,$e],{type:[0,"type"]},{close:"close"}),(t()(),Ko(2,0,["",""]))],(function(t,e){t(e,1,0,"danger")}),(function(t,e){var n=e.component;t(e,0,0,Mr(e,1).dismissible),t(e,2,0,n.infoMessage)}))}function qg(t){return Jo(0,[(t()(),Do(0,0,null,null,10,"tr",[["style","cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verAlbum(t.context.$implicit.album_id)&&r),r}),null,null)),(t()(),Do(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(2,null,["",""])),(t()(),Do(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(4,null,["",""])),(t()(),Do(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(6,null,["",""])),(t()(),Do(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(8,null,["",""])),(t()(),Do(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(10,null,["",""]))],null,(function(t,e){t(e,2,0,e.context.$implicit.album_id),t(e,4,0,e.context.$implicit.album),t(e,6,0,e.context.$implicit.lugar),t(e,8,0,e.context.$implicit.fecha),t(e,10,0,e.context.$implicit.cantidadFotos)}))}function zg(t){return Jo(0,[(t()(),Do(0,0,null,null,31,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h1",[["class","display-4 text-center my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Fotos"])),(t()(),Do(3,0,null,null,9,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),Do(4,0,[["buscarTexto",1]],null,5,"input",[["aria-describedby","button-addon2"],["aria-label","Buscar \xc1lbum..."],["class","form-control"],["placeholder","Buscar \xc1lbum . . ."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Mr(t,5)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,5).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,5)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,5)._compositionEnd(n.target.value)&&r),"keyup.enter"===e&&(r=!1!==i.buscarAlbum(Mr(t,4).value)&&r),"ngModelChange"===e&&(r=!1!==(i.terminoDeBusqueda=n)&&r),r}),null,null)),Qr(5,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(7,671744,null,0,yc,[[8,null],[8,null],[8,null],[6,yl]],{model:[0,"model"]},{update:"ngModelChange"}),Jr(2048,null,kl,null,[yc]),Qr(9,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(10,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(t()(),Do(11,0,null,null,1,"button",[["class","btn btn-outline-primary"],["id","button-addon2"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.buscarAlbum(Mr(t,4).value)&&r),r}),null,null)),(t()(),Ko(-1,null,["Buscar"])),(t()(),No(16777216,null,null,1,null,Ug)),Qr(14,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(15,0,null,null,16,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Do(16,0,null,null,15,"table",[["class","table table-bordered table-hover"],["style","zoom: 80%;"]],null,null,null,null,null)),(t()(),Do(17,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Do(18,0,null,null,10,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),Do(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["ID"])),(t()(),Do(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["\xc1lbum"])),(t()(),Do(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Lugar"])),(t()(),Do(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fecha"])),(t()(),Do(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fotos"])),(t()(),Do(29,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,qg)),Qr(31,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,7,0,n.terminoDeBusqueda),t(e,14,0,n.info),t(e,31,0,n.albumes)}),(function(t,e){t(e,4,0,Mr(e,9).ngClassUntouched,Mr(e,9).ngClassTouched,Mr(e,9).ngClassPristine,Mr(e,9).ngClassDirty,Mr(e,9).ngClassValid,Mr(e,9).ngClassInvalid,Mr(e,9).ngClassPending)}))}var Bg=Er("app-fotos",Vg,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-fotos",[],null,null,null,zg,jg)),Qr(1,114688,null,0,Vg,[Tg,lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Hg=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.activatedRoute=e,this.peticionesService=n,this.router=r,this.miArray=[],this.fotos=[],this.mouseEntro=!1,this.id=Number(this.activatedRoute.snapshot.paramMap.get("id")),this.peticionesService.getAlbumes().subscribe((function(t){i.cantidadFotos=t[i.id-1].cantidadFotos;for(var e=1;e<=i.cantidadFotos;e++)i.miArray.push(e);for(var n=0;n<i.miArray.length;n++)i.fotos.push("assets/images/"+t[i.id-1].vinculo+"("+(n+1)+").webp")}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"verFoto",value:function(t,e){this.router.navigate(["/foto",t,e])}},{key:"mouseOver",value:function(t){this.mouseEntro=!0,this.nro=t}},{key:"mouseLeave",value:function(t){this.mouseEntro=!1,this.nro=t}}]),t}(),Gg=Un({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{cursor:pointer}.card-img-overlay[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.4)}"]],data:{}});function Wg(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"div",[["class","col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,0,"img",[["class","img-thumbnail m-3"]],[[8,"src",4],[8,"alt",0]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.verFoto(i.id,t.context.index+1)&&r),r}),null,null))],null,(function(t,e){t(e,1,0,e.context.$implicit,e.context.index+1)}))}function Kg(t){return Jo(0,[(t()(),Do(0,0,null,null,5,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h1",[["class","display-4 text-center my-5"]],null,null,null,null,null)),(t()(),Ko(2,null,["Fotos del \xc1lbum ",""])),(t()(),Do(3,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,Wg)),Qr(5,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.component.fotos)}),(function(t,e){t(e,2,0,e.component.id)}))}var Qg=Er("app-foto",Hg,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-foto",[],null,null,null,Kg,Gg)),Qr(1,114688,null,0,Hg,[ty,Tg,lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Yg=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.activatedRoute=e,this.peticionesService=n,this.router=r,this.album=Number(this.activatedRoute.snapshot.paramMap.get("album")),this.numero=Number(this.activatedRoute.snapshot.paramMap.get("numero")),this.peticionesService.getAlbumes().subscribe((function(t){i.foto="assets/images/".concat(t[i.album-1].vinculo,"(").concat(i.numero,").webp")}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"goBack",value:function(t){this.router.navigate(["/album",t])}}]),t}(),Jg=Un({encapsulation:0,styles:[[""]],data:{}});function $g(t){return Jo(0,[(t()(),Do(0,0,null,null,10,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,4,"div",[["class","d-flex justify-content-start my-5"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,3,"button",[["class","btn btn-outline-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.goBack(i.album)&&r),r}),null,null)),(t()(),Do(3,0,null,null,0,"i",[["class","fas fa-chevron-left fa-2x"]],null,null,null,null,null)),(t()(),Do(4,0,null,null,1,"span",[["class","lead ml-2"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Volver"])),(t()(),Do(6,0,null,null,1,"h1",[["class","display-4 text-center mb-5"]],null,null,null,null,null)),(t()(),Ko(7,null,[" Foto Nro. ",", \xc1lbum Nro. "," "])),(t()(),Do(8,0,null,null,2,"div",[["class","row mb-5"]],null,null,null,null,null)),(t()(),Do(9,0,null,null,1,"div",[["class","col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center"]],null,null,null,null,null)),(t()(),Do(10,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,7,0,n.numero,n.album),t(e,10,0,n.foto,n.numero)}))}var Xg=Er("app-foto-full",Yg,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-foto-full",[],null,null,null,$g,Jg)),Qr(1,114688,null,0,Yg,[ty,Tg,lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Zg=function(){function t(e,n,r){_classCallCheck(this,t),this.activatedRoute=e,this.peticionesService=n,this.router=r,this.albumes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe((function(e){t.termino=e.termino,t.albumes=t.peticionesService.buscarAlbumes(e.termino)}))}},{key:"verAlbum",value:function(t){this.router.navigate(["/album",t])}},{key:"goBack",value:function(){this.router.navigate(["/fotos"])}}]),t}(),t_=Un({encapsulation:0,styles:[[""]],data:{}});function e_(t){return Jo(0,[(t()(),Do(0,0,null,null,6,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Se encontraron "])),(t()(),Do(2,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),Ko(3,null,[""," \xe1lbumes"])),(t()(),Ko(-1,null,[" con el t\xe9rmino: "])),(t()(),Do(5,0,null,null,1,"b",[["class","font-italic"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""]))],null,(function(t,e){var n=e.component;t(e,3,0,n.albumes.length),t(e,6,0,n.termino)}))}function n_(t){return Jo(0,[(t()(),Do(0,0,null,null,6,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Se encontr\xf3 "])),(t()(),Do(2,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),Ko(-1,null,["1 \xe1lbum"])),(t()(),Ko(-1,null,[" con el t\xe9rmino: "])),(t()(),Do(5,0,null,null,1,"b",[["class","font-italic"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""]))],null,(function(t,e){t(e,6,0,e.component.termino)}))}function r_(t){return Jo(0,[(t()(),Do(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,e_)),Qr(3,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,n_)),Qr(5,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,1!=n.albumes.length),t(e,5,0,1==n.albumes.length)}),null)}function i_(t){return Jo(0,[(t()(),Do(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,3,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" No existen resultados con el t\xe9rmino: "])),(t()(),Do(4,0,null,null,1,"b",[["class","font-italic"]],null,null,null,null,null)),(t()(),Ko(5,null,["",""]))],null,(function(t,e){t(e,5,0,e.component.termino)}))}function o_(t){return Jo(0,[(t()(),Do(0,0,null,null,10,"tr",[["style","cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verAlbum(t.context.$implicit.album_id)&&r),r}),null,null)),(t()(),Do(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(2,null,["",""])),(t()(),Do(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(4,null,["",""])),(t()(),Do(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(6,null,["",""])),(t()(),Do(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(8,null,["",""])),(t()(),Do(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(10,null,["",""]))],null,(function(t,e){t(e,2,0,e.context.$implicit.album_id),t(e,4,0,e.context.$implicit.album),t(e,6,0,e.context.$implicit.lugar),t(e,8,0,e.context.$implicit.fecha),t(e,10,0,e.context.$implicit.cantidadFotos)}))}function s_(t){return Jo(0,[(t()(),Do(0,0,null,null,16,"div",[["class","table-responsive mt-5"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,15,"table",[["class","table table-bordered table-hover"],["style","zoom: 80%;"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Do(3,0,null,null,10,"tr",[["class","text-center"]],null,null,null,null,null)),(t()(),Do(4,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["ID"])),(t()(),Do(6,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["\xc1lbum"])),(t()(),Do(8,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Lugar"])),(t()(),Do(10,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fecha"])),(t()(),Do(12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fotos"])),(t()(),Do(14,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,o_)),Qr(16,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,16,0,e.component.albumes)}),null)}function a_(t){return Jo(0,[(t()(),Do(0,0,null,null,13,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h1",[["class","display-4 text-center my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Buscar \xc1lbum"])),(t()(),Do(3,0,null,null,4,"div",[["class","d-flex justify-content-start m-3"]],null,null,null,null,null)),(t()(),Do(4,0,null,null,3,"button",[["class","btn btn-outline-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goBack()&&r),r}),null,null)),(t()(),Do(5,0,null,null,0,"i",[["class","fas fa-chevron-left fa-2x"]],null,null,null,null,null)),(t()(),Do(6,0,null,null,1,"span",[["class","lead ml-2"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Volver"])),(t()(),No(16777216,null,null,1,null,r_)),Qr(9,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,i_)),Qr(11,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,s_)),Qr(13,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,9,0,n.albumes.length),t(e,11,0,0==n.albumes.length),t(e,13,0,0!=n.albumes.length)}),null)}var u_=Er("app-buscar-album",Zg,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-buscar-album",[],null,null,null,a_,t_)),Qr(1,114688,null,0,Zg,[ty,Tg,lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),l_=function(){function t(e){var n=this;_classCallCheck(this,t),this.peticionesServices=e,this.peticionesServices.getFrases().subscribe((function(t){n.frases=t}))}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),c_=Un({encapsulation:0,styles:[[".card-body[_ngcontent-%COMP%]{background-color:#ffffe0}"]],data:{}});function h_(t){return Jo(0,[(t()(),Do(0,0,null,null,7,"div",[["class","card shadow mb-5"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,0,"a",[],[[8,"name",0]],null,null,null,null)),(t()(),Do(2,0,null,null,5,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Do(3,0,null,null,4,"blockquote",[["class","blockquote"]],null,null,null,null,null)),(t()(),Do(4,0,null,null,1,"p",[["class","mb-0"]],null,null,null,null,null)),(t()(),Ko(5,null,['"','"'])),(t()(),Do(6,0,null,null,1,"footer",[["class","blockquote-footer text-right"]],null,null,null,null,null)),(t()(),Ko(7,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit.id),t(e,5,0,e.context.$implicit.frase),t(e,7,0,e.context.$implicit.autor)}))}function f_(t){return Jo(0,[(t()(),Do(0,0,null,null,5,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h1",[["class","display-4 text-center my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Frases"])),(t()(),No(16777216,null,null,1,null,h_)),Qr(5,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,5,0,e.component.frases)}),null)}var d_=Er("app-frases",l_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-frases",[],null,null,null,f_,c_)),Qr(1,114688,null,0,l_,[Tg],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),p_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),v_=Un({encapsulation:0,styles:[[""]],data:{}});function y_(t){return Jo(0,[(t()(),Do(0,0,null,null,7,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,6,"div",[["class","container"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h1",[["class","display-4 text-center my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Dispositivos"])),(t()(),Do(4,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Usando un lector de c\xf3digos QR en el tel\xe9fono celular o en una tablet, puedes apuntar con la c\xe1mara del dispositivo la siguiente imagen, para cargar este sitio en el navegador de su dispositivo."])),(t()(),Do(6,0,null,null,1,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Do(7,0,null,null,0,"img",[["src","assets/images/exported_qrcode_image.webp"]],null,null,null,null,null))],null,null)}var m_=Er("app-dispositivos",p_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-dispositivos",[],null,null,null,y_,v_)),Qr(1,114688,null,0,p_,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),g_=function(){function t(e){_classCallCheck(this,t),this.router=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"verPartida",value:function(){this.router.navigate(["/partida",1])}}]),t}(),__=Un({encapsulation:0,styles:[[".img-articulo[_ngcontent-%COMP%]{width:50%;float:left}"]],data:{}});function b_(t){return Jo(0,[(t()(),Do(0,0,null,null,69,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,68,"div",[["class","container"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h4",[["class","text-center display-4 mb-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Partidas Amistosas"])),(t()(),Do(4,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Muchas son las ocasiones en las que se pueden jugar partidas amistosas de ajedrez: entre ronda y ronda de un torneo, antes o despu\xe9s de un torneo, en casa, en la plaza, en el tren, y un largo etc\xe9tera... "])),(t()(),Do(6,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ko(-1,null,[' Las partidas amistosas que colocamos en Taller de Ajedrez, fueron jugadas en algunas de estas tantas ocasiones que mencionamos unas l\xedneas m\xe1s arriba. Pero cabe destacar que estas partidas, que llamamos \u201camistosas\u201d, al no jugarse formalmente sino que se juegan amistosamente (valga la redundancia), pierden un poco de valor te\xf3rico, y ganan mucho valor pr\xe1ctico. Me refiero a que no se hacen las mejores jugadas \u201cde libro\u201d, pero s\xed las mejores jugadas de \u201cese momento\u201d, el momento en que fueron realizadas. Es as\xed como podemos encontrar partidas \u201cde este tipo\u201d (amistosas), que no dicen mucho a quien busca en ellas una partida ejemplar pero, al visualizarlas en su totalidad, se encuentran detalles muy finos: combinaciones de todo tipo, jugadas posicionales estupendas, remates \u201cde libro\u201d, etc\xe9tera. Es por eso que en Taller de Ajedrez, no nos ahorramos el trabajo de colocarlas en la secci\xf3n "Partidas". '])),(t()(),Do(8,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Ko(-1,null,[" En esta ocasi\xf3n, quisiera compartir con ustedes una breve entrevista con alguien que aport\xf3 las primeras partidas amistosas que se publicaron en el sitio: Es un gusto para mi presentarles a mi pap\xe1: \xa1Jorge Ra\xfal! (ver Foto) "])),(t()(),Do(10,0,null,null,0,"img",[["alt","Jorge Ra\xfal Bastanzo"],["class","img-fluid rounded img-articulo m-3"],["src","assets/images/jorgeraulbastanzo.webp"]],null,null,null,null,null)),(t()(),Do(11,0,null,null,5,"p",[["class","mt-3 animated fadeIn slow "]],null,null,null,null,null)),(t()(),Do(12,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- Redactor (R): \xa1Buenos d\xedas papi! o bien, \xa1Buenos d\xedas Jorge! \xbfC\xf3mo est\xe1s?"])),(t()(),Do(14,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(15,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- Jorge (J): \xa1Hola Nazareno!, \xa1Buenas d\xedas!, \xa1Yo bien! \xbfY vos?"])),(t()(),Do(17,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(18,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: Bien, decime: \xbfCu\xe1l es la partida amistosa, de las publicadas en Taller de Ajedrez hasta ahora, que m\xe1s te gust\xf3?"])),(t()(),Do(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(21,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: Me gust\xf3 m\xe1s la que jugu\xe9 con Carlos. "])),(t()(),Do(23,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(24,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: Ok, \xbfPodr\xedas contarnos bajo qu\xe9 condiciones se disput\xf3 la partida? "])),(t()(),Do(26,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(27,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: Bueno, como detalles ambientales puedo decirte que se jug\xf3 en un torneo de partidas r\xe1pidas a 5 minutos por jugador en un club. Los jugadores de categor\xeda superior ten\xedan que darnos algunos minutos de handicap en el reloj. Cuando est\xe1bamos por empezar Carlos sonriendo me dijo: \u201cyo no pido ni doy ventaja\u201d, mientras correg\xeda la posici\xf3n inicial del reloj. Ser\xeda entonces a 5 minutos; le dije que estaba de acuerdo. Era posible que l\xf3gicamente perdiera, pero no estaba dispuesto a no luchar por el punto. "])),(t()(),Do(29,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(30,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: Ok, y \xbfcu\xe1les fueron las cosas que m\xe1s te gustaron de esta partida?"])),(t()(),Do(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(33,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: Inicialmente intent\xe9 jugar una apertura de pe\xf3n dama, pero cuando juega c5 veo que me quiere sacar de lo que me gusta jugar a mi. Pod\xeda avanzar el pe\xf3n a d5, buscando un esquema benoni, pero me decid\xed por Cf3 que es m\xe1s el\xe1stica y finalmente se transforma en una siciliana por transposici\xf3n. Tambi\xe9n los enroques opuestos, definieron una partida de ataque. "])),(t()(),Do(35,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(36,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: \xbfTe gust\xf3 alguna jugada en particular?"])),(t()(),Do(38,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(39,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: Me gust\xf3 18. Te5, por la doble amenaza de Af7 y Tg5, ganando."])),(t()(),Do(41,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(42,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: En la jugada 19, \xbfno era mejor directamente Tg5?"])),(t()(),Do(44,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(45,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: S\xed es la jugada que te pide el tablero en esa posici\xf3n, pero Tg3 tampoco est\xe1 mal."])),(t()(),Do(47,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(48,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: Claro, pero el remate que hiciste luego, con Tg7+ fue muy bueno."])),(t()(),Do(50,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(51,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: Si, creo que esta jugada fuerza el abandono. Tambi\xe9n me gust\xf3 mucho."])),(t()(),Do(53,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Do(54,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: Bueno Jorge, muchas gracias por tu colaboraci\xf3n en Taller de Ajedrez."])),(t()(),Do(56,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Do(57,0,null,null,1,"em",[["class","italica"]],null,null,null,null,null)),(t()(),Ko(-1,null,["- J: Un gusto, cuando quieras comentamos la otra partida."])),(t()(),Do(59,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),Do(60,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ko(-1,null,["- R: Buen\xedsimo, con esto damos por terminada esta entrevista."])),(t()(),Do(62,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),Do(63,0,null,null,1,"button",[["class","btn btn-outline-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verPartida()&&r),r}),null,null)),(t()(),Ko(-1,null,["Clic aqu\xed para ver la partida completa"])),(t()(),Do(65,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Art\xedculo publicado el "])),(t()(),Do(67,0,null,null,1,"time",[["datetime","2017-02-28"],["pubdate",""]],null,null,null,null,null)),(t()(),Ko(-1,null,["28 de Febrero de 2017"])),(t()(),Ko(-1,null,[", por Taller de Ajedrez. "]))],null,null)}var w_=Er("app-partidas-amistosas",g_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-partidas-amistosas",[],null,null,null,b_,__)),Qr(1,114688,null,0,g_,[lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),k_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),C_=Un({encapsulation:0,styles:[[""]],data:{}});function E_(t){return Jo(0,[(t()(),Do(0,0,null,null,28,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,27,"div",[["class","container"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h1",[["class","display-4 text-center mb-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Partida Tringov vs. Fischer (0 - 1)"])),(t()(),Do(4,0,null,null,1,"p",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Tringov vs. Fischer, Capablanca Memorial (1965): Esta partida tiene una curiosa historia, se jug\xf3 por teletipo ya que las autoridades de Estados Unidos no le permitieron a Fischer viajar a La Habana a jugar el torneo... "])),(t()(),Do(6,0,null,null,1,"p",[["class","text-justify"]],null,null,null,null,null)),(t()(),Ko(-1,null,[' era la \xe9poca de la "guerra fr\xeda" entre las dos principales potencias mundiales, EEUU y la URSS. Este hecho hizo que las partidas duraran muchas horas, ya que las comunicaciones en esa \xe9poca no eran tan eficientes; entre jugada y jugada hab\xeda muchos minutos de espera, no s\xf3lo por la reflexi\xf3n de los jugadores, sino adem\xe1s por el tiempo que insum\xeda el proceso de enviarlas y recibir las respuestas. Durante la partida, la jugada 12...Ab4 de Fischer (ver diagrama siguiente) '])),(t()(),Do(8,0,null,null,1,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Do(9,0,null,null,0,"img",[["alt","Diagrama 1"],["class","img-fluid rounded m-3 animated fadeIn slow"],["src","assets/images/Tringov_Fischer_Diagrama1.webp"]],null,null,null,null,null)),(t()(),Do(10,0,null,null,1,"p",[["class","text-justify"]],null,null,null,null,null)),(t()(),Ko(-1,null,["caus\xf3 sorpresa ya que se consideraba muy inferior. Posteriormente, al recibir por el teletipo la jugada 18... Cc6, Tringov directamente pidi\xf3 confirmaci\xf3n de la misma pues no pod\xeda creer que el genial Bobby cayera en una linea que lo conduc\xeda a recibir mate en un par de jugadas luego de 19.Df7 y 20.Dg8++ (ver diagrama siguiente)."])),(t()(),Do(12,0,null,null,1,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Do(13,0,null,null,0,"img",[["alt","Diagrama 2"],["class","img-fluid rounded m-3"],["src","assets/images/Tringov_Fischer_Diagrama2.webp"]],null,null,null,null,null)),(t()(),Do(14,0,null,null,1,"p",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(-1,null,["La jugada 20...Cf6!! fue un baldazo de agua helada... (ver diagrama siguiente) "])),(t()(),Do(16,0,null,null,1,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Do(17,0,null,null,0,"img",[["alt","Diagrama 3"],["class","img-fluid  m-3"],["src","assets/images/Tringov_Fischer_Diagrama3.webp"]],null,null,null,null,null)),(t()(),Do(18,0,null,null,1,"p",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Fischer as\xed refut\xf3 la teor\xeda del momento y oblig\xf3 a abandonar a su rival en un par de jugadas."])),(t()(),Do(20,0,null,null,3,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),Do(21,0,null,null,2,"button",[["class","btn btn-outline-primary"],["routerLink","/partida/31"],["title","Partida"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Mr(t,22).onClick()&&r),r}),null,null)),Qr(22,16384,null,0,cm,[lm,ty,[8,null],en,$e],{routerLink:[0,"routerLink"]},null),(t()(),Ko(-1,null,["Clic aqu\xed para ver la partida completa"])),(t()(),Do(24,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Art\xedculo publicado el "])),(t()(),Do(26,0,null,null,1,"time",[["datetime","2017-02-26"],["pubdate",""]],null,null,null,null,null)),(t()(),Ko(-1,null,["26 de Febrero de 2017"])),(t()(),Ko(-1,null,[", por Taller de Ajedrez."]))],(function(t,e){t(e,22,0,"/partida/31")}),null)}var S_=Er("app-partida-tringov-fischer",k_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-partida-tringov-fischer",[],null,null,null,E_,C_)),Qr(1,114688,null,0,k_,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),T_=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.estudios=[{titulo:"Estudio de David Gurgenidze",propuesta:"Juegan las blancas y ganan la partida",img:"assets/images/nuevas/estudio-david-gurgenidze.webp"}],this.id="IzvwYriQ6Zs"}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"verSolucion",value:function(){this.auth.login("estudio-david-gurgenidze/1")}}]),t}(),I_=n("WJFD"),A_=n.n(I_),x_=n("gWCv"),N_=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,r.work=n,r}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,n){return n>0||this.closed?_get(_getPrototypeOf(e.prototype),"execute",this).call(this,t,n):this._execute(t,n)}},{key:"requestAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(e.prototype),"requestAsyncId",this).call(this,t,n,r):t.flush(this)}}]),e}(Rc),D_=new(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(Lc))(N_);function O_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new R_(t,e))}}var P_,R_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new M_(t,this.scheduler,this.delay))}}]),t}(),M_=function(t){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).scheduler=n,r.delay=i,r}return _inherits(e,t),_createClass(e,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new L_(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(ph.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(ph.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(ph.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),e}(v),L_=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n},F_=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).scheduler=i,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=n<1?1:n,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _inherits(e,t),_createClass(e,[{key:"nextInfiniteTimeWindow",value:function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new V_(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new S;if(this.isStopped||this.hasError?e=f.EMPTY:(this.observers.push(t),e=new T(this,t)),i&&t.add(t=new M_(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(var a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||D_).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),e}(A),V_=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n},j_=((P_=function(){function t(e){var n,r=this;_classCallCheck(this,t),this.router=e,this.auth0Client$=B(A_()({domain:x_.b,client_id:x_.a,redirect_uri:"".concat(window.location.origin)})).pipe((n={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,l=0,c=!1,h=!1;return function(t){l++,e&&!c||(c=!1,e=new F_(i,s,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){l--,r.unsubscribe(),n&&!h&&a&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(n))}),Lp((function(t){return hh(t)}))),this.isAuthenticated$=this.auth0Client$.pipe(Gp((function(t){return B(t.isAuthenticated())})),oh((function(t){return r.loggedIn=t}))),this.handleRedirectCallback$=this.auth0Client$.pipe(Gp((function(t){return B(t.handleRedirectCallback())}))),this.userProfileSubject$=new xc(null),this.userProfile$=this.userProfileSubject$.asObservable(),this.loggedIn=null,this.localAuthSetup(),this.handleAuthCallback()}return _createClass(t,[{key:"getUser$",value:function(t){var e=this;return this.auth0Client$.pipe(Gp((function(e){return B(e.getUser(t))})),oh((function(t){return e.userProfileSubject$.next(t)})))}},{key:"localAuthSetup",value:function(){var t=this;this.isAuthenticated$.pipe(Gp((function(e){return e?t.getUser$():qc(e)}))).subscribe()}},{key:"login",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.auth0Client$.subscribe((function(e){e.loginWithRedirect({redirect_uri:"".concat(window.location.origin),appState:{target:t}})}))}},{key:"handleAuthCallback",value:function(){var t,e=this,n=window.location.search;n.includes("code=")&&n.includes("state=")&&this.handleRedirectCallback$.pipe(oh((function(e){t=e.appState&&e.appState.target?e.appState.target:"/"})),Gp((function(){return Dc([e.getUser$(),e.isAuthenticated$])}))).subscribe((function(n){var r=_slicedToArray(n,2);r[0],r[1],e.router.navigate([t])}))}},{key:"logout",value:function(){this.auth0Client$.subscribe((function(t){t.logout({client_id:x_.a,returnTo:"".concat(window.location.origin)})}))}}]),t}()).ngInjectableDef=ft({factory:function(){return new P_(Dt(lm))},token:P_,providedIn:"root"}),P_),U_=Un({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{max-width:400px}"]],data:{}});function q_(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"button",[["class","btn btn-outline-primary mt-5"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verSolucion()&&r),r}),null,null)),(t()(),Ko(-1,null,["Ver Soluci\xf3n"]))],null,null)}function z_(t){return Jo(0,[(t()(),Do(0,0,null,null,13,"div",[["class","container mt-3"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,5,"div",[["class","card"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h5",[["class","card-header"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Soluci\xf3n"])),(t()(),Do(4,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Do(5,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Ko(-1,null,["1. g7+ Rg8 2. Ch7 Ta5+ 3. Rb4 Ta4+ 4. Rb3 Ta3+ 5. Rb2 Ta2+ 6. Rc1 Tc2+ 7. Rb1 Tc1+ 8. Rb2 Tc2+ 9. Rb3 Tc3+ 10. Rb4 Tc4+ 11. Rb5 Tc5+ 12. Rb6 (1 - 0)."])),(t()(),Do(7,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),Do(8,0,null,null,1,"h5",[["class","card-header mt-3"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Fuente y explicaci\xf3n del estudio:"])),(t()(),Do(10,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Do(11,0,null,null,2,"div",[["class","embed-responsive embed-responsive-16by9"]],null,null,null,null,null)),(t()(),Do(12,0,null,null,1,"iframe",[["allow","accelerometer; encrypted-media; gyroscope; picture-in-picture"],["allowfullscreen",""],["class","embed-responsive-item"],["frameborder","0"],["height","315"],["width","560"]],[[8,"src",5]],null,null,null,null)),Bo(13,2)],null,(function(t,e){var n=e.component,r=jn(e,12,0,t(e,13,0,Mr(e.parent,0),n.id,"https://www.youtube-nocookie.com/embed/"));t(e,12,0,r)}))}function B_(t){return Jo(0,[Yr(0,Pg,[il]),(t()(),Do(1,0,null,null,10,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,7,"div",[["class","text-center"]],null,null,null,null,null)),(t()(),Do(3,0,null,null,1,"h1",[["class","display-4 my-5"]],null,null,null,null,null)),(t()(),Ko(4,null,["",""])),(t()(),Do(5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ko(6,null,[" "," "])),(t()(),Do(7,0,null,null,0,"img",[["class","rounded mx-auto d-block"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),No(16777216,null,null,1,null,q_)),Qr(9,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,z_)),Qr(11,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,9,0,!1===n.auth.loggedIn),t(e,11,0,!0===n.auth.loggedIn)}),(function(t,e){var n=e.component;t(e,4,0,n.estudios[0].titulo),t(e,6,0,n.estudios[0].propuesta),t(e,7,0,n.estudios[0].img,n.estudios[0].titulo)}))}var H_=Er("app-estudio-david-gurgenidze",T_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-estudio-david-gurgenidze",[],null,null,null,B_,U_)),Qr(1,114688,null,0,T_,[j_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),G_=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.activatedRoute=e,this.peticionesService=n,this.id=Number(this.activatedRoute.snapshot.paramMap.get("id"))-1,this.peticionesService.getPartidas().subscribe((function(t){r.partidaId=t[r.id].id,r.blancas=t[r.id].blancas,r.negras=t[r.id].negras,r.resultado=t[r.id].resultado}))}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),W_=Un({encapsulation:0,styles:[[""]],data:{}});function K_(t){return Jo(0,[Yr(0,Pg,[il]),(t()(),Do(1,0,null,null,10,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h4",[["class","text-center display-4 my-5"]],null,null,null,null,null)),(t()(),Ko(3,null,[" Partida "," "])),(t()(),Do(4,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),Do(5,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),Do(6,0,null,null,1,"div",[["class","card-header text-center"]],null,null,null,null,null)),(t()(),Ko(7,null,[" "," vs. "," (",") "])),(t()(),Do(8,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Do(9,0,null,null,2,"div",[["class","embed-responsive embed-responsive-16by9"]],null,null,null,null,null)),(t()(),Do(10,0,null,null,1,"iframe",[["class","embed-responsive-item"],["frameborder","0"],["height","397"],["width","600"]],[[8,"src",5]],null,null,null,null)),Bo(11,2)],null,(function(t,e){var n=e.component;t(e,3,0,n.id+1),t(e,7,0,n.blancas,n.negras,n.resultado);var r=jn(e,10,0,t(e,11,0,Mr(e,0),n.partidaId,"https://lichess.org/embed/"));t(e,10,0,r)}))}var Q_=Er("app-partida",G_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-partida",[],null,null,null,K_,W_)),Qr(1,114688,null,0,G_,[ty,Tg],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Y_=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.activatedRoute=e,this.peticionesService=n,this.router=r,this.partidas=[],this.activatedRoute.params.subscribe((function(t){i.termino=t.termino,i.partidas=i.peticionesService.buscarPartidas(t.termino)}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"verPartida",value:function(t){this.router.navigate(["/partida",t])}},{key:"goBack",value:function(){this.router.navigate(["/partidas"])}},{key:"setSrcImgPop",value:function(t){this.srcImgPop="assets/images/nuevas/tooltips/".concat(t,".webp")}}]),t}(),J_=Un({encapsulation:0,styles:[[""]],data:{}});function $_(t){return Jo(0,[(t()(),Do(0,0,null,null,6,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Se encontraron "])),(t()(),Do(2,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),Ko(3,null,[""," partidas"])),(t()(),Ko(-1,null,[" con el t\xe9rmino: "])),(t()(),Do(5,0,null,null,1,"b",[["class","font-italic"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""]))],null,(function(t,e){var n=e.component;t(e,3,0,n.partidas.length),t(e,6,0,n.termino)}))}function X_(t){return Jo(0,[(t()(),Do(0,0,null,null,6,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Se encontr\xf3 "])),(t()(),Do(2,0,null,null,1,"u",[],null,null,null,null,null)),(t()(),Ko(-1,null,["1 partida"])),(t()(),Ko(-1,null,[" con el t\xe9rmino: "])),(t()(),Do(5,0,null,null,1,"b",[["class","font-italic"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""]))],null,(function(t,e){t(e,6,0,e.component.termino)}))}function Z_(t){return Jo(0,[(t()(),Do(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,$_)),Qr(3,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,X_)),Qr(5,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,1!=n.partidas.length),t(e,5,0,1==n.partidas.length)}),null)}function tb(t){return Jo(0,[(t()(),Do(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,3,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" No existen resultados con el t\xe9rmino: "])),(t()(),Do(4,0,null,null,1,"b",[["class","font-italic"]],null,null,null,null,null)),(t()(),Ko(5,null,["",""]))],null,(function(t,e){t(e,5,0,e.component.termino)}))}function eb(t){return Jo(0,[(t()(),Do(0,0,null,null,0,"img",[["alt","numero"],["class","img-thumbnail"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.component.srcImgPop)}))}function nb(t){return Jo(0,[(t()(),Do(0,0,null,null,19,"tr",[],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(2,null,["",""])),(t()(),Do(3,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(4,null,["",""])),(t()(),Do(5,0,null,null,1,"td",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""])),(t()(),Do(7,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Do(8,16777216,null,null,2,"button",[["class","btn btn-outline-info"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setSrcImgPop(t.context.$implicit.numero)&&r),r}),null,null)),Qr(9,737280,null,0,td,[$e,en,Ee,Ke,Cn,$f,Wi,ou,be,co],{ngbPopover:[0,"ngbPopover"]},null),(t()(),Ko(-1,null,["Ver Final"])),(t()(),Do(11,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Do(12,0,null,null,1,"button",[["class","btn btn-outline-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verPartida(t.context.$implicit.numero)&&r),r}),null,null)),(t()(),Ko(-1,null,["Ver Partida"])),(t()(),Do(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(15,null,["",""])),(t()(),Do(16,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(17,null,["",""])),(t()(),Do(18,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(19,null,["",""]))],(function(t,e){t(e,9,0,Mr(e.parent,21))}),(function(t,e){t(e,2,0,e.context.$implicit.blancas),t(e,4,0,e.context.$implicit.resultado),t(e,6,0,e.context.$implicit.negras),t(e,15,0,e.context.$implicit.evento),t(e,17,0,e.context.$implicit.fecha),t(e,19,0,e.context.$implicit.numero)}))}function rb(t){return Jo(0,[(t()(),Do(0,0,null,null,23,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,22,"table",[["class","table table-bordered table-hover"],["style","zoom: 80%;"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Do(3,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Do(4,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Blancas"])),(t()(),Do(6,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Resultado"])),(t()(),Do(8,0,null,null,1,"th",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Negras"])),(t()(),Do(10,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Ver Final"])),(t()(),Do(12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Ver Partida"])),(t()(),Do(14,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Evento"])),(t()(),Do(16,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fecha"])),(t()(),Do(18,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["ID"])),(t()(),Do(20,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),No(0,[["popContent",2]],null,0,null,eb)),(t()(),No(16777216,null,null,1,null,nb)),Qr(23,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,23,0,e.component.partidas)}),null)}function ib(t){return Jo(0,[(t()(),Do(0,0,null,null,13,"div",[["class","container-fluid animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h4",[["class","text-center display-4 my-5"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Buscar Partidas"])),(t()(),Do(3,0,null,null,4,"div",[["class","d-flex justify-content-start m-3"]],null,null,null,null,null)),(t()(),Do(4,0,null,null,3,"button",[["class","btn btn-outline-primary"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goBack()&&r),r}),null,null)),(t()(),Do(5,0,null,null,0,"i",[["class","fas fa-chevron-left fa-2x"]],null,null,null,null,null)),(t()(),Do(6,0,null,null,1,"span",[["class","lead ml-2"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Volver"])),(t()(),No(16777216,null,null,1,null,Z_)),Qr(9,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,tb)),Qr(11,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,rb)),Qr(13,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,9,0,0!=n.partidas.length),t(e,11,0,0==n.partidas.length),t(e,13,0,0!=n.partidas.length)}),null)}var ob=Er("app-buscador",Y_,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-buscador",[],null,null,null,ib,J_)),Qr(1,114688,null,0,Y_,[ty,Tg,lm],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),sb=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),ab=Un({encapsulation:0,styles:[[""]],data:{}});function ub(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),Do(1,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Mr(t,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Qr(2,671744,null,0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(3,1),(t()(),Ko(-1,null,["Administrar sitio"]))],(function(t,e){var n=t(e,3,0,"/admin");t(e,2,0,n)}),(function(t,e){t(e,1,0,Mr(e,2).target,Mr(e,2).href)}))}function lb(t){return Jo(0,[(t()(),Do(0,0,null,null,7,"div",[["class","container text-center"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h1",[["class","display-4"]],null,null,null,null,null)),(t()(),Ko(2,null,[" "," "])),(t()(),Do(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ko(4,null,[" "," "])),(t()(),Do(5,0,null,null,0,"img",[["alt","Imagen del perfil"],["class","img-thumbnail"]],[[8,"src",4]],null,null,null,null)),(t()(),No(16777216,null,null,1,null,ub)),Qr(7,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,7,0,"admin"===e.context.ngIf["https://tallerdeajedrez.com.ar/api"][0])}),(function(t,e){t(e,2,0,e.context.ngIf.name),t(e,4,0,e.context.ngIf.email),t(e,5,0,e.context.ngIf.picture)}))}function cb(t){return Jo(0,[(t()(),No(16777216,null,null,2,null,lb)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),Yr(131072,ru,[be])],(function(t,e){var n=e.component;t(e,1,0,jn(e,1,0,Mr(e,2).transform(n.auth.userProfile$)))}),null)}var hb=Er("app-profile",sb,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-profile",[],null,null,null,cb,ab)),Qr(1,114688,null,0,sb,[j_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),fb=function(){function t(e,n){_classCallCheck(this,t),this.firestoreService=e,this.auth=n,this.partidas=[],this.documentId=null,this.currentStatus=1,this.newForm=new ac({id:new sc("",Al.required),blancas:new sc("",Al.required),negras:new sc("",Al.required),resultado:new sc("",Al.required),evento:new sc("",Al.required),fecha:new sc("",Al.required)}),this.newForm.setValue({id:"",blancas:"",negras:"",resultado:"",evento:"",fecha:""})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.firestoreService.getAll().subscribe((function(e){t.partidas=[],e.forEach((function(e){t.partidas.push({id:e.payload.doc.id,data:e.payload.doc.data()})}))}))}},{key:"nuevaPartida",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.documentId;console.log("Status: ".concat(this.currentStatus)),1===this.currentStatus?this.firestoreService.crearColeccion({id:t.id,blancas:t.blancas,negras:t.negras,resultado:t.resultado,evento:t.evento,fecha:t.fecha}).then((function(){console.log("Documento creado exit\xf3samente!"),e.newForm.setValue({id:"",blancas:"",negras:"",resultado:"",evento:"",fecha:""}),window.scroll(0,0)}),(function(t){console.error(t)})):this.firestoreService.updateOne(n,{id:t.id,blancas:t.blancas,negras:t.negras,resultado:t.resultado,evento:t.evento,fecha:t.fecha}).then((function(){e.currentStatus=1,e.newForm.setValue({id:"",blancas:"",negras:"",resultado:"",evento:"",fecha:""}),console.log("Documento editado exit\xf3samente"),window.scroll(0,0)}),(function(t){console.log(t)}))}},{key:"editarPartida",value:function(t){var e=this,n=this.firestoreService.getOne(t).subscribe((function(r){e.currentStatus=2,e.documentId=t,e.newForm.setValue({id:r.payload.data().id,blancas:r.payload.data().blancas,negras:r.payload.data().negras,resultado:r.payload.data().resultado,evento:r.payload.data().evento,fecha:r.payload.data().fecha}),n.unsubscribe()}))}},{key:"eliminarPartida",value:function(t){confirm("\xbfSeguro de eliminar la partida?")&&this.firestoreService.deleteOne(t).then((function(){console.log("Documento eliminado!")}),(function(t){console.error(t)}))}}]),t}();function db(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fc;return new k((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function pb(t,e){return db(t,e).pipe(j((function(t){return{payload:t,type:"query"}})))}function vb(t,e){return pb(t,e).pipe(j((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function yb(t,e,n){return pb(t,n).pipe(j((function(t){return t.payload.docChanges()})),zp((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),j((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function mb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var gb=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?vb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Jc((function(t){return t.length>0}))):vb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(zp((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=mb(t);return yb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign({},e.data(),_defineProperty({},t.idField,e.id)):e.data()}))})))}},{key:"get",value:function(t){return B(this.query.get(t)).pipe(O_(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new _b(this.ref.doc(t),this.afs)}}]),t}(),_b=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=$b(this.ref.collection(t),e),r=n.ref,i=n.query;return new gb(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return db(this.ref,this.afs.schedulers.outsideAngular).pipe(j((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(j((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return B(this.ref.get(t)).pipe(O_(this.afs.schedulers.insideAngular))}}]),t}(),bb=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?vb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Jc((function(t){return t.length>0}))):vb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(zp((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=mb(t);return yb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return pb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,j((function(t){return t.payload.docs.map((function(t){return t.data()}))})))}},{key:"get",value:function(t){return B(this.query.get(t)).pipe(O_(this.afs.schedulers.insideAngular))}}]),t}(),wb=1,kb=Promise.resolve(),Cb={};function Eb(t){return t in Cb&&(delete Cb[t],!0)}var Sb=function(t){var e=wb++;return Cb[e]=!0,kb.then((function(){return Eb(e)&&t()})),e},Tb=function(t){Eb(t)},Ib=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,r.work=n,r}return _inherits(e,t),_createClass(e,[{key:"requestAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(e.prototype),"requestAsyncId",this).call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=Sb(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(e.prototype),"recycleAsyncId",this).call(this,t,n,r);0===t.actions.length&&(Tb(n),t.scheduled=void 0)}}]),e}(Rc),Ab=new(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),e}(Lc))(Ib),xb=function(t){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ab;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,n.delayTime=i,n.scheduler=o,(!(!u(r=i)&&r-parseFloat(r)+1>=0)||i<0)&&(n.delayTime=0),o&&"function"==typeof o.schedule||(n.scheduler=Ab),n}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(e.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ab;return new e(t,n,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),e}(k),Nb=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new xb(e,this.delay,this.scheduler).subscribe(t)}}]),t}();function Db(){}var Ob,Pb=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),Rb=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Db,{},Db,Db)})),e.pipe(oh(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),t}(),Mb=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new Pb(Zone.current)})),this.insideAngular=e.run((function(){return new Pb(Zone.current,Fc)}))},Lb=n("Wcq6"),Fb=n.n(Lb),Vb=new Et("angularfire2.app.options"),jb=new Et("angularfire2.app.nameOrConfig"),Ub=Vb,qb=jb,zb=function t(){_classCallCheck(this,t)},Bb=new rn("5.4.2");function Hb(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Fb.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return Fb.a.initializeApp(t,r)}))}var Gb=Ob=function(){function t(e){_classCallCheck(this,t),Fb.a.registerVersion&&(Fb.a.registerVersion("angularfire",Bb.full,e.toString()),Fb.a.registerVersion("angular",on.full))}return _createClass(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:Ob,providers:[{provide:Ub,useValue:t},{provide:qb,useValue:e}]}}}]),t}(),Wb=new Et("angularfire2.enableFirestorePersistence"),Kb=new Et("angularfire2.firestore.persistenceSettings"),Qb=new Et("angularfire2.firestore.settings"),Yb=parseInt(Fb.a.SDK_VERSION.split(".")[0]),Jb=Yb<5||5==Yb&&parseInt(Fb.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function $b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Xb,Zb=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this.schedulers=new Mb(s),this.keepUnstableUntilFirst=function(t,e){return function(n){return su(e)&&(n=n.lift(new Rb(t.ngZone))),n.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Nb(t,e))}}(t.outsideAngular),O_(t.insideAngular))}}(this.schedulers,o),this.firestore=s.runOutsideAngular((function(){var t=Hb(e,s,n).firestore();return t.settings(i||Jb),t})),this.persistenceEnabled$=r&&!su(o)?s.runOutsideAngular((function(){try{return B(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return qc(!1)}})):qc(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=$b("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new gb(r,i,this)}},{key:"collectionGroup",value:function(t,e){if(Yb<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new bb(n(r),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new _b(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}(),tw=((Xb=function(){function t(e){_classCallCheck(this,t),this.firestore=e}return _createClass(t,[{key:"crearColeccion",value:function(t){return this.firestore.collection("mi_coleccion").add(t)}},{key:"getOne",value:function(t){return this.firestore.collection("mi_coleccion").doc(t).snapshotChanges()}},{key:"getAll",value:function(){return this.firestore.collection("mi_coleccion").snapshotChanges()}},{key:"updateOne",value:function(t,e){return this.firestore.collection("mi_coleccion").doc(t).set(e)}},{key:"deleteOne",value:function(t){return this.firestore.collection("mi_coleccion").doc(t).delete()}}]),t}()).ngInjectableDef=ft({factory:function(){return new Xb(Dt(Zb))},token:Xb,providedIn:"root"}),Xb),ew=Un({encapsulation:0,styles:[[""]],data:{}});function nw(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Agregar"]))],null,null)}function rw(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Editar"]))],null,null)}function iw(t){return Jo(0,[(t()(),Do(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(2,null,["",""])),(t()(),Do(3,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(4,null,["",""])),(t()(),Do(5,0,null,null,1,"td",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(6,null,["",""])),(t()(),Do(7,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(8,null,["",""])),(t()(),Do(9,0,null,null,1,"td",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(10,null,["",""])),(t()(),Do(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(12,null,["",""])),(t()(),Do(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ko(14,null,["",""])),(t()(),Do(15,0,null,null,5,"td",[],null,null,null,null,null)),(t()(),Do(16,0,null,null,4,"div",[["class","btn-group"],["role","group"]],null,null,null,null,null)),(t()(),Do(17,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.editarPartida(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Ko(-1,null,["Editar"])),(t()(),Do(19,0,null,null,1,"button",[["class","btn btn-secondary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.eliminarPartida(t.context.$implicit.id)&&r),r}),null,null)),(t()(),Ko(-1,null,["Eliminar"]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.data.id),t(e,6,0,e.context.$implicit.data.blancas),t(e,8,0,e.context.$implicit.data.resultado),t(e,10,0,e.context.$implicit.data.negras),t(e,12,0,e.context.$implicit.data.evento),t(e,14,0,e.context.$implicit.data.fecha)}))}function ow(t){return Jo(0,[(t()(),Do(0,0,null,null,95,"div",[],null,null,null,null,null)),(t()(),Do(1,0,null,null,94,"div",[["class","container-fluid bg-dark py-5"],["style","color: white;"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,93,"div",[["class","row"]],null,null,null,null,null)),(t()(),Do(3,0,null,null,68,"div",[["class","col-3"]],null,null,null,null,null)),(t()(),Do(4,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Partidas"])),(t()(),Do(6,0,null,null,65,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Mr(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==Mr(t,8).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.nuevaPartida(i.newForm.value)&&r),r}),null,null)),Qr(7,16384,null,0,mc,[],null,null),Qr(8,540672,null,0,_c,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Jr(2048,null,bl,null,[_c]),Qr(10,16384,null,0,Sl,[[4,bl]],null,null),(t()(),Do(11,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Do(12,0,null,null,1,"label",[["for","id"]],null,null,null,null,null)),(t()(),Ko(-1,null,["ID"])),(t()(),Do(14,0,null,null,5,"input",[["class","form-control"],["formControlName","id"],["id","id"],["name","id"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Mr(t,15)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,15).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,15)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,15)._compositionEnd(n.target.value)&&r),r}),null,null)),Qr(15,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(17,671744,null,0,Ec,[[3,bl],[8,null],[8,null],[6,yl],[2,gc]],{name:[0,"name"]},null),Jr(2048,null,kl,null,[Ec]),Qr(19,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(20,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Do(21,0,null,null,1,"label",[["for","blancas"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Blancas"])),(t()(),Do(23,0,null,null,5,"input",[["class","form-control"],["formControlName","blancas"],["id","blancas"],["name","blancas"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Mr(t,24)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,24).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,24)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,24)._compositionEnd(n.target.value)&&r),r}),null,null)),Qr(24,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(26,671744,null,0,Ec,[[3,bl],[8,null],[8,null],[6,yl],[2,gc]],{name:[0,"name"]},null),Jr(2048,null,kl,null,[Ec]),Qr(28,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(29,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Do(30,0,null,null,1,"label",[["for","negras"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Negras"])),(t()(),Do(32,0,null,null,5,"input",[["class","form-control"],["formControlName","negras"],["id","negras"],["name","negras"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Mr(t,33)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,33).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,33)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,33)._compositionEnd(n.target.value)&&r),r}),null,null)),Qr(33,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(35,671744,null,0,Ec,[[3,bl],[8,null],[8,null],[6,yl],[2,gc]],{name:[0,"name"]},null),Jr(2048,null,kl,null,[Ec]),Qr(37,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(38,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Do(39,0,null,null,1,"label",[["for","resultado"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Resultado"])),(t()(),Do(41,0,null,null,5,"input",[["class","form-control"],["formControlName","resultado"],["id","resultado"],["name","resultado"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Mr(t,42)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,42).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,42)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,42)._compositionEnd(n.target.value)&&r),r}),null,null)),Qr(42,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(44,671744,null,0,Ec,[[3,bl],[8,null],[8,null],[6,yl],[2,gc]],{name:[0,"name"]},null),Jr(2048,null,kl,null,[Ec]),Qr(46,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(47,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Do(48,0,null,null,1,"label",[["for","evento"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Evento"])),(t()(),Do(50,0,null,null,5,"input",[["class","form-control"],["formControlName","evento"],["id","evento"],["name","evento"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Mr(t,51)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,51).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,51)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,51)._compositionEnd(n.target.value)&&r),r}),null,null)),Qr(51,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(53,671744,null,0,Ec,[[3,bl],[8,null],[8,null],[6,yl],[2,gc]],{name:[0,"name"]},null),Jr(2048,null,kl,null,[Ec]),Qr(55,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(56,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Do(57,0,null,null,1,"label",[["for","fecha"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Fecha"])),(t()(),Do(59,0,null,null,5,"input",[["class","form-control"],["formControlName","fecha"],["id","fecha"],["name","fecha"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Mr(t,60)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Mr(t,60).onTouched()&&r),"compositionstart"===e&&(r=!1!==Mr(t,60)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Mr(t,60)._compositionEnd(n.target.value)&&r),r}),null,null)),Qr(60,16384,null,0,gl,[en,$e,[2,ml]],null,null),Jr(1024,null,yl,(function(t){return[t]}),[gl]),Qr(62,671744,null,0,Ec,[[3,bl],[8,null],[8,null],[6,yl],[2,gc]],{name:[0,"name"]},null),Jr(2048,null,kl,null,[Ec]),Qr(64,16384,null,0,El,[[4,kl]],null,null),(t()(),Do(65,0,null,null,4,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),No(16777216,null,null,1,null,nw)),Qr(67,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,rw)),Qr(69,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(70,0,null,null,1,"button",[["class","btn btn-secondary"],["type","reset"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==(t.component.currentStatus=1)&&r),r}),null,null)),(t()(),Ko(-1,null,["Cancelar"])),(t()(),Do(72,0,null,null,23,"div",[["class","col-9"]],null,null,null,null,null)),(t()(),Do(73,0,null,null,22,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Do(74,0,null,null,21,"table",[["class","table table-bordered"],["style","zoom: 80%;color: white;"]],null,null,null,null,null)),(t()(),Do(75,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Do(76,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Do(77,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["#"])),(t()(),Do(79,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(-1,null,["ID"])),(t()(),Do(81,0,null,null,1,"th",[["class","text-right"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Blancas"])),(t()(),Do(83,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Resultado"])),(t()(),Do(85,0,null,null,1,"th",[["class","text-left"]],null,null,null,null,null)),(t()(),Ko(-1,null,["Negras"])),(t()(),Do(87,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Evento"])),(t()(),Do(89,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Fecha"])),(t()(),Do(91,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ko(-1,null,["Acci\xf3n"])),(t()(),Do(93,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,iw)),Qr(95,278528,null,0,Qa,[Cn,wn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,8,0,n.newForm),t(e,17,0,"id"),t(e,26,0,"blancas"),t(e,35,0,"negras"),t(e,44,0,"resultado"),t(e,53,0,"evento"),t(e,62,0,"fecha"),t(e,67,0,1===n.currentStatus),t(e,69,0,2===n.currentStatus),t(e,95,0,n.partidas)}),(function(t,e){var n=e.component;t(e,6,0,Mr(e,10).ngClassUntouched,Mr(e,10).ngClassTouched,Mr(e,10).ngClassPristine,Mr(e,10).ngClassDirty,Mr(e,10).ngClassValid,Mr(e,10).ngClassInvalid,Mr(e,10).ngClassPending),t(e,14,0,Mr(e,19).ngClassUntouched,Mr(e,19).ngClassTouched,Mr(e,19).ngClassPristine,Mr(e,19).ngClassDirty,Mr(e,19).ngClassValid,Mr(e,19).ngClassInvalid,Mr(e,19).ngClassPending),t(e,23,0,Mr(e,28).ngClassUntouched,Mr(e,28).ngClassTouched,Mr(e,28).ngClassPristine,Mr(e,28).ngClassDirty,Mr(e,28).ngClassValid,Mr(e,28).ngClassInvalid,Mr(e,28).ngClassPending),t(e,32,0,Mr(e,37).ngClassUntouched,Mr(e,37).ngClassTouched,Mr(e,37).ngClassPristine,Mr(e,37).ngClassDirty,Mr(e,37).ngClassValid,Mr(e,37).ngClassInvalid,Mr(e,37).ngClassPending),t(e,41,0,Mr(e,46).ngClassUntouched,Mr(e,46).ngClassTouched,Mr(e,46).ngClassPristine,Mr(e,46).ngClassDirty,Mr(e,46).ngClassValid,Mr(e,46).ngClassInvalid,Mr(e,46).ngClassPending),t(e,50,0,Mr(e,55).ngClassUntouched,Mr(e,55).ngClassTouched,Mr(e,55).ngClassPristine,Mr(e,55).ngClassDirty,Mr(e,55).ngClassValid,Mr(e,55).ngClassInvalid,Mr(e,55).ngClassPending),t(e,59,0,Mr(e,64).ngClassUntouched,Mr(e,64).ngClassTouched,Mr(e,64).ngClassPristine,Mr(e,64).ngClassDirty,Mr(e,64).ngClassValid,Mr(e,64).ngClassInvalid,Mr(e,64).ngClassPending),t(e,65,0,!n.newForm.valid)}))}function sw(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"h1",[["class","text-center"]],null,null,null,null,null)),(t()(),Ko(-1,null,["No puede acceder como administrador."]))],null,null)}function aw(t){return Jo(0,[(t()(),Do(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,ow)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,sw)),Qr(4,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,"admin"===e.context.ngIf["https://tallerdeajedrez.com.ar/api"][0]),t(e,4,0,"user"===e.context.ngIf["https://tallerdeajedrez.com.ar/api"][0])}),null)}function uw(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),No(16777216,null,null,2,null,aw)),Qr(2,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),Yr(131072,ru,[be])],(function(t,e){var n=e.component;t(e,2,0,jn(e,2,0,Mr(e,3).transform(n.auth.userProfile$)))}),null)}function lw(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,uw)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,!0===e.component.auth.loggedIn)}),null)}var cw=Er("app-admin",fb,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-admin",[],null,null,null,lw,ew)),Qr(1,114688,null,0,fb,[tw,j_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),hw=function(){function t(e){_classCallCheck(this,t),this.auth=e,this.isMenuCollapsed=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),fw=Un({encapsulation:0,styles:[[".navbar-transparente[_ngcontent-%COMP%]{background-color:rgba(52,58,64,.7)}.navbar-transparente[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#5cb3fd}.navbar-toggler[_ngcontent-%COMP%]{border-color:#fff}.navbar-toggler[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}"]],data:{}});function dw(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"button",[["class","btn btn-outline-light btn-margin"],["id","qsLoginBtn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.login("perfil")&&r),r}),null,null)),(t()(),Ko(-1,null,["Ingresar"]))],null,null)}function pw(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"div",[["class","dropdown-header"]],null,null,null,null,null)),(t()(),Ko(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.context.ngIf.name)}))}function vw(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"a",[["class","dropdown-item dropdown-profile"],["routerLink","/perfil"],["style","color: black;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(1,671744,null,0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),(t()(),Do(2,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Perfil "]))],(function(t,e){t(e,1,0,"/perfil")}),(function(t,e){t(e,0,0,Mr(e,1).target,Mr(e,1).href)}))}function yw(t){return Jo(0,[(t()(),Do(0,0,null,null,18,"li",[["class","nav-item dropdown"],["ngbDropdown","ngbDropdown"]],[[2,"show",null]],null,null,null,null)),Qr(1,1720320,null,3,Df,[be,Tf,ou,Wi,$e,en,[2,If]],null,null),Lo(603979776,13,{_menu:0}),Lo(603979776,14,{_menuElement:0}),Lo(603979776,15,{_anchor:0}),(t()(),Do(5,0,null,null,3,"a",[["aria-haspopup","true"],["class","nav-link dropdown-toggle dropdown-toggle"],["data-toggle","dropdown"],["id","profileDropDown"],["ngbDropdownToggle","ngbDropdownToggle"]],[[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Mr(t,6).dropdown.toggle()&&r),"keydown.ArrowUp"===e&&(r=!1!==Mr(t,6).dropdown.onKeyDown(n)&&r),"keydown.ArrowDown"===e&&(r=!1!==Mr(t,6).dropdown.onKeyDown(n)&&r),"keydown.Home"===e&&(r=!1!==Mr(t,6).dropdown.onKeyDown(n)&&r),"keydown.End"===e&&(r=!1!==Mr(t,6).dropdown.onKeyDown(n)&&r),r}),null,null)),Qr(6,16384,null,0,Nf,[Df,$e],null,null),Jr(2048,[[15,4]],xf,null,[Nf]),(t()(),Do(8,0,null,null,0,"img",[["alt","Profile picture"],["class","nav-user-profile rounded-circle"],["style","width: 30px"]],[[8,"src",4]],null,null,null,null)),(t()(),Do(9,0,[[14,0]],null,9,"div",[["class","dropdown-menu dropdown-menu-left"],["ngbDropdownMenu","ngbDropdownMenu"]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],[[null,"keydown.ArrowUp"],[null,"keydown.ArrowDown"],[null,"keydown.Home"],[null,"keydown.End"],[null,"keydown.Enter"],[null,"keydown.Space"]],(function(t,e,n){var r=!0;return"keydown.ArrowUp"===e&&(r=!1!==Mr(t,10).dropdown.onKeyDown(n)&&r),"keydown.ArrowDown"===e&&(r=!1!==Mr(t,10).dropdown.onKeyDown(n)&&r),"keydown.Home"===e&&(r=!1!==Mr(t,10).dropdown.onKeyDown(n)&&r),"keydown.End"===e&&(r=!1!==Mr(t,10).dropdown.onKeyDown(n)&&r),"keydown.Enter"===e&&(r=!1!==Mr(t,10).dropdown.onKeyDown(n)&&r),"keydown.Space"===e&&(r=!1!==Mr(t,10).dropdown.onKeyDown(n)&&r),r}),null,null)),Qr(10,16384,[[13,4]],1,Af,[Df],null,null),Lo(603979776,16,{menuItems:1}),(t()(),No(16777216,null,null,1,null,pw)),Qr(13,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,1,null,vw)),Qr(15,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(16,0,null,null,2,"button",[["class","btn btn-link dropdown-item"],["id","qsLogoutBtn"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(i.isMenuCollapsed=!0,r=!1!==i.auth.logout()&&r),r}),null,null)),(t()(),Do(17,0,null,null,0,"i",[["class","fa fa-power-off"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Log out "]))],(function(t,e){t(e,13,0,e.context.ngIf),t(e,15,0,e.context.ngIf)}),(function(t,e){t(e,0,0,Mr(e,1).isOpen()),t(e,5,0,Mr(e,6).dropdown.isOpen()),t(e,8,0,e.context.ngIf.picture),t(e,9,0,!0,Mr(e,10).dropdown.isOpen(),Mr(e,10).placement)}))}function mw(t){return Jo(0,[(t()(),Do(0,0,null,null,2,"ul",[["class","navbar-nav d-md-none"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,1,"button",[["class","btn btn-outline-light btn-block"],["id","qsLoginBtn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.login("perfil")&&r),r}),null,null)),(t()(),Ko(-1,null,["Ingresar"]))],null,null)}function gw(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"span",[["class","user-info"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,0,"img",[["alt","Profile picture"],["class","nav-user-profile d-inline-block rounded-circle mr-3"],["style","width: 30px"]],[[8,"src",4]],null,null,null,null)),(t()(),Do(2,0,null,null,1,"h6",[["class","d-inline-block"]],null,null,null,null,null)),(t()(),Ko(3,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.context.ngIf.picture),t(e,3,0,e.parent.context.ngIf.name)}))}function _w(t){return Jo(0,[(t()(),Do(0,0,null,null,13,"ul",[["class","navbar-nav d-md-none justify-content-between"],["style","min-height: 170px"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,gw)),Qr(3,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),Do(4,0,null,null,5,"li",[["style","color: white !important;"]],null,null,null,null,null)),(t()(),Do(5,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" \xa0 "])),(t()(),Do(7,0,null,null,2,"a",[["routerLink","/perfil"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(8,671744,null,0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),(t()(),Ko(-1,null,["Perfil"])),(t()(),Do(10,0,null,null,3,"li",[["style","color: white !important;"]],null,null,null,null,null)),(t()(),Do(11,0,null,null,2,"button",[["class","btn btn-outline-light btn-sm"],["id","qsLogoutBtn"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.auth.logout()&&r),r}),null,null)),(t()(),Do(12,0,null,null,0,"i",[["class","fa fa-power-off"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" \xa0 Log out "]))],(function(t,e){t(e,3,0,e.context.ngIf),t(e,8,0,"/perfil")}),(function(t,e){t(e,7,0,Mr(e,8).target,Mr(e,8).href)}))}function bw(t){return Jo(0,[(t()(),Do(0,0,null,null,73,"nav",[["class","navbar navbar-expand-lg sticky-top navbar-transparente"]],null,null,null,null,null)),Qr(1,16384,null,0,If,[],null,null),(t()(),Do(2,0,null,null,4,"a",[["class","navbar-brand"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(3,671744,null,0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(4,1),(t()(),Do(5,0,null,null,0,"img",[["alt","Taller de Ajedrez"],["class","d-inline-block align-top"],["height","30"],["src","assets/images/logo2-50x65.webp"],["width","30"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Taller de Ajedrez "])),(t()(),Do(7,0,null,null,4,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.isMenuCollapsed=!i.isMenuCollapsed)&&r),r}),null,null)),(t()(),Do(8,0,null,null,3,"i",[["class","fas"]],null,null,null,null,null)),Jr(512,null,Ha,Ga,[yn,mn,$e,en]),Qr(10,278528,null,0,Wa,[Ha],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Go(11,{"fa-bars":0,"fa-times":1}),(t()(),Do(12,0,null,null,61,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),Qr(13,16384,null,0,Dh,[],{collapsed:[0,"collapsed"]},null),(t()(),Do(14,0,null,null,48,"ul",[["class","navbar-nav ml-auto"]],null,null,null,null,null)),(t()(),Do(15,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),Qr(16,1720320,null,2,dm,[lm,$e,en,[2,cm],[2,hm]],{routerLinkActive:[0,"routerLinkActive"]},null),Lo(603979776,1,{links:1}),Lo(603979776,2,{linksWithHrefs:1}),(t()(),Do(19,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,20).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(20,671744,[[2,4]],0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(21,1),(t()(),Do(22,0,null,null,0,"i",[["class","fas fa-home"]],null,null,null,null,null)),(t()(),Do(23,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),Qr(24,1720320,null,2,dm,[lm,$e,en,[2,cm],[2,hm]],{routerLinkActive:[0,"routerLinkActive"]},null),Lo(603979776,3,{links:1}),Lo(603979776,4,{linksWithHrefs:1}),(t()(),Do(27,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,28).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(28,671744,[[4,4]],0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(29,1),(t()(),Ko(-1,null,["Partidas"])),(t()(),Do(31,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),Qr(32,1720320,null,2,dm,[lm,$e,en,[2,cm],[2,hm]],{routerLinkActive:[0,"routerLinkActive"]},null),Lo(603979776,5,{links:1}),Lo(603979776,6,{linksWithHrefs:1}),(t()(),Do(35,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,36).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(36,671744,[[6,4]],0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(37,1),(t()(),Ko(-1,null,["Torneos"])),(t()(),Do(39,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),Qr(40,1720320,null,2,dm,[lm,$e,en,[2,cm],[2,hm]],{routerLinkActive:[0,"routerLinkActive"]},null),Lo(603979776,7,{links:1}),Lo(603979776,8,{linksWithHrefs:1}),(t()(),Do(43,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,44).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(44,671744,[[8,4]],0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(45,1),(t()(),Ko(-1,null,["Fotos"])),(t()(),Do(47,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),Qr(48,1720320,null,2,dm,[lm,$e,en,[2,cm],[2,hm]],{routerLinkActive:[0,"routerLinkActive"]},null),Lo(603979776,9,{links:1}),Lo(603979776,10,{linksWithHrefs:1}),(t()(),Do(51,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,52).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(52,671744,[[10,4]],0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(53,1),(t()(),Ko(-1,null,["Frases"])),(t()(),Do(55,0,null,null,7,"li",[["class","nav-item"],["routerLinkActive","active"]],null,null,null,null,null)),Qr(56,1720320,null,2,dm,[lm,$e,en,[2,cm],[2,hm]],{routerLinkActive:[0,"routerLinkActive"]},null),Lo(603979776,11,{links:1}),Lo(603979776,12,{linksWithHrefs:1}),(t()(),Do(59,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Mr(t,60).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),"click"===e&&(r=0!=(i.isMenuCollapsed=!0)&&r),r}),null,null)),Qr(60,671744,[[12,4]],0,hm,[lm,ty,sa],{routerLink:[0,"routerLink"]},null),Ho(61,1),(t()(),Ko(-1,null,["Dispositivos"])),(t()(),Do(63,0,null,null,5,"ul",[["class","navbar-nav d-none d-md-block"]],null,null,null,null,null)),(t()(),No(16777216,null,null,1,null,dw)),Qr(65,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,2,null,yw)),Qr(67,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),Yr(131072,ru,[be]),(t()(),No(16777216,null,null,1,null,mw)),Qr(70,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),(t()(),No(16777216,null,null,2,null,_w)),Qr(72,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null),Yr(131072,ru,[be])],(function(t,e){var n=e.component,r=t(e,4,0,"inicio");t(e,3,0,r);var i=t(e,11,0,n.isMenuCollapsed,!n.isMenuCollapsed);t(e,10,0,"fas",i),t(e,13,0,n.isMenuCollapsed),t(e,16,0,"active");var o=t(e,21,0,"inicio");t(e,20,0,o),t(e,24,0,"active");var s=t(e,29,0,"partidas");t(e,28,0,s),t(e,32,0,"active");var a=t(e,37,0,"torneos");t(e,36,0,a),t(e,40,0,"active");var u=t(e,45,0,"fotos");t(e,44,0,u),t(e,48,0,"active");var l=t(e,53,0,"frases");t(e,52,0,l),t(e,56,0,"active");var c=t(e,61,0,"dispositivos");t(e,60,0,c),t(e,65,0,!1===n.auth.loggedIn),t(e,67,0,jn(e,67,0,Mr(e,68).transform(n.auth.userProfile$))),t(e,70,0,!1===n.auth.loggedIn),t(e,72,0,jn(e,72,0,Mr(e,73).transform(n.auth.userProfile$)))}),(function(t,e){t(e,2,0,Mr(e,3).target,Mr(e,3).href),t(e,12,0,!0,!Mr(e,13).collapsed),t(e,19,0,Mr(e,20).target,Mr(e,20).href),t(e,27,0,Mr(e,28).target,Mr(e,28).href),t(e,35,0,Mr(e,36).target,Mr(e,36).href),t(e,43,0,Mr(e,44).target,Mr(e,44).href),t(e,51,0,Mr(e,52).target,Mr(e,52).href),t(e,59,0,Mr(e,60).target,Mr(e,60).href)}))}var ww=function(){function t(){_classCallCheck(this,t),this.didScroll=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"scrollTop",value:function(t){var e=window.setInterval((function(){var t=window.pageYOffset;t>0?window.scrollTo(0,t-20):window.clearInterval(e)}),10)}},{key:"onScroll",value:function(t){this.didScroll=t.path[1].scrollY>0}}]),t}(),kw=Un({encapsulation:0,styles:[[""]],data:{}});function Cw(t){return Jo(0,[(t()(),Do(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),Do(1,0,[["scroll",1]],null,2,"div",[["class","d-flex justify-content-end animated fadeIn"],["style","position: fixed; bottom: 15px; right: 0"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"a",[["class","btn btn-primary btn-lg mr-3"],["style","cursor: pointer;"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.scrollTop(n)&&r),r}),null,null)),(t()(),Do(3,0,null,null,0,"i",[["class","fas fa-angle-up"],["style","color: white;"]],null,null,null,null,null))],null,null)}function Ew(t){return Jo(0,[(t()(),No(16777216,null,null,1,null,Cw)),Qr(1,16384,null,0,Ja,[Cn,wn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.didScroll)}),null)}var Sw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Tw=Un({encapsulation:0,styles:[[""]],data:{}});function Iw(t){return Jo(0,[(t()(),Do(0,0,null,null,8,"div",[["class","jumbotron jumbotron-fluid"]],null,null,null,null,null)),(t()(),Do(1,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),Do(2,0,null,null,1,"h1",[["class","display-4 text-center"]],null,null,null,null,null)),(t()(),Ko(-1,null,[" Taller de Ajedrez en redes sociales "])),(t()(),Do(4,0,null,null,4,"div",[["class","d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Do(5,0,null,null,1,"a",[["href","https://www.facebook.com/TallerDeAjedrez"],["rel","noopener"],["target","_blank"]],null,null,null,null,null)),(t()(),Do(6,0,null,null,0,"i",[["class","fab fa-facebook-f fa-3x m-3"],["style","color: blue;"]],null,null,null,null,null)),(t()(),Do(7,0,null,null,1,"a",[["href","https://twitter.com/TallerDeAjedre2"],["rel","noopener"],["target","_blank"]],null,null,null,null,null)),(t()(),Do(8,0,null,null,0,"i",[["class","fab fa-twitter fa-3x m-3"],["style","color: lightblue;"]],null,null,null,null,null))],null,null)}var Aw=Un({encapsulation:0,styles:[[""]],data:{}});function xw(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-navbar",[],null,null,null,bw,fw)),Qr(1,114688,null,0,hw,[j_],null,null),(t()(),Do(2,0,null,null,4,"div",[["class","animated fadeIn slow"]],null,null,null,null,null)),(t()(),Do(3,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],(function(t,e,n){var r=!0;return"activate"===e&&(r=!1!==t.component.onActivate(n)&&r),r}),null,null)),Qr(4,212992,null,0,ym,[vm,Cn,Ke,[8,null],be],null,{activateEvents:"activate"}),(t()(),Do(5,0,null,null,1,"app-scroll-top",[],null,[["window","scroll"]],(function(t,e,n){var r=!0;return"window:scroll"===e&&(r=!1!==Mr(t,6).onScroll(n)&&r),r}),Ew,kw)),Qr(6,114688,null,0,ww,[],null,null),(t()(),Do(7,0,null,null,1,"app-footer",[],null,null,null,Iw,Tw)),Qr(8,114688,null,0,Sw,[],null,null)],(function(t,e){t(e,1,0),t(e,4,0),t(e,6,0),t(e,8,0)}),null)}var Nw=Er("app-root",ra,(function(t){return Jo(0,[(t()(),Do(0,0,null,null,1,"app-root",[],null,null,null,xw,Aw)),Qr(1,49152,null,0,ra,[],null,null)],null,null)}),{},{},[]),Dw=function t(){_classCallCheck(this,t)};function Ow(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Pw(t){return{type:6,styles:t,offset:null}}function Rw(t){Promise.resolve(null).then(t)}var Mw=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Rw((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),Lw=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,s=this.players.length;0==s?Rw((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++i==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function Fw(){return"undefined"!=typeof process}function Vw(t){switch(t.length){case 0:return new Mw;case 1:return t[0];default:return new Lw(t)}}function jw(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,l=null;if(r.forEach((function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a})),r||a.push(c),l=c,u=n})),s.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(s.join(c)))}return a}function Uw(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&qw(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&qw(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&qw(n,"destroy",t))}))}}function qw(t,e,n){var r=n.totalTime,i=zw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function zw(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Bw(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Hw(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Gw=function(t,e){return!1},Ww=function(t,e){return!1},Kw=function(t,e,n){return[]},Qw=Fw();(Qw||"undefined"!=typeof Element)&&(Gw=function(t,e){return t.contains(e)},Ww=function(){if(Qw||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Ww}(),Kw=function(t,e,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var Yw=null,Jw=!1;function $w(t){Yw||(Yw=("undefined"!=typeof document?document.body:null)||{},Jw=!!Yw.style&&"WebkitAppearance"in Yw.style);var e=!0;return Yw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Yw.style)&&Jw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Yw.style),e}var Xw=Ww,Zw=Gw,tk=Kw;function ek(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var nk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return $w(t)}},{key:"matchesElement",value:function(t,e){return Xw(t,e)}},{key:"containsElement",value:function(t,e){return Zw(t,e)}},{key:"query",value:function(t,e,n){return tk(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new Mw(n,r)}}]),t}(),rk=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new nk,t}();function ik(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ok(parseFloat(e[1]),e[2])}function ok(t,e){switch(e){case"s":return 1e3*t;default:return t}}function sk(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=ok(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=ok(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function ak(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function uk(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else ak(t,n);return n}function lk(t,e,n){return n?e+":"+n+";":""}function ck(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=lk(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=lk(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function hk(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=_k(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),Fw()&&ck(t))}function fk(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=_k(e);t.style[n]=""})),Fw()&&ck(t))}function dk(t){return Array.isArray(t)?1==t.length?t[0]:Ow(t):t}var pk=new RegExp("{{\\s*(.+?)\\s*}}","g");function vk(t){var e=[];if("string"==typeof t){for(var n,r=t.toString();n=pk.exec(r);)e.push(n[1]);pk.lastIndex=0}return e}function yk(t,e,n){var r=t.toString(),i=r.replace(pk,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?t:i}function mk(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var gk=/-+([a-z0-9])/g;function _k(t){return t.replace(gk,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function bk(t,e){return 0===t||0===e}function wk(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var s=function(){var n=e[a];o.forEach((function(e){n[e]=Ck(t,e)}))},a=1;a<e.length;a++)s()}return e}function kk(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function Ck(t,e){return window.getComputedStyle(t)[e]}var Ek=new Set(["true","1"]),Sk=new Set(["false","0"]);function Tk(t,e){var n=Ek.has(t)||Sk.has(t),r=Ek.has(e)||Sk.has(e);return function(i,o){var s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Ek.has(t):Sk.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Ek.has(e):Sk.has(e)),s&&a}}var Ik=new RegExp("s*:selfs*,?","g");function Ak(t,e,n){return new xk(t).build(e,n)}var xk=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Nk(e);return this._resetContextStyleTimingState(n),kk(this,dk(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,o.push(n.visitState(a,e))})),a.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Dk(t)){var e=t;Object.keys(e).forEach((function(t){vk(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var s=mk(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=kk(this,dk(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],s=i[2],a=i[3];e.push(Tk(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(Tk(a,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Ok(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return kk(n,t,e)})),options:Ok(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=kk(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:Ok(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Pk(sk(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=Pk(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Pk((n=n||sk(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Pw({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=Pw(a)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Dk(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,l,c,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(s=t[r],a=e.options,u=e.errors,l=a.params||{},(c=vk(s)).length&&c.forEach((function(t){l.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,l=t.steps.map((function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Dk(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Dk(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),a=a||c<0||c>1,s=s||c<u,u=c,o.push(c),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return l.forEach((function(t,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;e.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:kk(this,dk(t.animation),e),options:Ok(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Ok(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ok(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Ik,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=i[0],s=i[1];e.currentQuerySelector=n.length?n+" "+o:o,Bw(e.collectedStyles,e.currentQuerySelector,{});var a=kk(this,dk(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Ok(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:sk(t.timings,e.errors,!0);return{type:12,animation:kk(this,dk(t.animation),e),timings:n,options:null}}}]),t}(),Nk=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Dk(t){return!Array.isArray(t)&&"object"==typeof t}function Ok(t){var e;return t?(t=ak(t)).params&&(t.params=(e=t.params)?ak(e):null):t={},t}function Pk(t,e,n){return{duration:t,delay:e,easing:n}}function Rk(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Mk=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Lk=new RegExp(":enter","g"),Fk=new RegExp(":leave","g");function Vk(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new jk).buildKeyframes(t,e,n,r,i,o,s,a,u,l)}var jk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,s,a,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Mk;var c=new qk(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),kk(this,n,c);var h=c.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,c.errors,a)}return h.length?h.map((function(t){return t.buildKeyframes()})):[Rk(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?ik(n.duration):null,o=null!=n.delay?ik(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),kk(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Uk);var s=ik(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return kk(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?ik(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),kk(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return sk(e.params?yk(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?ik(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Uk);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){e.currentQueryIndex=i;var a=e.createSubContext(t.options,r);o&&a.delayNextStep(o),r===e.element&&(u=a.currentTimeline),kk(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var l=u.currentTime;kk(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),t}(),Uk={},qk=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new zk(this._driver,n,0),a.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=ik(r.duration)),null!=r.delay&&(i.delay=ik(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=yk(o[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Uk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Bk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,o){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Lk,"."+this._enterClassName)).replace(Fk,"."+this._leaveClassName);var a=this._driver.query(this.element,t,1!=n);0!==n&&(a=n<0?a.slice(a.length+n,a.length):a.slice(0,n)),s.push.apply(s,_toConsumableArray(a))}return i||0!=s.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),t}(),zk=function(){function t(e,n,r,i){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):uk(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=yk(s[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=uk(o,!0);Object.keys(a).forEach((function(t){var r=a[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(a.offset=s/t.duration),i.push(a)}));var o=e.size?mk(e.values()):[],s=n.size?mk(n.values()):[];if(r){var a=i[0],u=ak(a);a.offset=0,u.offset=1,i=[a,u]}return Rk(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Bk=function(t){function e(t,n,r,i,o,s){var a,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,s.delay))).element=n,a.keyframes=r,a.preStyleProps=i,a.postStyleProps=o,a._stretchStartingKeyframe=u,a.timings={duration:s.duration,delay:s.delay,easing:s.easing},a}return _inherits(e,t),_createClass(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=uk(t[0],!1);u.offset=0,o.push(u);var l=uk(t[0],!1);l.offset=Hk(a),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=uk(t[h],!1);f.offset=Hk((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",t=o}return Rk(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),e}(zk);function Hk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Gk=function t(){_classCallCheck(this,t)},Wk=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"normalizePropertyName",value:function(t,e){return _k(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(Kk[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),e}(Gk),Kk=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Qk(t,e,n,r,i,o,s,a,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var Yk={},Jk=function(){function t(e,n,r){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return _createClass(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,s,a,u,l){var c=[],h=this.ast.options&&this.ast.options.params||Yk,f=this.buildStyles(n,s&&s.params||Yk,c),d=a&&a.params||Yk,p=this.buildStyles(r,d,c),v=new Set,y=new Map,m=new Map,g="void"===r,_={params:Object.assign({},h,d)},b=l?[]:Vk(t,e,this.ast.animation,i,o,f,p,_,u,c),w=0;if(b.forEach((function(t){w=Math.max(t.duration+t.delay,w)})),c.length)return Qk(e,this._triggerName,n,r,g,f,p,[],[],y,m,w,c);b.forEach((function(t){var n=t.element,r=Bw(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=Bw(m,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=mk(v.values());return Qk(e,this._triggerName,n,r,g,f,p,b,k,y,m,w)}}]),t}(),$k=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},r=ak(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=yk(o,r,e)),n[t]=o}))}})),n}}]),t}(),Xk=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new $k(t.style,t.options&&t.options.params||{})})),Zk(this.states,"true","1"),Zk(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new Jk(e,t,r.states))})),this.fallbackTransition=new Jk(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Zk(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var tC=new Mk,eC=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],r=Ak(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=jw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=Vk(this._driver,e,s,"ng-enter","ng-leave",{},{},i,tC,o)).forEach((function(t){var e=Bw(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=Vw(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=zw(e,"","","");return Uw(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),nC=[],rC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oC=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=ak(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),sC=new oC("void"),aC=function(){function t(e,n,r){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pC(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=Bw(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var u=Bw(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(pC(t,"ng-trigger"),pC(t,"ng-trigger-"+e),u[e]=sC),function(){o._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new lC(this.id,e,t),a=this._engine.statesByElement.get(t);a||(pC(t,"ng-trigger"),pC(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],l=new oC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a[e]=l,u||(u=sC),"void"===l.value||u.value!==l.value){var c=Bw(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,l.value,t,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:s,isFallbackTransition:f}),f||(pC(t,"ng-animate-queued"),s.onStart((function(){vC(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),c.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){fk(t,p),hk(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Vw(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,s=e._engine.statesByElement.get(t)[i]||sC,a=new oC("void"),u=new lC(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}},{key:"insertNode",value:function(t,e){pC(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=e._elementListeners.get(o);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=zw(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Uw(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),uC=function(){function t(e,n,r){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new aC(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(cC(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(cC(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pC(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vC(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(cC(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return cC(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return Vw(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=rC,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)pC(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Vw(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Mk,i=[],o=new Map,s=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)c.add(e[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=dC(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(t,e){var n="ng-enter"+v++;p.set(e,n),t.forEach((function(t){return pC(t,n)}))}));for(var y=[],m=new Set,g=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],w=b.__ng_removed;w&&w.setForRemoval&&(y.push(b),m.add(b),w.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(t){return m.add(t)})):g.add(b))}var k=new Map,C=dC(f,Array.from(m));C.forEach((function(t,e){var n="ng-leave"+v++;k.set(e,n),t.forEach((function(t){return pC(t,n)}))})),t.push((function(){d.forEach((function(t,e){var n=p.get(e);t.forEach((function(t){return vC(t,n)}))})),C.forEach((function(t,e){var n=k.get(e);t.forEach((function(t){return vC(t,n)}))})),y.forEach((function(t){n.processLeaveNode(t)}))}));for(var E=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(E.push(e),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void e.destroy()}var f=!h||!n.driver.containsElement(h,o),d=k.get(o),v=p.get(o),y=n._buildInstruction(t,r,v,d,f);if(!y.errors||!y.errors.length)return f?(e.onStart((function(){return fk(o,y.fromStyles)})),e.onDestroy((function(){return hk(o,y.toStyles)})),void i.push(e)):t.isFallbackTransition?(e.onStart((function(){return fk(o,y.fromStyles)})),e.onDestroy((function(){return hk(o,y.toStyles)})),void i.push(e)):(y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(o,y.timelines),s.push({instruction:y,player:e,element:o}),y.queriedElements.forEach((function(t){return Bw(a,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=u.get(e);r||u.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),void y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))})));S.push(y)}));if(S.length){var I=[];S.forEach((function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return I.push("- ".concat(t,"\n"))}))})),E.forEach((function(t){return t.destroy()})),this.reportError(I)}var A=new Map,x=new Map;s.forEach((function(t){var e=t.element;r.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),i.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){Bw(A,e,[]).push(t),t.destroy()}))}));var N=y.filter((function(t){return mC(t,u,l)})),D=new Map;fC(D,this.driver,g,l,"*").forEach((function(t){mC(t,u,l)&&N.push(t)}));var O=new Map;d.forEach((function(t,e){fC(O,n.driver,new Set(t),u,"!")})),N.forEach((function(t){var e=D.get(t),n=O.get(t);D.set(t,Object.assign({},e,n))}));var P=[],R=[],M={};s.forEach((function(t){var e=t.element,s=t.player,a=t.instruction;if(r.has(e)){if(c.has(e))return s.onDestroy((function(){return hk(e,a.toStyles)})),s.disabled=!0,s.overrideTotalTime(a.totalTime),void i.push(s);var u=M;if(x.size>1){for(var l=e,h=[];l=l.parentNode;){var f=x.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(s.namespaceId,a,A,o,O,D);if(s.setRealPlayer(d),u===M)P.push(s);else{var p=n.playersByElement.get(u);p&&p.length&&(s.parentPlayer=Vw(p)),i.push(s)}}else fk(e,a.fromStyles),s.onDestroy((function(){return hk(e,a.toStyles)})),R.push(s),c.has(e)&&i.push(s)})),R.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=Vw(e);t.setRealPlayer(n)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<y.length;L++){var F=y[L],V=F.__ng_removed;if(vC(F,"ng-leave"),!V||!V.hasAnimation){var j=[];if(a.size){var U=a.get(F);U&&U.length&&j.push.apply(j,_toConsumableArray(U));for(var q=this.driver.query(F,".ng-animating",!0),z=0;z<q.length;z++){var B=a.get(q[z]);B&&B.length&&j.push.apply(j,_toConsumableArray(B))}}var H=j.filter((function(t){return!t.destroyed}));H.length?yC(this,F,H):this.processLeaveNode(F)}}return y.length=0,P.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),P}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!i||"void"==i;a.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r=this,i=e.element,o=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,a=!0,u=!1,l=void 0;try{for(var c,h=function(){var t=c.value.element,a=t!==i,u=Bw(n,t,[]);r._getPreviousPlayers(t,a,o,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)}))},f=e.timelines[Symbol.iterator]();!(a=(c=f.next()).done);a=!0)h()}catch(d){u=!0,l=d}finally{try{a||null==f.return||f.return()}finally{if(u)throw l}}fk(i,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var s=this,a=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Mw(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||nC).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof Lw?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),g=i.get(f),_=o.get(f),b=jw(0,s._normalizer,0,e.keyframes,g,_),w=s._buildPlayer(e,b,m);if(e.subTimeline&&r&&h.add(f),y){var k=new lC(t,a,f);k.setRealPlayer(w),l.push(k)}return w}));l.forEach((function(t){Bw(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return pC(t,"ng-animating")}));var d=Vw(f);return d.onDestroy((function(){c.forEach((function(t){return vC(t,"ng-animating")})),hk(u,e.toStyles)})),h.forEach((function(t){Bw(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Mw(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),lC=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Mw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return Uw(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){Bw(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function cC(t){return t&&1===t.nodeType}function hC(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function fC(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(hC(t))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=iC,s.push(r))})),t.set(r,o)}));var a=0;return n.forEach((function(t){return hC(t,o[a++])})),s}function dC(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function pC(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function vC(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function yC(t,e,n){Vw(n).onDone((function(){return t.processLeaveNode(e)}))}function mC(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var gC=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new uC(e,n,r),this._timelineEngine=new eC(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=Ak(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new Xk(t,e)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Hw(n),2),o=i[0],s=i[1];this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Hw(n),2),s=o[0],a=o[1];return this._timelineEngine.listen(s,e,a,i)}return this._transitionEngine.listen(t,e,n,r,i)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function _C(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=wC(e[0]),e.length>1&&(r=wC(e[e.length-1]))):e&&(n=wC(e)),n||r?new bC(t,n,r):null}var bC=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&hk(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(hk(this._element,this._initialStyles),this._endStyles&&(hk(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(fk(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fk(this._element,this._endStyles),this._endStyles=null),hk(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function wC(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];kC(i)&&((e=e||{})[i]=t[i])}return e}function kC(t){return"display"===t||"position"===t}var CC=function(){function t(e,n,r,i,o,s,a){var u=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=xC(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),AC(t,"",e),IC(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){EC(this._element,this._name,"paused")}},{key:"resume",value:function(){EC(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=SC(this._element,this._name);this._position=t*this._duration,AC(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),IC(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=xC(t,"").split(","),(r=TC(n,e))>=0&&(n.splice(r,1),AC(t,"",n.join(","))))}}]),t}();function EC(t,e,n){AC(t,"PlayState",n,SC(t,e))}function SC(t,e){var n=xC(t,"");return n.indexOf(",")>0?TC(n.split(","),e):TC([n],e)}function TC(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function IC(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function AC(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}t.style[i]=n}function xC(t,e){return t.style["animation"+e]}var NC=function(){function t(e,n,r,i,o,s,a,u){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new CC(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Ck(t.element,r))}))}this.currentSnapshot=e}}]),t}(),DC=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).element=t,r._startingStyles={},r.__initialized=!1,r._styles=ek(n),r}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(e.prototype),"destroy",this).call(this))}}]),e}(Mw),OC=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return $w(t)}},{key:"matchesElement",value:function(t,e){return Xw(t,e)}},{key:"containsElement",value:function(t,e){return Zw(t,e)}},{key:"query",value:function(t,e,n){return tk(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return ek(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(t){return t instanceof NC})),u={};bk(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=wk(t,e,u));if(0==n)return new DC(t,l);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var f=_C(t,e),d=new NC(t,e,c,n,r,i,l,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),PC=function(){function t(e,n,r,i){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Ck(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),RC=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(MC().toString()),this._cssKeyframesDriver=new OC}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return $w(t)}},{key:"matchesElement",value:function(t,e){return Xw(t,e)}},{key:"containsElement",value:function(t,e){return Zw(t,e)}},{key:"query",value:function(t,e,n){return tk(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},l=o.filter((function(t){return t instanceof PC}));bk(n,r)&&l.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=_C(t,e=wk(t,e=e.map((function(t){return uk(t,!1)})),u));return new PC(t,e,a,c)}}]),t}();function MC(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var LC=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._nextAnimationId=0,r._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}}),r}return _inherits(e,t),_createClass(e,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Ow(t):t;return jC(this._renderer,null,e,"register",[n]),new FC(e,this._renderer)}}]),e}(Dw),FC=function(t){function e(t,n){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._id=t,r._renderer=n,r}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e){return new VC(this._id,t,e||{},this._renderer)}}]),e}(function(){return function t(){_classCallCheck(this,t)}}()),VC=function(){function t(e,n,r,i){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return jC(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function jC(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var UC=function(){function t(e,n,r){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new qC("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function(e){return n.engine.registerTrigger(o,s,t,e.name,e)})),new zC(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}(),qC=function(){function t(e,n,r){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),zC=function(t){function e(t,n,r,i){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n,r,i))).factory=t,o.namespaceId=n,o}return _inherits(e,t),_createClass(e,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,i,o=this;if("@"==e.charAt(0)){var s,a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(s=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,a,u,l,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),e}(qC),BC=function(t){function e(t,n,r){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t.body,n,r))}return _inherits(e,t),e}(gC);function HC(){return"function"==typeof MC()?new RC:new OC}function GC(){return new Wk}function WC(t,e,n){return new UC(t,e,n)}var KC,QC=new Et("AnimationModuleType"),YC=function t(){_classCallCheck(this,t)},JC=((KC=function(){function t(e){_classCallCheck(this,t),this.auth=e}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return this.auth.isAuthenticated$.pipe(oh((function(t){t||n.auth.login(e.url)})))}}]),t}()).ngInjectableDef=ft({factory:function(){return new KC(Dt(j_))},token:KC,providedIn:"root"}),KC),$C=function t(){_classCallCheck(this,t)},XC=function t(){_classCallCheck(this,t)},ZC=new ea(na,[ra],(function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===ke&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Vn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([mr(512,Ke,Qe,[[8,[yd,jd,_p,kp,np,op,hp,Um,Gm,Og,Fg,Bg,Qg,Xg,u_,d_,m_,w_,S_,H_,Q_,ob,hb,cw,Nw]],[3,Ke],Rt]),mr(5120,xi,Io,[[3,xi]]),mr(4608,qa,za,[xi,[2,Ua]]),mr(4608,Rl,Rl,[]),mr(4608,Hf,Hf,[Ke,Ee,Bf,Pf]),mr(5120,hi,Ao,[Wi]),mr(5120,ki,Ci,[]),mr(5120,yn,So,[]),mr(5120,mn,To,[]),mr(4608,il,ol,[ou]),mr(6144,ve,null,[il]),mr(4608,$u,Zu,[]),mr(5120,Tu,(function(t,e,n,r,i,o,s,a){return[new Yu(t,e,n),new rl(r),new tl(i,o,s,a)]}),[ou,Wi,Ti,ou,ou,$u,Ai,[2,Xu]]),mr(4608,Iu,Iu,[Tu,Wi]),mr(135680,Nu,Nu,[ou]),mr(4608,Mu,Mu,[Iu,Nu,ki]),mr(5120,rk,HC,[]),mr(5120,Gk,GC,[]),mr(4608,gC,BC,[ou,rk,Gk]),mr(5120,Ze,WC,[Mu,gC,Wi]),mr(6144,xu,null,[Nu]),mr(4608,to,to,[Wi]),mr(5120,ty,Pm,[lm]),mr(4608,bm,bm,[]),mr(6144,gm,null,[bm]),mr(135680,wm,wm,[lm,fo,Fi,Ee,gm]),mr(4608,_m,_m,[]),mr(5120,km,Am,[lm,uu,Cm]),mr(5120,Fm,Lm,[Rm]),mr(5120,Ii,(function(t){return[t]}),[Fm]),mr(4608,bg,wg,[ou,Ti,gg]),mr(4608,kg,kg,[bg,_g]),mr(5120,fg,(function(t){return[t]}),[kg]),mr(4608,yg,yg,[]),mr(6144,vg,null,[yg]),mr(4608,mg,mg,[vg]),mr(6144,Qm,null,[mg]),mr(4608,Km,Cg,[Qm,Ee]),mr(4608,cg,cg,[Km]),mr(4608,Tc,Tc,[]),mr(5120,zb,Hb,[Vb,Wi,[2,jb]]),mr(4608,Dw,LC,[Ze,ou]),mr(4608,Zb,Zb,[Vb,[2,jb],[2,Wb],[2,Qb],Ti,Wi,[2,Kb]]),mr(1073742336,iu,iu,[]),mr(1073742336,Sh,Sh,[]),mr(1073742336,Ah,Ah,[]),mr(1073742336,xh,xh,[]),mr(1073742336,Nh,Nh,[]),mr(1073742336,Oh,Oh,[]),mr(1073742336,Sc,Sc,[]),mr(1073742336,Ic,Ic,[]),mr(1073742336,Sf,Sf,[]),mr(1073742336,Of,Of,[]),mr(1073742336,Gf,Gf,[]),mr(1073742336,Wf,Wf,[]),mr(1073742336,Kf,Kf,[]),mr(1073742336,ed,ed,[]),mr(1073742336,nd,nd,[]),mr(1073742336,rd,rd,[]),mr(1073742336,id,id,[]),mr(1073742336,od,od,[]),mr(1073742336,sd,sd,[]),mr(1073742336,ud,ud,[]),mr(1073742336,hd,hd,[]),mr(1073742336,fd,fd,[]),mr(1024,Bt,dl,[]),mr(1024,io,(function(){return[Tm()]}),[]),mr(512,Rm,Rm,[Ee]),mr(1024,bi,(function(t,e){return[(n=t,Cu("probe",Su),Cu("coreTokens",Object.assign({},Eu,(n||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return Su}),Mm(e)];var n}),[[2,io],Rm]),mr(512,wi,wi,[[2,bi]]),mr(131584,co,co,[Wi,Ai,Ee,Bt,Ke,wi]),mr(1073742336,xo,xo,[co]),mr(1073742336,pl,pl,[[3,pl]]),mr(1024,Em,Nm,[[3,lm]]),mr(512,Ov,Pv,[]),mr(512,vm,vm,[]),mr(256,Cm,{},[]),mr(1024,sa,xm,[ia,[2,aa],Cm]),mr(512,ua,ua,[sa,ia]),mr(512,Fi,Fi,[]),mr(512,fo,yo,[Fi,[2,po]]),mr(1024,nm,(function(){return[[{path:"inicio",component:qm},{path:"partidas",component:Wm},{path:"torneos",component:Rg},{path:"fotos",component:Vg},{path:"album/:id",component:Hg},{path:"foto/:album/:numero",component:Yg},{path:"buscar-album/:termino",component:Zg},{path:"frases",component:l_},{path:"dispositivos",component:p_},{path:"partidas-amistosas",component:g_},{path:"partida-tringov-fischer",component:k_},{path:"estudio-david-gurgenidze/1",component:T_},{path:"partida/:id",component:G_},{path:"buscar/:termino",component:Y_},{path:"perfil",component:sb,canActivate:[JC]},{path:"admin",component:fb,canActivate:[JC]},{path:"",pathMatch:"full",redirectTo:"inicio"},{path:"**",pathMatch:"full",redirectTo:"inicio"}]]}),[]),mr(1024,lm,Om,[co,Ov,vm,ua,Ee,fo,Fi,nm,Cm,[2,im],[2,tm]]),mr(1073742336,Im,Im,[[2,Em],[2,lm]]),mr(1073742336,$C,$C,[]),mr(1073742336,Eg,Eg,[]),mr(1073742336,Sg,Sg,[]),mr(1073742336,Ac,Ac,[]),mr(1073742336,Gb,Gb,[Ti]),mr(1073742336,YC,YC,[]),mr(1073742336,XC,XC,[]),mr(1073742336,na,na,[]),mr(256,ke,!0,[]),mr(256,gg,"XSRF-TOKEN",[]),mr(256,_g,"X-XSRF-TOKEN",[]),mr(256,Vb,{apiKey:"AIzaSyA0Ratgkb6-SARszea-lzHniNTRvxKK5Tg",authDomain:"taller-de-ajedrez-12741.firebaseapp.com",databaseURL:"https://taller-de-ajedrez-12741.firebaseio.com",projectId:"taller-de-ajedrez-12741",storageBucket:"taller-de-ajedrez-12741.appspot.com",messagingSenderId:"403845558025",appId:"1:403845558025:web:eac6a72813df605c792dd8"},[]),mr(256,jb,void 0,[]),mr(256,QC,"BrowserAnimations",[])])}));(function(){if(Gt)throw new Error("Cannot enable prod mode after platform setup.");Ht=!1})(),fl().bootstrapModuleFactory(ZC).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&a)<<2|l>>6,h=63&l;u||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new d(i,a),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function v(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(l(o[0])||""),n=m(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(u^l),o=1518500249):(i=a^u^l,o=1859775393):r<60?(i=a&u|l&(a|u),o=2400959708):(i=a^u^l,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function k(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=g,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=k,e.getUA=f,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=g(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);